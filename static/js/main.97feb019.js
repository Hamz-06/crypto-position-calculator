/*! For license information please see main.97feb019.js.LICENSE.txt */
(()=>{"use strict";var t={110:(t,e,n)=>{var i=n(309),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(t){return i.isMemo(t)?o:a[t.$$typeof]||r}a[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[i.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,i){if("string"!==typeof n){if(p){var r=d(n);r&&r!==p&&t(e,r,i)}var o=c(n);h&&(o=o.concat(h(n)));for(var a=l(e),m=l(n),g=0;g<o.length;++g){var v=o[g];if(!s[v]&&(!i||!i[v])&&(!m||!m[v])&&(!a||!a[v])){var y=f(n,v);try{u(e,v,y)}catch(w){}}}}return e}},746:(t,e)=>{var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case c:case h:case s:case a:case o:case d:return t;default:switch(t=t&&t.$$typeof){case u:case f:case g:case m:case l:return t;default:return e}}case r:return e}}}function S(t){return _(t)===h}e.AsyncMode=c,e.ConcurrentMode=h,e.ContextConsumer=u,e.ContextProvider=l,e.Element=i,e.ForwardRef=f,e.Fragment=s,e.Lazy=g,e.Memo=m,e.Portal=r,e.Profiler=a,e.StrictMode=o,e.Suspense=d,e.isAsyncMode=function(t){return S(t)||_(t)===c},e.isConcurrentMode=S,e.isContextConsumer=function(t){return _(t)===u},e.isContextProvider=function(t){return _(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return _(t)===f},e.isFragment=function(t){return _(t)===s},e.isLazy=function(t){return _(t)===g},e.isMemo=function(t){return _(t)===m},e.isPortal=function(t){return _(t)===r},e.isProfiler=function(t){return _(t)===a},e.isStrictMode=function(t){return _(t)===o},e.isSuspense=function(t){return _(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===h||t===a||t===o||t===d||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===m||t.$$typeof===l||t.$$typeof===u||t.$$typeof===f||t.$$typeof===y||t.$$typeof===w||t.$$typeof===b||t.$$typeof===v)},e.typeOf=_},309:(t,e,n)=>{t.exports=n(746)},463:(t,e,n)=>{var i=n(791),r=n(296);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,e){u(t,e),u(t+"Capture",e)}function u(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function m(t,e,n,i,r,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function w(t,e,n,i){var r=g.hasOwnProperty(e)?g[e]:null;(null!==r?0!==r.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!h.call(p,t)||!h.call(d,t)&&(f.test(t)?p[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function R(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=D&&t[D]||t["@@iterator"])?t:null}var L,j=Object.assign;function F(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var V=!1;function z(t,e){if(!t||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&"string"===typeof u.stack){for(var r=u.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?F(t):""}function U(t){switch(t.tag){case 5:return F(t.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return t=z(t.type,!1);case 11:return t=z(t.type.render,!1);case 1:return t=z(t.type,!0);default:return""}}function B(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case E:return"Fragment";case S:return"Portal";case T:return"Profiler";case k:return"StrictMode";case M:return"Suspense";case N:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case I:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case x:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case O:return null!==(e=t.displayName||null)?e:B(t.type)||"Memo";case P:e=t._payload,t=t._init;try{return B(t(e))}catch(n){}}return null}function W(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(e);case 8:return e===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function q(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function H(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function G(t){t._valueTracker||(t._valueTracker=function(t){var e=H(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function K(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=H(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function Q(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function X(t,e){var n=e.checked;return j({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function $(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=q(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Y(t,e){null!=(e=e.checked)&&w(t,"checked",e,!1)}function J(t,e){Y(t,e);var n=q(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,q(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Q(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+q(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return j({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(et(n)){if(1<n.length)throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:q(n)}}function st(t,e){var n=q(e.value),i=q(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ut,ct,ht=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ut=ut||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ut.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return ct(t,e)}))}:ct);function ft(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function mt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||dt.hasOwnProperty(t)&&dt[t]?(""+e).trim():e+"px"}function gt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=mt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(dt).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dt[e]=dt[t]}))}));var vt=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(vt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function wt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function _t(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var St=null,Et=null,kt=null;function Tt(t){if(t=wr(t)){if("function"!==typeof St)throw Error(s(280));var e=t.stateNode;e&&(e=_r(e),St(t.stateNode,t.type,e))}}function Ct(t){Et?kt?kt.push(t):kt=[t]:Et=t}function It(){if(Et){var t=Et,e=kt;if(kt=Et=null,Tt(t),e)for(t=0;t<e.length;t++)Tt(e[t])}}function xt(t,e){return t(e)}function Mt(){}var Nt=!1;function Ot(t,e,n){if(Nt)return t(e,n);Nt=!0;try{return xt(t,e,n)}finally{Nt=!1,(null!==Et||null!==kt)&&(Mt(),It())}}function Pt(t,e){var n=t.stateNode;if(null===n)return null;var i=_r(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}var At=!1;if(c)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){At=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch(ct){At=!1}function Rt(t,e,n,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Lt=!1,jt=null,Ft=!1,Vt=null,zt={onError:function(t){Lt=!0,jt=t}};function Ut(t,e,n,i,r,s,o,a,l){Lt=!1,jt=null,Rt.apply(zt,arguments)}function Bt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Wt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function qt(t){if(Bt(t)!==t)throw Error(s(188))}function Ht(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Bt(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return qt(r),t;if(o===i)return qt(r),e;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t))?Gt(t):null}function Gt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Gt(t);if(null!==e)return e;t=t.sibling}return null}var Kt=r.unstable_scheduleCallback,Qt=r.unstable_cancelCallback,Xt=r.unstable_shouldYield,$t=r.unstable_requestPaint,Yt=r.unstable_now,Jt=r.unstable_getCurrentPriorityLevel,Zt=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ne=r.unstable_LowPriority,ie=r.unstable_IdlePriority,re=null,se=null;var oe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var ue=64,ce=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fe(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=268435455&n;if(0!==o){var a=o&~r;0!==a?i=he(a):0!==(s&=o)&&(i=he(s))}else 0!==(o=n&~r)?i=he(o):0!==s&&(i=he(s));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&r)&&((r=i&-i)>=(s=e&-e)||16===r&&0!==(4194240&s)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)r=1<<(n=31-oe(e)),i|=t[n],e&=~r;return i}function de(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function me(){var t=ue;return 0===(4194240&(ue<<=1))&&(ue=64),t}function ge(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ve(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=n}function ye(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-oe(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var we=0;function be(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var _e,Se,Ee,ke,Te,Ce=!1,Ie=[],xe=null,Me=null,Ne=null,Oe=new Map,Pe=new Map,Ae=[],De="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Re(t,e){switch(t){case"focusin":case"focusout":xe=null;break;case"dragenter":case"dragleave":Me=null;break;case"mouseover":case"mouseout":Ne=null;break;case"pointerover":case"pointerout":Oe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pe.delete(e.pointerId)}}function Le(t,e,n,i,r,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==e&&(null!==(e=wr(e))&&Se(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function je(t){var e=yr(t.target);if(null!==e){var n=Bt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Wt(n)))return t.blockedOn=e,void Te(t.priority,(function(){Ee(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Fe(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=wr(n))&&Se(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);bt=i,n.target.dispatchEvent(i),bt=null,e.shift()}return!0}function Ve(t,e,n){Fe(t)&&n.delete(e)}function ze(){Ce=!1,null!==xe&&Fe(xe)&&(xe=null),null!==Me&&Fe(Me)&&(Me=null),null!==Ne&&Fe(Ne)&&(Ne=null),Oe.forEach(Ve),Pe.forEach(Ve)}function Ue(t,e){t.blockedOn===e&&(t.blockedOn=null,Ce||(Ce=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ze)))}function Be(t){function e(e){return Ue(e,t)}if(0<Ie.length){Ue(Ie[0],t);for(var n=1;n<Ie.length;n++){var i=Ie[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==xe&&Ue(xe,t),null!==Me&&Ue(Me,t),null!==Ne&&Ue(Ne,t),Oe.forEach(e),Pe.forEach(e),n=0;n<Ae.length;n++)(i=Ae[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Ae.length&&null===(n=Ae[0]).blockedOn;)je(n),null===n.blockedOn&&Ae.shift()}var We=b.ReactCurrentBatchConfig,qe=!0;function He(t,e,n,i){var r=we,s=We.transition;We.transition=null;try{we=1,Ke(t,e,n,i)}finally{we=r,We.transition=s}}function Ge(t,e,n,i){var r=we,s=We.transition;We.transition=null;try{we=4,Ke(t,e,n,i)}finally{we=r,We.transition=s}}function Ke(t,e,n,i){if(qe){var r=Xe(t,e,n,i);if(null===r)qi(t,e,i,Qe,n),Re(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return xe=Le(xe,t,e,n,i,r),!0;case"dragenter":return Me=Le(Me,t,e,n,i,r),!0;case"mouseover":return Ne=Le(Ne,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Oe.set(s,Le(Oe.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Pe.set(s,Le(Pe.get(s)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(Re(t,i),4&e&&-1<De.indexOf(t)){for(;null!==r;){var s=wr(r);if(null!==s&&_e(s),null===(s=Xe(t,e,n,i))&&qi(t,e,i,Qe,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else qi(t,e,i,null,n)}}var Qe=null;function Xe(t,e,n,i){if(Qe=null,null!==(t=yr(t=_t(i))))if(null===(e=Bt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Wt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qe=t,null}function $e(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case ie:return 536870912;default:return 16}default:return 16}}var Ye=null,Je=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=Je,i=n.length,r="value"in Ye?Ye.value:Ye.textContent,s=r.length;for(t=0;t<i&&n[t]===r[t];t++);var o=i-t;for(e=1;e<=o&&n[i-e]===r[s-e];e++);return Ze=r.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function sn(t){function e(e,n,i,r,s){for(var o in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var on,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=j({},un,{view:0,detail:0}),fn=sn(hn),dn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(on=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=on=0,ln=t),on)},movementY:function(t){return"movementY"in t?t.movementY:an}}),pn=sn(dn),mn=sn(j({},dn,{dataTransfer:0})),gn=sn(j({},hn,{relatedTarget:0})),vn=sn(j({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},un,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(j({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=En[t])&&!!e[t]}function Tn(){return kn}var Cn=j({},hn,{key:function(t){if(t.key){var e=_n[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Sn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),In=sn(Cn),xn=sn(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=sn(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Nn=sn(j({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=j({},dn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(On),An=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Rn,jn=c&&(!Dn||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Vn=!1;function zn(t,e){switch(t){case"keyup":return-1!==An.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wn[t.type]:"textarea"===e}function Hn(t,e,n,i){Ct(i),0<(e=Gi(e,"onChange")).length&&(n=new cn("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Gn=null,Kn=null;function Qn(t){Fi(t,0)}function Xn(t){if(K(br(t)))return t}function $n(t,e){if("change"===t)return e}var Yn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),Zn="function"===typeof ti.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function ei(){Gn&&(Gn.detachEvent("onpropertychange",ni),Kn=Gn=null)}function ni(t){if("value"===t.propertyName&&Xn(Kn)){var e=[];Hn(e,Kn,t,_t(t)),Ot(Qn,e)}}function ii(t,e,n){"focusin"===t?(ei(),Kn=n,(Gn=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function ri(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Xn(Kn)}function si(t,e){if("click"===t)return Xn(e)}function oi(t,e){if("input"===t||"change"===t)return Xn(e)}var ai="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function li(t,e){if(ai(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(e,r)||!ai(t[r],e[r]))return!1}return!0}function ui(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ci(t,e){var n,i=ui(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ui(i)}}function hi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fi(){for(var t=window,e=Q();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=Q((t=e.contentWindow).document)}return e}function di(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pi(t){var e=fi(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&di(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=ci(n,s);var o=ci(n,i);r&&o&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mi=c&&"documentMode"in document&&11>=document.documentMode,gi=null,vi=null,yi=null,wi=!1;function bi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wi||null==gi||gi!==Q(i)||("selectionStart"in(i=gi)&&di(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Gi(vi,"onSelect")).length&&(e=new cn("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=gi)))}function _i(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Si={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionend:_i("Transition","TransitionEnd")},Ei={},ki={};function Ti(t){if(Ei[t])return Ei[t];if(!Si[t])return t;var e,n=Si[t];for(e in n)if(n.hasOwnProperty(e)&&e in ki)return Ei[t]=n[e];return t}c&&(ki=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);var Ci=Ti("animationend"),Ii=Ti("animationiteration"),xi=Ti("animationstart"),Mi=Ti("transitionend"),Ni=new Map,Oi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(t,e){Ni.set(t,e),l(e,[t])}for(var Ai=0;Ai<Oi.length;Ai++){var Di=Oi[Ai];Pi(Di.toLowerCase(),"on"+(Di[0].toUpperCase()+Di.slice(1)))}Pi(Ci,"onAnimationEnd"),Pi(Ii,"onAnimationIteration"),Pi(xi,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(Mi,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Li=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function ji(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,r,o,a,l,u){if(Ut.apply(this,arguments),Lt){if(!Lt)throw Error(s(198));var c=jt;Lt=!1,jt=null,Ft||(Ft=!0,Vt=c)}}(i,e,void 0,t),t.currentTarget=null}function Fi(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break t;ji(r,a,u),s=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break t;ji(r,a,u),s=l}}}if(Ft)throw t=Vt,Ft=!1,Vt=null,t}function Vi(t,e){var n=e[mr];void 0===n&&(n=e[mr]=new Set);var i=t+"__bubble";n.has(i)||(Wi(e,t,2,!1),n.add(i))}function zi(t,e,n){var i=0;e&&(i|=4),Wi(n,t,i,e)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function Bi(t){if(!t[Ui]){t[Ui]=!0,o.forEach((function(e){"selectionchange"!==e&&(Li.has(e)||zi(e,!1,t),zi(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Ui]||(e[Ui]=!0,zi("selectionchange",!1,e))}}function Wi(t,e,n,i){switch($e(e)){case 1:var r=He;break;case 4:r=Ge;break;default:r=Ke}n=r.bind(null,e,n,t),r=void 0,!At||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function qi(t,e,n,i,r){var s=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==a;){if(null===(o=yr(a)))return;if(5===(l=o.tag)||6===l){i=s=o;continue t}a=a.parentNode}}i=i.return}Ot((function(){var i=s,r=_t(n),o=[];t:{var a=Ni.get(t);if(void 0!==a){var l=cn,u=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=In;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Ci:case Ii:case xi:l=vn;break;case Mi:l=Nn;break;case"scroll":l=fn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var c=0!==(4&e),h=!c&&"scroll"===t,f=c?null!==a?a+"Capture":null:a;c=[];for(var d,p=i;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&(null!=(m=Pt(p,f))&&c.push(Hi(p,m,d)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,r),o.push({event:a,listeners:c}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===bt||!(u=n.relatedTarget||n.fromElement)||!yr(u)&&!u[pr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(u=(u=n.relatedTarget||n.toElement)?yr(u):null)&&(u!==(h=Bt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=i),l!==u)){if(c=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=xn,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?a:br(l),d=null==u?a:br(u),(a=new c(m,p+"leave",l,n,r)).target=h,a.relatedTarget=d,m=null,yr(r)===i&&((c=new c(f,p+"enter",u,n,r)).target=d,c.relatedTarget=h,m=c),h=m,l&&u)t:{for(f=u,p=0,d=c=l;d;d=Ki(d))p++;for(d=0,m=f;m;m=Ki(m))d++;for(;0<p-d;)c=Ki(c),p--;for(;0<d-p;)f=Ki(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break t;c=Ki(c),f=Ki(f)}c=null}else c=null;null!==l&&Qi(o,a,l,c,!1),null!==u&&null!==h&&Qi(o,h,u,c,!0)}if("select"===(l=(a=i?br(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=$n;else if(qn(a))if(Yn)g=oi;else{g=ri;var v=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=si);switch(g&&(g=g(t,i))?Hn(o,g,n,r):(v&&v(t,a,i),"focusout"===t&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&tt(a,"number",a.value)),v=i?br(i):window,t){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gi=v,vi=i,yi=null);break;case"focusout":yi=vi=gi=null;break;case"mousedown":wi=!0;break;case"contextmenu":case"mouseup":case"dragend":wi=!1,bi(o,n,r);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":bi(o,n,r)}var y;if(Dn)t:{switch(t){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else Bn?zn(t,n)&&(w="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(w="onCompositionStart");w&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(y=tn()):(Je="value"in(Ye=r)?Ye.value:Ye.textContent,Bn=!0)),0<(v=Gi(i,w)).length&&(w=new bn(w,t,null,n,r),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=Un(n))&&(w.data=y))),(y=Ln?function(t,e){switch(t){case"compositionend":return Un(e);case"keypress":return 32!==e.which?null:(Vn=!0,Fn);case"textInput":return(t=e.data)===Fn&&Vn?null:t;default:return null}}(t,n):function(t,e){if(Bn)return"compositionend"===t||!Dn&&zn(t,e)?(t=tn(),Ze=Je=Ye=null,Bn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=Gi(i,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=y))}Fi(o,e)}))}function Hi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gi(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Pt(t,n))&&i.unshift(Hi(t,s,r)),null!=(s=Pt(t,e))&&i.push(Hi(t,s,r))),t=t.return}return i}function Ki(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Qi(t,e,n,i,r){for(var s=e._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==u&&(a=u,r?null!=(l=Pt(n,s))&&o.unshift(Hi(n,l,a)):r||null!=(l=Pt(n,s))&&o.push(Hi(n,l,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}var Xi=/\r\n?/g,$i=/\u0000|\uFFFD/g;function Yi(t){return("string"===typeof t?t:""+t).replace(Xi,"\n").replace($i,"")}function Ji(t,e,n){if(e=Yi(e),Yi(t)!==e&&n)throw Error(s(425))}function Zi(){}var tr=null,er=null;function nr(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(t){return sr.resolve(null).then(t).catch(ar)}:ir;function ar(t){setTimeout((function(){throw t}))}function lr(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return t.removeChild(r),void Be(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Be(e)}function ur(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function cr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hr=Math.random().toString(36).slice(2),fr="__reactFiber$"+hr,dr="__reactProps$"+hr,pr="__reactContainer$"+hr,mr="__reactEvents$"+hr,gr="__reactListeners$"+hr,vr="__reactHandles$"+hr;function yr(t){var e=t[fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[fr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=cr(t);null!==t;){if(n=t[fr])return n;t=cr(t)}return e}n=(t=n).parentNode}return null}function wr(t){return!(t=t[fr]||t[pr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function br(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function _r(t){return t[dr]||null}var Sr=[],Er=-1;function kr(t){return{current:t}}function Tr(t){0>Er||(t.current=Sr[Er],Sr[Er]=null,Er--)}function Cr(t,e){Er++,Sr[Er]=t.current,t.current=e}var Ir={},xr=kr(Ir),Mr=kr(!1),Nr=Ir;function Or(t,e){var n=t.type.contextTypes;if(!n)return Ir;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ar(){Tr(Mr),Tr(xr)}function Dr(t,e,n){if(xr.current!==Ir)throw Error(s(168));Cr(xr,e),Cr(Mr,n)}function Rr(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(s(108,W(t)||"Unknown",r));return j({},n,i)}function Lr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ir,Nr=xr.current,Cr(xr,t),Cr(Mr,Mr.current),!0}function jr(t,e,n){var i=t.stateNode;if(!i)throw Error(s(169));n?(t=Rr(t,e,Nr),i.__reactInternalMemoizedMergedChildContext=t,Tr(Mr),Tr(xr),Cr(xr,t)):Tr(Mr),Cr(Mr,n)}var Fr=null,Vr=!1,zr=!1;function Ur(t){null===Fr?Fr=[t]:Fr.push(t)}function Br(){if(!zr&&null!==Fr){zr=!0;var t=0,e=we;try{var n=Fr;for(we=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}Fr=null,Vr=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(t+1)),Kt(Zt,Br),r}finally{we=e,zr=!1}}return null}var Wr=[],qr=0,Hr=null,Gr=0,Kr=[],Qr=0,Xr=null,$r=1,Yr="";function Jr(t,e){Wr[qr++]=Gr,Wr[qr++]=Hr,Hr=t,Gr=e}function Zr(t,e,n){Kr[Qr++]=$r,Kr[Qr++]=Yr,Kr[Qr++]=Xr,Xr=t;var i=$r;t=Yr;var r=32-oe(i)-1;i&=~(1<<r),n+=1;var s=32-oe(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,$r=1<<32-oe(e)+r|n<<r|i,Yr=s+t}else $r=1<<s|n<<r|i,Yr=t}function ts(t){null!==t.return&&(Jr(t,1),Zr(t,1,0))}function es(t){for(;t===Hr;)Hr=Wr[--qr],Wr[qr]=null,Gr=Wr[--qr],Wr[qr]=null;for(;t===Xr;)Xr=Kr[--Qr],Kr[Qr]=null,Yr=Kr[--Qr],Kr[Qr]=null,$r=Kr[--Qr],Kr[Qr]=null}var ns=null,is=null,rs=!1,ss=null;function os(t,e){var n=Pu(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function as(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ns=t,is=ur(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ns=t,is=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Xr?{id:$r,overflow:Yr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Pu(18,null,null,0)).stateNode=e,n.return=t,t.child=n,ns=t,is=null,!0);default:return!1}}function ls(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function us(t){if(rs){var e=is;if(e){var n=e;if(!as(t,e)){if(ls(t))throw Error(s(418));e=ur(n.nextSibling);var i=ns;e&&as(t,e)?os(i,n):(t.flags=-4097&t.flags|2,rs=!1,ns=t)}}else{if(ls(t))throw Error(s(418));t.flags=-4097&t.flags|2,rs=!1,ns=t}}}function cs(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ns=t}function hs(t){if(t!==ns)return!1;if(!rs)return cs(t),rs=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!nr(t.type,t.memoizedProps)),e&&(e=is)){if(ls(t))throw fs(),Error(s(418));for(;e;)os(t,e),e=ur(e.nextSibling)}if(cs(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){is=ur(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}is=null}}else is=ns?ur(t.stateNode.nextSibling):null;return!0}function fs(){for(var t=is;t;)t=ur(t.nextSibling)}function ds(){is=ns=null,rs=!1}function ps(t){null===ss?ss=[t]:ss.push(t)}var ms=b.ReactCurrentBatchConfig;function gs(t,e){if(t&&t.defaultProps){for(var n in e=j({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var vs=kr(null),ys=null,ws=null,bs=null;function _s(){bs=ws=ys=null}function Ss(t){var e=vs.current;Tr(vs),t._currentValue=e}function Es(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ks(t,e){ys=t,bs=ws=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(ba=!0),t.firstContext=null)}function Ts(t){var e=t._currentValue;if(bs!==t)if(t={context:t,memoizedValue:e,next:null},null===ws){if(null===ys)throw Error(s(308));ws=t,ys.dependencies={lanes:0,firstContext:t}}else ws=ws.next=t;return e}var Cs=null;function Is(t){null===Cs?Cs=[t]:Cs.push(t)}function xs(t,e,n,i){var r=e.interleaved;return null===r?(n.next=n,Is(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ms(t,i)}function Ms(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Ns=!1;function Os(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function As(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ds(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Ml)){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ms(t,n)}return null===(r=i.interleaved)?(e.next=e,Is(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ms(t,n)}function Rs(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ye(t,n)}}function Ls(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?r=s=e:s=s.next=e}else r=s=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function js(t,e,n,i){var r=t.updateQueue;Ns=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=t.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=r.baseState;for(o=0,c=u=l=null,a=s;;){var f=a.lane,d=a.eventTime;if((i&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,m=a;switch(f=e,d=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(d,h,f);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(d,h,f):p)||void 0===f)break t;h=j({},h,f);break t;case 2:Ns=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(f=r.effects)?r.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=d,l=h):c=c.next=d,o|=f;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(f=a).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}if(null===c&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(e=r.shared.interleaved)){r=e;do{o|=r.lane,r=r.next}while(r!==e)}else null===s&&(r.shared.lanes=0);jl|=o,t.lanes=o,t.memoizedState=h}}function Fs(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var Vs=(new i.Component).refs;function zs(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:j({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var Us={isMounted:function(t){return!!(t=t._reactInternals)&&Bt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=eu(),r=nu(t),s=As(i,r);s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Ds(t,s,r))&&(iu(e,t,r,i),Rs(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=eu(),r=nu(t),s=As(i,r);s.tag=1,s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Ds(t,s,r))&&(iu(e,t,r,i),Rs(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=eu(),i=nu(t),r=As(n,i);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=Ds(t,r,i))&&(iu(e,t,i,n),Rs(e,t,i))}};function Bs(t,e,n,i,r,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!li(n,i)||!li(r,s))}function Ws(t,e,n){var i=!1,r=Ir,s=e.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(r=Pr(e)?Nr:xr.current,s=(i=null!==(i=e.contextTypes)&&void 0!==i)?Or(t,r):Ir),e=new e(n,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Us,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function qs(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Us.enqueueReplaceState(e,e.state,null)}function Hs(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=Vs,Os(t);var s=e.contextType;"object"===typeof s&&null!==s?r.context=Ts(s):(s=Pr(e)?Nr:xr.current,r.context=Or(t,s)),r.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(zs(t,e,s,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&Us.enqueueReplaceState(r,r.state,null),js(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}function Gs(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,t));var r=i,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=r.refs;e===Vs&&(e=r.refs={}),null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function Ks(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qs(t){return(0,t._init)(t._payload)}function Xs(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Du(t,e)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Fu(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function u(t,e,n,i){var s=n.type;return s===E?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Qs(s)===e.type)?((i=r(e,n.props)).ref=Gs(t,e,n),i.return=t,i):((i=Ru(n.type,n.key,n.props,null,t.mode,i)).ref=Gs(t,e,n),i.return=t,i)}function c(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Vu(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,s){return null===e||7!==e.tag?((e=Lu(n,t.mode,i,s)).return=t,e):((e=r(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Fu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case _:return(n=Ru(e.type,e.key,e.props,null,t.mode,n)).ref=Gs(t,null,e),n.return=t,n;case S:return(e=Vu(e,t.mode,n)).return=t,e;case P:return f(t,(0,e._init)(e._payload),n)}if(et(e)||R(e))return(e=Lu(e,t.mode,n,null)).return=t,e;Ks(t,e)}return null}function d(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===r?u(t,e,n,i):null;case S:return n.key===r?c(t,e,n,i):null;case P:return d(t,e,(r=n._init)(n._payload),i)}if(et(n)||R(n))return null!==r?null:h(t,e,n,i,null);Ks(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case _:return u(e,t=t.get(null===i.key?n:i.key)||null,i,r);case S:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case P:return p(t,e,n,(0,i._init)(i._payload),r)}if(et(i)||R(i))return h(e,t=t.get(n)||null,i,r,null);Ks(e,i)}return null}function m(r,s,a,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=d(r,h,a[m],l);if(null===v){null===h&&(h=g);break}t&&h&&null===v.alternate&&e(r,h),s=o(v,s,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===a.length)return n(r,h),rs&&Jr(r,m),u;if(null===h){for(;m<a.length;m++)null!==(h=f(r,a[m],l))&&(s=o(h,s,m),null===c?u=h:c.sibling=h,c=h);return rs&&Jr(r,m),u}for(h=i(r,h);m<a.length;m++)null!==(g=p(h,r,m,a[m],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return t&&h.forEach((function(t){return e(r,t)})),rs&&Jr(r,m),u}function g(r,a,l,u){var c=R(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=d(r,m,y.value,u);if(null===w){null===m&&(m=v);break}t&&m&&null===w.alternate&&e(r,m),a=o(w,a,g),null===h?c=w:h.sibling=w,h=w,m=v}if(y.done)return n(r,m),rs&&Jr(r,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(r,y.value,u))&&(a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return rs&&Jr(r,g),c}for(m=i(r,m);!y.done;g++,y=l.next())null!==(y=p(m,r,g,y.value,u))&&(t&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return t&&m.forEach((function(t){return e(r,t)})),rs&&Jr(r,g),c}return function t(i,s,o,l){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:t:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===E){if(7===c.tag){n(i,c.sibling),(s=r(c,o.props.children)).return=i,i=s;break t}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&Qs(u)===c.type){n(i,c.sibling),(s=r(c,o.props)).ref=Gs(i,c,o),s.return=i,i=s;break t}n(i,c);break}e(i,c),c=c.sibling}o.type===E?((s=Lu(o.props.children,i.mode,l,o.key)).return=i,i=s):((l=Ru(o.type,o.key,o.props,null,i.mode,l)).ref=Gs(i,s,o),l.return=i,i=l)}return a(i);case S:t:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(i,s.sibling),(s=r(s,o.children||[])).return=i,i=s;break t}n(i,s);break}e(i,s),s=s.sibling}(s=Vu(o,i.mode,l)).return=i,i=s}return a(i);case P:return t(i,s,(c=o._init)(o._payload),l)}if(et(o))return m(i,s,o,l);if(R(o))return g(i,s,o,l);Ks(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,o)).return=i,i=s):(n(i,s),(s=Fu(o,i.mode,l)).return=i,i=s),a(i)):n(i,s)}}var $s=Xs(!0),Ys=Xs(!1),Js={},Zs=kr(Js),to=kr(Js),eo=kr(Js);function no(t){if(t===Js)throw Error(s(174));return t}function io(t,e){switch(Cr(eo,e),Cr(to,t),Cr(Zs,Js),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Tr(Zs),Cr(Zs,e)}function ro(){Tr(Zs),Tr(to),Tr(eo)}function so(t){no(eo.current);var e=no(Zs.current),n=lt(e,t.type);e!==n&&(Cr(to,t),Cr(Zs,n))}function oo(t){to.current===t&&(Tr(Zs),Tr(to))}var ao=kr(0);function lo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var uo=[];function co(){for(var t=0;t<uo.length;t++)uo[t]._workInProgressVersionPrimary=null;uo.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,mo=null,go=null,vo=null,yo=!1,wo=!1,bo=0,_o=0;function So(){throw Error(s(321))}function Eo(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function ko(t,e,n,i,r,o){if(po=o,mo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ho.current=null===t||null===t.memoizedState?aa:la,t=n(i,r),wo){o=0;do{if(wo=!1,bo=0,25<=o)throw Error(s(301));o+=1,vo=go=null,e.updateQueue=null,ho.current=ua,t=n(i,r)}while(wo)}if(ho.current=oa,e=null!==go&&null!==go.next,po=0,vo=go=mo=null,yo=!1,e)throw Error(s(300));return t}function To(){var t=0!==bo;return bo=0,t}function Co(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=t:vo=vo.next=t,vo}function Io(){if(null===go){var t=mo.alternate;t=null!==t?t.memoizedState:null}else t=go.next;var e=null===vo?mo.memoizedState:vo.next;if(null!==e)vo=e,go=t;else{if(null===t)throw Error(s(310));t={memoizedState:(go=t).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=t:vo=vo.next=t}return vo}function xo(t,e){return"function"===typeof e?e(t):e}function Mo(t){var e=Io(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=go,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((po&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,a=i):u=u.next=f,mo.lanes|=h,jl|=h}c=c.next}while(null!==c&&c!==o);null===u?a=i:u.next=l,ai(i,e.memoizedState)||(ba=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=u,n.lastRenderedState=i}if(null!==(t=n.interleaved)){r=t;do{o=r.lane,mo.lanes|=o,jl|=o,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function No(t){var e=Io(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=t(o,a.action),a=a.next}while(a!==r);ai(o,e.memoizedState)||(ba=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function Oo(){}function Po(t,e){var n=mo,i=Io(),r=e(),o=!ai(i.memoizedState,r);if(o&&(i.memoizedState=r,ba=!0),i=i.queue,qo(Ro.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Vo(9,Do.bind(null,n,i,r,e),void 0,null),null===Nl)throw Error(s(349));0!==(30&po)||Ao(n,e,r)}return r}function Ao(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=mo.updateQueue)?(e={lastEffect:null,stores:null},mo.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Do(t,e,n,i){e.value=n,e.getSnapshot=i,Lo(e)&&jo(t)}function Ro(t,e,n){return n((function(){Lo(e)&&jo(t)}))}function Lo(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch(i){return!0}}function jo(t){var e=Ms(t,1);null!==e&&iu(e,t,1,-1)}function Fo(t){var e=Co();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:t},e.queue=t,t=t.dispatch=na.bind(null,mo,t),[e.memoizedState,t]}function Vo(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=mo.updateQueue)?(e={lastEffect:null,stores:null},mo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function zo(){return Io().memoizedState}function Uo(t,e,n,i){var r=Co();mo.flags|=t,r.memoizedState=Vo(1|e,n,void 0,void 0===i?null:i)}function Bo(t,e,n,i){var r=Io();i=void 0===i?null:i;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==i&&Eo(i,o.deps))return void(r.memoizedState=Vo(e,n,s,i))}mo.flags|=t,r.memoizedState=Vo(1|e,n,s,i)}function Wo(t,e){return Uo(8390656,8,t,e)}function qo(t,e){return Bo(2048,8,t,e)}function Ho(t,e){return Bo(4,2,t,e)}function Go(t,e){return Bo(4,4,t,e)}function Ko(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Qo(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Bo(4,4,Ko.bind(null,e,t),n)}function Xo(){}function $o(t,e){var n=Io();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Eo(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Yo(t,e){var n=Io();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Eo(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Jo(t,e,n){return 0===(21&po)?(t.baseState&&(t.baseState=!1,ba=!0),t.memoizedState=n):(ai(n,e)||(n=me(),mo.lanes|=n,jl|=n,t.baseState=!0),e)}function Zo(t,e){var n=we;we=0!==n&&4>n?n:4,t(!0);var i=fo.transition;fo.transition={};try{t(!1),e()}finally{we=n,fo.transition=i}}function ta(){return Io().memoizedState}function ea(t,e,n){var i=nu(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ia(t))ra(e,n);else if(null!==(n=xs(t,e,n,i))){iu(n,t,i,eu()),sa(n,e,i)}}function na(t,e,n){var i=nu(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ia(t))ra(e,r);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,o)){var l=e.interleaved;return null===l?(r.next=r,Is(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(u){}null!==(n=xs(t,e,r,i))&&(iu(n,t,i,r=eu()),sa(n,e,i))}}function ia(t){var e=t.alternate;return t===mo||null!==e&&e===mo}function ra(t,e){wo=yo=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sa(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ye(t,n)}}var oa={readContext:Ts,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},aa={readContext:Ts,useCallback:function(t,e){return Co().memoizedState=[t,void 0===e?null:e],t},useContext:Ts,useEffect:Wo,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Uo(4194308,4,Ko.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Uo(4,2,t,e)},useMemo:function(t,e){var n=Co();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Co();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=ea.bind(null,mo,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},Co().memoizedState=t},useState:Fo,useDebugValue:Xo,useDeferredValue:function(t){return Co().memoizedState=t},useTransition:function(){var t=Fo(!1),e=t[0];return t=Zo.bind(null,t[1]),Co().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=mo,r=Co();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=e(),null===Nl)throw Error(s(349));0!==(30&po)||Ao(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Wo(Ro.bind(null,i,o,t),[t]),i.flags|=2048,Vo(9,Do.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Co(),e=Nl.identifierPrefix;if(rs){var n=Yr;e=":"+e+"R"+(n=($r&~(1<<32-oe($r)-1)).toString(32)+n),0<(n=bo++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=_o++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},la={readContext:Ts,useCallback:$o,useContext:Ts,useEffect:qo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Yo,useReducer:Mo,useRef:zo,useState:function(){return Mo(xo)},useDebugValue:Xo,useDeferredValue:function(t){return Jo(Io(),go.memoizedState,t)},useTransition:function(){return[Mo(xo)[0],Io().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:ta,unstable_isNewReconciler:!1},ua={readContext:Ts,useCallback:$o,useContext:Ts,useEffect:qo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Yo,useReducer:No,useRef:zo,useState:function(){return No(xo)},useDebugValue:Xo,useDeferredValue:function(t){var e=Io();return null===go?e.memoizedState=t:Jo(e,go.memoizedState,t)},useTransition:function(){return[No(xo)[0],Io().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:ta,unstable_isNewReconciler:!1};function ca(t,e){try{var n="",i=e;do{n+=U(i),i=i.return}while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:r,digest:null}}function ha(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function fa(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function pa(t,e,n){(n=As(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Hl||(Hl=!0,Gl=i),fa(0,e)},n}function ma(t,e,n){(n=As(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){fa(0,e)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){fa(0,e),"function"!==typeof i&&(null===Kl?Kl=new Set([this]):Kl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ga(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new da;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Cu.bind(null,t,e,n),e.then(t,t))}function va(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ya(t,e,n,i,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=As(-1,1)).tag=2,Ds(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var wa=b.ReactCurrentOwner,ba=!1;function _a(t,e,n,i){e.child=null===t?Ys(e,null,n,i):$s(e,t.child,n,i)}function Sa(t,e,n,i,r){n=n.render;var s=e.ref;return ks(e,r),i=ko(t,e,n,i,s,r),n=To(),null===t||ba?(rs&&n&&ts(e),e.flags|=1,_a(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ha(t,e,r))}function Ea(t,e,n,i,r){if(null===t){var s=n.type;return"function"!==typeof s||Au(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Ru(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,ka(t,e,s,i,r))}if(s=t.child,0===(t.lanes&r)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&t.ref===e.ref)return Ha(t,e,r)}return e.flags|=1,(t=Du(s,i)).ref=e.ref,t.return=e,e.child=t}function ka(t,e,n,i,r){if(null!==t){var s=t.memoizedProps;if(li(s,i)&&t.ref===e.ref){if(ba=!1,e.pendingProps=i=s,0===(t.lanes&r))return e.lanes=t.lanes,Ha(t,e,r);0!==(131072&t.flags)&&(ba=!0)}}return Ia(t,e,n,i,r)}function Ta(t,e,n){var i=e.pendingProps,r=i.children,s=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Dl,Al),Al|=n;else{if(0===(1073741824&n))return t=null!==s?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Cr(Dl,Al),Al|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,Cr(Dl,Al),Al|=i}else null!==s?(i=s.baseLanes|n,e.memoizedState=null):i=n,Cr(Dl,Al),Al|=i;return _a(t,e,r,n),e.child}function Ca(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ia(t,e,n,i,r){var s=Pr(n)?Nr:xr.current;return s=Or(e,s),ks(e,r),n=ko(t,e,n,i,s,r),i=To(),null===t||ba?(rs&&i&&ts(e),e.flags|=1,_a(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ha(t,e,r))}function xa(t,e,n,i,r){if(Pr(n)){var s=!0;Lr(e)}else s=!1;if(ks(e,r),null===e.stateNode)qa(t,e),Ws(e,n,i),Hs(e,n,i,r),i=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ts(u):u=Or(e,u=Pr(n)?Nr:xr.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==u)&&qs(e,o,i,u),Ns=!1;var f=e.memoizedState;o.state=f,js(e,i,o,r),l=e.memoizedState,a!==i||f!==l||Mr.current||Ns?("function"===typeof c&&(zs(e,n,c,i),l=e.memoizedState),(a=Ns||Bs(e,n,a,i,f,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):("function"===typeof o.componentDidMount&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Ps(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:gs(e.type,a),o.props=u,h=e.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ts(l):l=Or(e,l=Pr(n)?Nr:xr.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||f!==l)&&qs(e,o,i,l),Ns=!1,f=e.memoizedState,o.state=f,js(e,i,o,r);var p=e.memoizedState;a!==h||f!==p||Mr.current||Ns?("function"===typeof d&&(zs(e,n,d,i),p=e.memoizedState),(u=Ns||Bs(e,n,u,i,f,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=u):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return Ma(t,e,n,i,s,r)}function Ma(t,e,n,i,r,s){Ca(t,e);var o=0!==(128&e.flags);if(!i&&!o)return r&&jr(e,n,!1),Ha(t,e,s);i=e.stateNode,wa.current=e;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&o?(e.child=$s(e,t.child,null,s),e.child=$s(e,null,a,s)):_a(t,e,a,s),e.memoizedState=i.state,r&&jr(e,n,!0),e.child}function Na(t){var e=t.stateNode;e.pendingContext?Dr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Dr(0,e.context,!1),io(t,e.containerInfo)}function Oa(t,e,n,i,r){return ds(),ps(r),e.flags|=256,_a(t,e,n,i),e.child}var Pa,Aa,Da,Ra,La={dehydrated:null,treeContext:null,retryLane:0};function ja(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fa(t,e,n){var i,r=e.pendingProps,o=ao.current,a=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&o)),i?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Cr(ao,1&o),null===t)return us(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=ju(l,r,0,null),t=Lu(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=ja(n),e.memoizedState=La,t):Va(e,l));if(null!==(o=t.memoizedState)&&null!==(i=o.dehydrated))return function(t,e,n,i,r,o,a){if(n)return 256&e.flags?(e.flags&=-257,za(t,e,a,i=ha(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=ju({mode:"visible",children:i.children},r,0,null),(o=Lu(o,r,a,null)).flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,0!==(1&e.mode)&&$s(e,t.child,null,a),e.child.memoizedState=ja(a),e.memoizedState=La,o);if(0===(1&e.mode))return za(t,e,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,za(t,e,a,i=ha(o=Error(s(419)),i,void 0))}if(l=0!==(a&t.childLanes),ba||l){if(null!==(i=Nl)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Ms(t,r),iu(i,t,r,-1))}return gu(),za(t,e,a,i=ha(Error(s(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=xu.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,is=ur(r.nextSibling),ns=e,rs=!0,ss=null,null!==t&&(Kr[Qr++]=$r,Kr[Qr++]=Yr,Kr[Qr++]=Xr,$r=t.id,Yr=t.overflow,Xr=e),e=Va(e,i.children),e.flags|=4096,e)}(t,e,l,r,i,o,n);if(a){a=r.fallback,l=e.mode,i=(o=t.child).sibling;var u={mode:"hidden",children:r.children};return 0===(1&l)&&e.child!==o?((r=e.child).childLanes=0,r.pendingProps=u,e.deletions=null):(r=Du(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==i?a=Du(i,a):(a=Lu(a,l,n,null)).flags|=2,a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=null===(l=t.child.memoizedState)?ja(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=La,r}return t=(a=t.child).sibling,r=Du(a,{mode:"visible",children:r.children}),0===(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Va(t,e){return(e=ju({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function za(t,e,n,i){return null!==i&&ps(i),$s(e,t.child,null,n),(t=Va(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Ua(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),Es(t.return,e,n)}function Ba(t,e,n,i,r){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Wa(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(_a(t,e,i.children,n),0!==(2&(i=ao.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ua(t,n,e);else if(19===t.tag)Ua(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Cr(ao,i),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===lo(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ba(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===lo(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ba(e,!0,n,null,s);break;case"together":Ba(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qa(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ha(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),jl|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Du(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Du(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ga(t,e){if(!rs)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ka(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Qa(t,e,n){var i=e.pendingProps;switch(es(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(e),null;case 1:case 17:return Pr(e.type)&&Ar(),Ka(e),null;case 3:return i=e.stateNode,ro(),Tr(Mr),Tr(xr),co(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(hs(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==ss&&(au(ss),ss=null))),Aa(t,e),Ka(e),null;case 5:oo(e);var r=no(eo.current);if(n=e.type,null!==t&&null!=e.stateNode)Da(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(s(166));return Ka(e),null}if(t=no(Zs.current),hs(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[fr]=e,i[dr]=o,t=0!==(1&e.mode),n){case"dialog":Vi("cancel",i),Vi("close",i);break;case"iframe":case"object":case"embed":Vi("load",i);break;case"video":case"audio":for(r=0;r<Ri.length;r++)Vi(Ri[r],i);break;case"source":Vi("error",i);break;case"img":case"image":case"link":Vi("error",i),Vi("load",i);break;case"details":Vi("toggle",i);break;case"input":$(i,o),Vi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Vi("invalid",i);break;case"textarea":rt(i,o),Vi("invalid",i)}for(var l in yt(n,o),r=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?i.textContent!==u&&(!0!==o.suppressHydrationWarning&&Ji(i.textContent,u,t),r=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Ji(i.textContent,u,t),r=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Vi("scroll",i)}switch(n){case"input":G(i),Z(i,o,!0);break;case"textarea":G(i),ot(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=Zi)}i=r,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[fr]=e,t[dr]=i,Pa(t,e,!1,!1),e.stateNode=t;t:{switch(l=wt(n,i),n){case"dialog":Vi("cancel",t),Vi("close",t),r=i;break;case"iframe":case"object":case"embed":Vi("load",t),r=i;break;case"video":case"audio":for(r=0;r<Ri.length;r++)Vi(Ri[r],t);r=i;break;case"source":Vi("error",t),r=i;break;case"img":case"image":case"link":Vi("error",t),Vi("load",t),r=i;break;case"details":Vi("toggle",t),r=i;break;case"input":$(t,i),r=X(t,i),Vi("invalid",t);break;case"option":default:r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=j({},i,{value:void 0}),Vi("invalid",t);break;case"textarea":rt(t,i),r=it(t,i),Vi("invalid",t)}for(o in yt(n,r),u=r)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?gt(t,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&ht(t,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&ft(t,c):"number"===typeof c&&ft(t,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Vi("scroll",t):null!=c&&w(t,o,c,l))}switch(n){case"input":G(t),Z(t,i,!1);break;case"textarea":G(t),ot(t);break;case"option":null!=i.value&&t.setAttribute("value",""+q(i.value));break;case"select":t.multiple=!!i.multiple,null!=(o=i.value)?nt(t,!!i.multiple,o,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ka(e),null;case 6:if(t&&null!=e.stateNode)Ra(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(s(166));if(n=no(eo.current),no(Zs.current),hs(e)){if(i=e.stateNode,n=e.memoizedProps,i[fr]=e,(o=i.nodeValue!==n)&&null!==(t=ns))switch(t.tag){case 3:Ji(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&t.mode))}o&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[fr]=e,e.stateNode=i}return Ka(e),null;case 13:if(Tr(ao),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(rs&&null!==is&&0!==(1&e.mode)&&0===(128&e.flags))fs(),ds(),e.flags|=98560,o=!1;else if(o=hs(e),null!==i&&null!==i.dehydrated){if(null===t){if(!o)throw Error(s(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(s(317));o[fr]=e}else ds(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ka(e),o=!1}else null!==ss&&(au(ss),ss=null),o=!0;if(!o)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ao.current)?0===Rl&&(Rl=3):gu())),null!==e.updateQueue&&(e.flags|=4),Ka(e),null);case 4:return ro(),Aa(t,e),null===t&&Bi(e.stateNode.containerInfo),Ka(e),null;case 10:return Ss(e.type._context),Ka(e),null;case 19:if(Tr(ao),null===(o=e.memoizedState))return Ka(e),null;if(i=0!==(128&e.flags),null===(l=o.rendering))if(i)Ga(o,!1);else{if(0!==Rl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=lo(t))){for(e.flags|=128,Ga(o,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Cr(ao,1&ao.current|2),e.child}t=t.sibling}null!==o.tail&&Yt()>Wl&&(e.flags|=128,i=!0,Ga(o,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=lo(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Ga(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!rs)return Ka(e),null}else 2*Yt()-o.renderingStartTime>Wl&&1073741824!==n&&(e.flags|=128,i=!0,Ga(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=o.last)?n.sibling=l:e.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Yt(),e.sibling=null,n=ao.current,Cr(ao,i?1&n|2:1&n),e):(Ka(e),null);case 22:case 23:return fu(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&Al)&&(Ka(e),6&e.subtreeFlags&&(e.flags|=8192)):Ka(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function Xa(t,e){switch(es(e),e.tag){case 1:return Pr(e.type)&&Ar(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return ro(),Tr(Mr),Tr(xr),co(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return oo(e),null;case 13:if(Tr(ao),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));ds()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Tr(ao),null;case 4:return ro(),null;case 10:return Ss(e.type._context),null;case 22:case 23:return fu(),null;default:return null}}Pa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Aa=function(){},Da=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":r=X(t,r),i=X(t,i),o=[];break;case"select":r=j({},r,{value:void 0}),i=j({},i,{value:void 0}),o=[];break;case"textarea":r=it(t,r),i=it(t,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(t.onclick=Zi)}for(c in yt(n,i),n=null,r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var u=i[c];if(l=null!=r?r[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Vi("scroll",t),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}},Ra=function(t,e,n,i){n!==i&&(e.flags|=4)};var $a=!1,Ya=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function tl(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Tu(t,e,i)}else n.current=null}function el(t,e,n){try{n()}catch(i){Tu(t,e,i)}}var nl=!1;function il(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,void 0!==s&&el(e,n,s)}r=r.next}while(r!==i)}}function rl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function sl(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[fr],delete e[dr],delete e[mr],delete e[gr],delete e[vr])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function al(t){return 5===t.tag||3===t.tag||4===t.tag}function ll(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||al(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ul(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zi));else if(4!==i&&null!==(t=t.child))for(ul(t,e,n),t=t.sibling;null!==t;)ul(t,e,n),t=t.sibling}function cl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}var hl=null,fl=!1;function dl(t,e,n){for(n=n.child;null!==n;)pl(t,e,n),n=n.sibling}function pl(t,e,n){if(se&&"function"===typeof se.onCommitFiberUnmount)try{se.onCommitFiberUnmount(re,n)}catch(a){}switch(n.tag){case 5:Ya||tl(n,e);case 6:var i=hl,r=fl;hl=null,dl(t,e,n),fl=r,null!==(hl=i)&&(fl?(t=hl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(fl?(t=hl,n=n.stateNode,8===t.nodeType?lr(t.parentNode,n):1===t.nodeType&&lr(t,n),Be(t)):lr(hl,n.stateNode));break;case 4:i=hl,r=fl,hl=n.stateNode.containerInfo,fl=!0,dl(t,e,n),hl=i,fl=r;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,e,o),r=r.next}while(r!==i)}dl(t,e,n);break;case 1:if(!Ya&&(tl(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Tu(n,e,a)}dl(t,e,n);break;case 21:dl(t,e,n);break;case 22:1&n.mode?(Ya=(i=Ya)||null!==n.memoizedState,dl(t,e,n),Ya=i):dl(t,e,n);break;default:dl(t,e,n)}}function ml(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Ja),e.forEach((function(e){var i=Mu.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}function gl(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,fl=!1;break t;case 3:case 4:hl=l.stateNode.containerInfo,fl=!0;break t}l=l.return}if(null===hl)throw Error(s(160));pl(o,a,r),hl=null,fl=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(c){Tu(r,e,c)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)vl(e,t),e=e.sibling}function vl(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gl(e,t),yl(t),4&i){try{il(3,t,t.return),rl(3,t)}catch(g){Tu(t,t.return,g)}try{il(5,t,t.return)}catch(g){Tu(t,t.return,g)}}break;case 1:gl(e,t),yl(t),512&i&&null!==n&&tl(n,n.return);break;case 5:if(gl(e,t),yl(t),512&i&&null!==n&&tl(n,n.return),32&t.flags){var r=t.stateNode;try{ft(r,"")}catch(g){Tu(t,t.return,g)}}if(4&i&&null!=(r=t.stateNode)){var o=t.memoizedProps,a=null!==n?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Y(r,o),wt(l,a);var c=wt(l,o);for(a=0;a<u.length;a+=2){var h=u[a],f=u[a+1];"style"===h?gt(r,f):"dangerouslySetInnerHTML"===h?ht(r,f):"children"===h?ft(r,f):w(r,h,f,c)}switch(l){case"input":J(r,o);break;case"textarea":st(r,o);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?nt(r,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?nt(r,!!o.multiple,o.defaultValue,!0):nt(r,!!o.multiple,o.multiple?[]:"",!1))}r[dr]=o}catch(g){Tu(t,t.return,g)}}break;case 6:if(gl(e,t),yl(t),4&i){if(null===t.stateNode)throw Error(s(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(g){Tu(t,t.return,g)}}break;case 3:if(gl(e,t),yl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Be(e.containerInfo)}catch(g){Tu(t,t.return,g)}break;case 4:default:gl(e,t),yl(t);break;case 13:gl(e,t),yl(t),8192&(r=t.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Bl=Yt())),4&i&&ml(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Ya=(c=Ya)||h,gl(e,t),Ya=c):gl(e,t),yl(t),8192&i){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!h&&0!==(1&t.mode))for(Za=t,h=t.child;null!==h;){for(f=Za=h;null!==Za;){switch(p=(d=Za).child,d.tag){case 0:case 11:case 14:case 15:il(4,d,d.return);break;case 1:tl(d,d.return);var m=d.stateNode;if("function"===typeof m.componentWillUnmount){i=d,n=d.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Tu(i,n,g)}}break;case 5:tl(d,d.return);break;case 22:if(null!==d.memoizedState){Sl(f);continue}}null!==p?(p.return=d,Za=p):Sl(f)}h=h.sibling}t:for(h=null,f=t;;){if(5===f.tag){if(null===h){h=f;try{r=f.stateNode,c?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,a=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=mt("display",a))}catch(g){Tu(t,t.return,g)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Tu(t,t.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===t)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===t)break t;for(;null===f.sibling;){if(null===f.return||f.return===t)break t;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gl(e,t),yl(t),4&i&&ml(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(al(n)){var i=n;break t}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(ft(r,""),i.flags&=-33),cl(t,ll(t),r);break;case 3:case 4:var o=i.stateNode.containerInfo;ul(t,ll(t),o);break;default:throw Error(s(161))}}catch(a){Tu(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function wl(t,e,n){Za=t,bl(t,e,n)}function bl(t,e,n){for(var i=0!==(1&t.mode);null!==Za;){var r=Za,s=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||$a;if(!o){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=$a;var u=Ya;if($a=o,(Ya=l)&&!u)for(Za=r;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?El(r):null!==l?(l.return=o,Za=l):El(r);for(;null!==s;)Za=s,bl(s,e,n),s=s.sibling;Za=r,$a=a,Ya=u}_l(t)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,Za=s):_l(t)}}function _l(t){for(;null!==Za;){var e=Za;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Ya||rl(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!Ya)if(null===n)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:gs(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&Fs(e,o,i);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Fs(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var c=e.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Be(f)}}}break;default:throw Error(s(163))}Ya||512&e.flags&&sl(e)}catch(d){Tu(e,e.return,d)}}if(e===t){Za=null;break}if(null!==(n=e.sibling)){n.return=e.return,Za=n;break}Za=e.return}}function Sl(t){for(;null!==Za;){var e=Za;if(e===t){Za=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Za=n;break}Za=e.return}}function El(t){for(;null!==Za;){var e=Za;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rl(4,e)}catch(l){Tu(e,n,l)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var r=e.return;try{i.componentDidMount()}catch(l){Tu(e,r,l)}}var s=e.return;try{sl(e)}catch(l){Tu(e,s,l)}break;case 5:var o=e.return;try{sl(e)}catch(l){Tu(e,o,l)}}}catch(l){Tu(e,e.return,l)}if(e===t){Za=null;break}var a=e.sibling;if(null!==a){a.return=e.return,Za=a;break}Za=e.return}}var kl,Tl=Math.ceil,Cl=b.ReactCurrentDispatcher,Il=b.ReactCurrentOwner,xl=b.ReactCurrentBatchConfig,Ml=0,Nl=null,Ol=null,Pl=0,Al=0,Dl=kr(0),Rl=0,Ll=null,jl=0,Fl=0,Vl=0,zl=null,Ul=null,Bl=0,Wl=1/0,ql=null,Hl=!1,Gl=null,Kl=null,Ql=!1,Xl=null,$l=0,Yl=0,Jl=null,Zl=-1,tu=0;function eu(){return 0!==(6&Ml)?Yt():-1!==Zl?Zl:Zl=Yt()}function nu(t){return 0===(1&t.mode)?1:0!==(2&Ml)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===tu&&(tu=me()),tu):0!==(t=we)?t:t=void 0===(t=window.event)?16:$e(t.type)}function iu(t,e,n,i){if(50<Yl)throw Yl=0,Jl=null,Error(s(185));ve(t,n,i),0!==(2&Ml)&&t===Nl||(t===Nl&&(0===(2&Ml)&&(Fl|=n),4===Rl&&lu(t,Pl)),ru(t,i),1===n&&0===Ml&&0===(1&e.mode)&&(Wl=Yt()+500,Vr&&Br()))}function ru(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oe(s),a=1<<o,l=r[o];-1===l?0!==(a&n)&&0===(a&i)||(r[o]=de(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}(t,e);var i=fe(t,t===Nl?Pl:0);if(0===i)null!==n&&Qt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Qt(n),1===e)0===t.tag?function(t){Vr=!0,Ur(t)}(uu.bind(null,t)):Ur(uu.bind(null,t)),or((function(){0===(6&Ml)&&Br()})),n=null;else{switch(be(i)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=ie}n=Nu(n,su.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function su(t,e){if(Zl=-1,tu=0,0!==(6&Ml))throw Error(s(327));var n=t.callbackNode;if(Eu()&&t.callbackNode!==n)return null;var i=fe(t,t===Nl?Pl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=vu(t,i);else{e=i;var r=Ml;Ml|=2;var o=mu();for(Nl===t&&Pl===e||(ql=null,Wl=Yt()+500,du(t,e));;)try{wu();break}catch(l){pu(t,l)}_s(),Cl.current=o,Ml=r,null!==Ol?e=0:(Nl=null,Pl=0,e=Rl)}if(0!==e){if(2===e&&(0!==(r=pe(t))&&(i=r,e=ou(t,r))),1===e)throw n=Ll,du(t,0),lu(t,i),ru(t,Yt()),n;if(6===e)lu(t,i);else{if(r=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ai(s(),r))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=vu(t,i))&&(0!==(o=pe(t))&&(i=o,e=ou(t,o))),1===e))throw n=Ll,du(t,0),lu(t,i),ru(t,Yt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(s(345));case 2:case 5:Su(t,Ul,ql);break;case 3:if(lu(t,i),(130023424&i)===i&&10<(e=Bl+500-Yt())){if(0!==fe(t,0))break;if(((r=t.suspendedLanes)&i)!==i){eu(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ir(Su.bind(null,t,Ul,ql),e);break}Su(t,Ul,ql);break;case 4:if(lu(t,i),(4194240&i)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-oe(i);o=1<<a,(a=e[a])>r&&(r=a),i&=~o}if(i=r,10<(i=(120>(i=Yt()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Tl(i/1960))-i)){t.timeoutHandle=ir(Su.bind(null,t,Ul,ql),i);break}Su(t,Ul,ql);break;default:throw Error(s(329))}}}return ru(t,Yt()),t.callbackNode===n?su.bind(null,t):null}function ou(t,e){var n=zl;return t.current.memoizedState.isDehydrated&&(du(t,e).flags|=256),2!==(t=vu(t,e))&&(e=Ul,Ul=n,null!==e&&au(e)),t}function au(t){null===Ul?Ul=t:Ul.push.apply(Ul,t)}function lu(t,e){for(e&=~Vl,e&=~Fl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oe(e),i=1<<n;t[n]=-1,e&=~i}}function uu(t){if(0!==(6&Ml))throw Error(s(327));Eu();var e=fe(t,0);if(0===(1&e))return ru(t,Yt()),null;var n=vu(t,e);if(0!==t.tag&&2===n){var i=pe(t);0!==i&&(e=i,n=ou(t,i))}if(1===n)throw n=Ll,du(t,0),lu(t,e),ru(t,Yt()),n;if(6===n)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Su(t,Ul,ql),ru(t,Yt()),null}function cu(t,e){var n=Ml;Ml|=1;try{return t(e)}finally{0===(Ml=n)&&(Wl=Yt()+500,Vr&&Br())}}function hu(t){null!==Xl&&0===Xl.tag&&0===(6&Ml)&&Eu();var e=Ml;Ml|=1;var n=xl.transition,i=we;try{if(xl.transition=null,we=1,t)return t()}finally{we=i,xl.transition=n,0===(6&(Ml=e))&&Br()}}function fu(){Al=Dl.current,Tr(Dl)}function du(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,rr(n)),null!==Ol)for(n=Ol.return;null!==n;){var i=n;switch(es(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Ar();break;case 3:ro(),Tr(Mr),Tr(xr),co();break;case 5:oo(i);break;case 4:ro();break;case 13:case 19:Tr(ao);break;case 10:Ss(i.type._context);break;case 22:case 23:fu()}n=n.return}if(Nl=t,Ol=t=Du(t.current,null),Pl=Al=e,Rl=0,Ll=null,Vl=Fl=jl=0,Ul=zl=null,null!==Cs){for(e=0;e<Cs.length;e++)if(null!==(i=(n=Cs[e]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var o=s.next;s.next=r,i.next=o}n.pending=i}Cs=null}return t}function pu(t,e){for(;;){var n=Ol;try{if(_s(),ho.current=oa,yo){for(var i=mo.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}yo=!1}if(po=0,vo=go=mo=null,wo=!1,bo=0,Il.current=null,null===n||null===n.return){Rl=1,Ll=e,Ol=null;break}t:{var o=t,a=n.return,l=n,u=e;if(e=Pl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,e),1&p.mode&&ga(o,c,e),u=c;var m=(e=p).updateQueue;if(null===m){var g=new Set;g.add(u),e.updateQueue=g}else m.add(u);break t}if(0===(1&e)){ga(o,c,e),gu();break t}u=Error(s(426))}else if(rs&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,e),ps(ca(u,l));break t}}o=u=ca(u,l),4!==Rl&&(Rl=2),null===zl?zl=[o]:zl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,Ls(o,pa(0,u,e));break t;case 1:l=u;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Kl||!Kl.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e,Ls(o,ma(o,l,e));break t}}o=o.return}while(null!==o)}_u(n)}catch(b){e=b,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function mu(){var t=Cl.current;return Cl.current=oa,null===t?oa:t}function gu(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Nl||0===(268435455&jl)&&0===(268435455&Fl)||lu(Nl,Pl)}function vu(t,e){var n=Ml;Ml|=2;var i=mu();for(Nl===t&&Pl===e||(ql=null,du(t,e));;)try{yu();break}catch(r){pu(t,r)}if(_s(),Ml=n,Cl.current=i,null!==Ol)throw Error(s(261));return Nl=null,Pl=0,Rl}function yu(){for(;null!==Ol;)bu(Ol)}function wu(){for(;null!==Ol&&!Xt();)bu(Ol)}function bu(t){var e=kl(t.alternate,t,Al);t.memoizedProps=t.pendingProps,null===e?_u(t):Ol=e,Il.current=null}function _u(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Qa(n,e,Al)))return void(Ol=n)}else{if(null!==(n=Xa(n,e)))return n.flags&=32767,void(Ol=n);if(null===t)return Rl=6,void(Ol=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Ol=e);Ol=e=t}while(null!==e);0===Rl&&(Rl=5)}function Su(t,e,n){var i=we,r=xl.transition;try{xl.transition=null,we=1,function(t,e,n,i){do{Eu()}while(null!==Xl);if(0!==(6&Ml))throw Error(s(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-oe(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}(t,o),t===Nl&&(Ol=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Nu(ee,(function(){return Eu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=xl.transition,xl.transition=null;var a=we;we=1;var l=Ml;Ml|=4,Il.current=null,function(t,e){if(tr=qe,di(t=fi())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break t}var a=0,l=-1,u=-1,c=0,h=0,f=t,d=null;e:for(;;){for(var p;f!==n||0!==r&&3!==f.nodeType||(l=a+r),f!==o||0!==i&&3!==f.nodeType||(u=a+i),3===f.nodeType&&(a+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===t)break e;if(d===n&&++c===r&&(l=a),d===o&&++h===i&&(u=a),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(er={focusedElem:t,selectionRange:n},qe=!1,Za=e;null!==Za;)if(t=(e=Za).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Za=t;else for(;null!==Za;){e=Za;try{var m=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:gs(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){Tu(e,e.return,_)}if(null!==(t=e.sibling)){t.return=e.return,Za=t;break}Za=e.return}m=nl,nl=!1}(t,n),vl(n,t),pi(er),qe=!!tr,er=tr=null,t.current=n,wl(n,t,r),$t(),Ml=l,we=a,xl.transition=o}else t.current=n;if(Ql&&(Ql=!1,Xl=t,$l=r),o=t.pendingLanes,0===o&&(Kl=null),function(t){if(se&&"function"===typeof se.onCommitFiberRoot)try{se.onCommitFiberRoot(re,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),ru(t,Yt()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Hl)throw Hl=!1,t=Gl,Gl=null,t;0!==(1&$l)&&0!==t.tag&&Eu(),o=t.pendingLanes,0!==(1&o)?t===Jl?Yl++:(Yl=0,Jl=t):Yl=0,Br()}(t,e,n,i)}finally{xl.transition=r,we=i}return null}function Eu(){if(null!==Xl){var t=be($l),e=xl.transition,n=we;try{if(xl.transition=null,we=16>t?16:t,null===Xl)var i=!1;else{if(t=Xl,Xl=null,$l=0,0!==(6&Ml))throw Error(s(331));var r=Ml;for(Ml|=4,Za=t.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Za=c;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:il(8,h,o)}var f=h.child;if(null!==f)f.return=h,Za=f;else for(;null!==Za;){var d=(h=Za).sibling,p=h.return;if(ol(h),h===c){Za=null;break}if(null!==d){d.return=p,Za=d;break}Za=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else t:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:il(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Za=y;break t}Za=o.return}}var w=t.current;for(Za=w;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else t:for(a=w;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Tu(l,l.return,S)}if(l===a){Za=null;break t}var _=l.sibling;if(null!==_){_.return=l.return,Za=_;break t}Za=l.return}}if(Ml=r,Br(),se&&"function"===typeof se.onPostCommitFiberRoot)try{se.onPostCommitFiberRoot(re,t)}catch(S){}i=!0}return i}finally{we=n,xl.transition=e}}return!1}function ku(t,e,n){t=Ds(t,e=pa(0,e=ca(n,e),1),1),e=eu(),null!==t&&(ve(t,1,e),ru(t,e))}function Tu(t,e,n){if(3===t.tag)ku(t,t,n);else for(;null!==e;){if(3===e.tag){ku(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Kl||!Kl.has(i))){e=Ds(e,t=ma(e,t=ca(n,t),1),1),t=eu(),null!==e&&(ve(e,1,t),ru(e,t));break}}e=e.return}}function Cu(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=eu(),t.pingedLanes|=t.suspendedLanes&n,Nl===t&&(Pl&n)===n&&(4===Rl||3===Rl&&(130023424&Pl)===Pl&&500>Yt()-Bl?du(t,0):Vl|=n),ru(t,e)}function Iu(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ce,0===(130023424&(ce<<=1))&&(ce=4194304)));var n=eu();null!==(t=Ms(t,e))&&(ve(t,e,n),ru(t,n))}function xu(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Iu(t,n)}function Mu(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(e),Iu(t,n)}function Nu(t,e){return Kt(t,e)}function Ou(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(t,e,n,i){return new Ou(t,e,n,i)}function Au(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Du(t,e){var n=t.alternate;return null===n?((n=Pu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ru(t,e,n,i,r,o){var a=2;if(i=t,"function"===typeof t)Au(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case E:return Lu(n.children,r,o,e);case k:a=8,r|=8;break;case T:return(t=Pu(12,n,e,2|r)).elementType=T,t.lanes=o,t;case M:return(t=Pu(13,n,e,r)).elementType=M,t.lanes=o,t;case N:return(t=Pu(19,n,e,r)).elementType=N,t.lanes=o,t;case A:return ju(n,r,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case C:a=10;break t;case I:a=9;break t;case x:a=11;break t;case O:a=14;break t;case P:a=16,i=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Pu(a,n,e,r)).elementType=t,e.type=i,e.lanes=o,e}function Lu(t,e,n,i){return(t=Pu(7,t,i,e)).lanes=n,t}function ju(t,e,n,i){return(t=Pu(22,t,i,e)).elementType=A,t.lanes=n,t.stateNode={isHidden:!1},t}function Fu(t,e,n){return(t=Pu(6,t,null,e)).lanes=n,t}function Vu(t,e,n){return(e=Pu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zu(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ge(0),this.expirationTimes=ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ge(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uu(t,e,n,i,r,s,o,a,l){return t=new zu(t,e,n,a,l),1===e?(e=1,!0===s&&(e|=8)):e=0,s=Pu(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),t}function Bu(t){if(!t)return Ir;t:{if(Bt(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var n=t.type;if(Pr(n))return Rr(t,n,e)}return e}function Wu(t,e,n,i,r,s,o,a,l){return(t=Uu(n,i,!0,t,0,s,0,a,l)).context=Bu(null),n=t.current,(s=As(i=eu(),r=nu(n))).callback=void 0!==e&&null!==e?e:null,Ds(n,s,r),t.current.lanes=r,ve(t,r,i),ru(t,i),t}function qu(t,e,n,i){var r=e.current,s=eu(),o=nu(r);return n=Bu(n),null===e.context?e.context=n:e.pendingContext=n,(e=As(s,o)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=Ds(r,e,o))&&(iu(t,r,o,s),Rs(t,r,o)),o}function Hu(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Gu(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Ku(t,e){Gu(t,e),(t=t.alternate)&&Gu(t,e)}kl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Mr.current)ba=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return ba=!1,function(t,e,n){switch(e.tag){case 3:Na(e),ds();break;case 5:so(e);break;case 1:Pr(e.type)&&Lr(e);break;case 4:io(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Cr(vs,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(Cr(ao,1&ao.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Fa(t,e,n):(Cr(ao,1&ao.current),null!==(t=Ha(t,e,n))?t.sibling:null);Cr(ao,1&ao.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return Wa(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr(ao,ao.current),i)break;return null;case 22:case 23:return e.lanes=0,Ta(t,e,n)}return Ha(t,e,n)}(t,e,n);ba=0!==(131072&t.flags)}else ba=!1,rs&&0!==(1048576&e.flags)&&Zr(e,Gr,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;qa(t,e),t=e.pendingProps;var r=Or(e,xr.current);ks(e,n),r=ko(null,e,i,t,r,n);var o=To();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pr(i)?(o=!0,Lr(e)):o=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Os(e),r.updater=Us,e.stateNode=r,r._reactInternals=e,Hs(e,i,t,n),e=Ma(null,e,i,!0,o,n)):(e.tag=0,rs&&o&&ts(e),_a(null,e,r,n),e=e.child),e;case 16:i=e.elementType;t:{switch(qa(t,e),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"===typeof t)return Au(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===x)return 11;if(t===O)return 14}return 2}(i),t=gs(i,t),r){case 0:e=Ia(null,e,i,t,n);break t;case 1:e=xa(null,e,i,t,n);break t;case 11:e=Sa(null,e,i,t,n);break t;case 14:e=Ea(null,e,i,gs(i.type,t),n);break t}throw Error(s(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,Ia(t,e,i,r=e.elementType===i?r:gs(i,r),n);case 1:return i=e.type,r=e.pendingProps,xa(t,e,i,r=e.elementType===i?r:gs(i,r),n);case 3:t:{if(Na(e),null===t)throw Error(s(387));i=e.pendingProps,r=(o=e.memoizedState).element,Ps(t,e),js(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Oa(t,e,i,n,r=ca(Error(s(423)),e));break t}if(i!==r){e=Oa(t,e,i,n,r=ca(Error(s(424)),e));break t}for(is=ur(e.stateNode.containerInfo.firstChild),ns=e,rs=!0,ss=null,n=Ys(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ds(),i===r){e=Ha(t,e,n);break t}_a(t,e,i,n)}e=e.child}return e;case 5:return so(e),null===t&&us(e),i=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==o&&nr(i,o)&&(e.flags|=32),Ca(t,e),_a(t,e,a,n),e.child;case 6:return null===t&&us(e),null;case 13:return Fa(t,e,n);case 4:return io(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=$s(e,null,i,n):_a(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,Sa(t,e,i,r=e.elementType===i?r:gs(i,r),n);case 7:return _a(t,e,e.pendingProps,n),e.child;case 8:case 12:return _a(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,Cr(vs,i._currentValue),i._currentValue=a,null!==o)if(ai(o.value,a)){if(o.children===r.children&&!Mr.current){e=Ha(t,e,n);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===o.tag){(u=As(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Es(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Es(a,n,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,ks(e,n),i=i(r=Ts(r)),e.flags|=1,_a(t,e,i,n),e.child;case 14:return r=gs(i=e.type,e.pendingProps),Ea(t,e,i,r=gs(i.type,r),n);case 15:return ka(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:gs(i,r),qa(t,e),e.tag=1,Pr(i)?(t=!0,Lr(e)):t=!1,ks(e,n),Ws(e,i,r),Hs(e,i,r,n),Ma(null,e,i,!0,t,n);case 19:return Wa(t,e,n);case 22:return Ta(t,e,n)}throw Error(s(156,e.tag))};var Qu="function"===typeof reportError?reportError:function(t){console.error(t)};function Xu(t){this._internalRoot=t}function $u(t){this._internalRoot=t}function Yu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Ju(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Zu(){}function tc(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof r){var a=r;r=function(){var t=Hu(o);a.call(t)}}qu(e,o,t,r)}else o=function(t,e,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var t=Hu(o);s.call(t)}}var o=Wu(e,i,t,0,null,!1,0,"",Zu);return t._reactRootContainer=o,t[pr]=o.current,Bi(8===t.nodeType?t.parentNode:t),hu(),o}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof i){var a=i;i=function(){var t=Hu(l);a.call(t)}}var l=Uu(t,0,!1,null,0,!1,0,"",Zu);return t._reactRootContainer=l,t[pr]=l.current,Bi(8===t.nodeType?t.parentNode:t),hu((function(){qu(e,l,n,i)})),l}(n,e,t,r,i);return Hu(o)}$u.prototype.render=Xu.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));qu(t,e,null,null)},$u.prototype.unmount=Xu.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;hu((function(){qu(null,t,null,null)})),e[pr]=null}},$u.prototype.unstable_scheduleHydration=function(t){if(t){var e=ke();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ae.length&&0!==e&&e<Ae[n].priority;n++);Ae.splice(n,0,t),0===n&&je(t)}},_e=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ye(e,1|n),ru(e,Yt()),0===(6&Ml)&&(Wl=Yt()+500,Br()))}break;case 13:hu((function(){var e=Ms(t,1);if(null!==e){var n=eu();iu(e,t,1,n)}})),Ku(t,1)}},Se=function(t){if(13===t.tag){var e=Ms(t,134217728);if(null!==e)iu(e,t,134217728,eu());Ku(t,134217728)}},Ee=function(t){if(13===t.tag){var e=nu(t),n=Ms(t,e);if(null!==n)iu(n,t,e,eu());Ku(t,e)}},ke=function(){return we},Te=function(t,e){var n=we;try{return we=t,e()}finally{we=n}},St=function(t,e,n){switch(e){case"input":if(J(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=_r(i);if(!r)throw Error(s(90));K(i),J(i,r)}}}break;case"textarea":st(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},xt=cu,Mt=hu;var ec={usingClientEntryPoint:!1,Events:[wr,br,_r,Ct,It,cu]},nc={findFiberByHostInstance:yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ic={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Ht(t))?null:t.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{re=rc.inject(ic),se=rc}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(e))throw Error(s(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Yu(t))throw Error(s(299));var n=!1,i="",r=Qu;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Uu(t,1,!1,null,0,n,0,i,r),t[pr]=e.current,Bi(8===t.nodeType?t.parentNode:t),new Xu(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=Ht(e))?null:t.stateNode},e.flushSync=function(t){return hu(t)},e.hydrate=function(t,e,n){if(!Ju(e))throw Error(s(200));return tc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Yu(t))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",a=Qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Wu(e,null,t,1,null!=n?n:null,r,0,o,a),t[pr]=e.current,Bi(t),i)for(t=0;t<i.length;t++)r=(r=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new $u(e)},e.render=function(t,e,n){if(!Ju(e))throw Error(s(200));return tc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Ju(t))throw Error(s(40));return!!t._reactRootContainer&&(hu((function(){tc(null,null,t,!1,(function(){t._reactRootContainer=null,t[pr]=null}))})),!0)},e.unstable_batchedUpdates=cu,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Ju(n))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return tc(t,e,n,!1,i)},e.version="18.2.0-next-9e3b772b8-20220608"},250:(t,e,n)=>{var i=n(164);e.createRoot=i.createRoot,e.hydrateRoot=i.hydrateRoot},164:(t,e,n)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(463)},459:(t,e)=>{var n,i=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case s:case a:case o:case f:case d:return t;default:switch(t=t&&t.$$typeof){case c:case u:case h:case m:case p:case l:return t;default:return e}}case r:return e}}}n=Symbol.for("react.module.reference")},900:(t,e,n)=>{n(459)},374:(t,e,n)=>{var i=n(791),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,n){var i,s={},u=null,c=null;for(i in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(c=e.ref),e)o.call(e,i)&&!l.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===s[i]&&(s[i]=e[i]);return{$$typeof:r,type:t,key:u,ref:c,props:s,_owner:a.current}}e.Fragment=s,e.jsx=u,e.jsxs=u},117:(t,e)=>{var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}function y(){}function w(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(t,e,i){var r,s={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)S.call(e,r)&&!k.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:t,key:o,ref:a,props:s,_owner:E.current}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var I=/\/+/g;function x(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function M(t,e,r,s,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=t),t=""===s?"."+x(l,0):s,_(o)?(r="",null!=t&&(r=t.replace(I,"$&/")+"/"),M(o,e,r,"",(function(t){return t}))):null!=o&&(C(o)&&(o=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+t)),e.push(o)),1;if(l=0,s=""===s?".":s+":",_(t))for(var u=0;u<t.length;u++){var c=s+x(a=t[u],u);l+=M(a,e,r,c,o)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),u=0;!(a=t.next()).done;)l+=M(a=a.value,e,r,c=s+x(a,u++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function N(t,e,n){if(null==t)return t;var i=[],r=0;return M(t,i,"","",(function(t){return e.call(n,t,r++)})),i}function O(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var P={current:null},A={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:A,ReactCurrentOwner:E};e.Children={map:N,forEach:function(t,e,n){N(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return N(t,(function(){e++})),e},toArray:function(t){return N(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=r,e.Profiler=o,e.PureComponent=w,e.StrictMode=s,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=m({},t.props),s=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=E.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)S.call(e,u)&&!k.hasOwnProperty(u)&&(r[u]=void 0===e[u]&&void 0!==l?l[u]:e[u])}var u=arguments.length-2;if(1===u)r.children=i;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:n,type:t.type,key:s,ref:o,props:r,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=T,e.createFactory=function(t){var e=T.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:O}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=A.transition;A.transition={};try{t()}finally{A.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return P.current.useCallback(t,e)},e.useContext=function(t){return P.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return P.current.useDeferredValue(t)},e.useEffect=function(t,e){return P.current.useEffect(t,e)},e.useId=function(){return P.current.useId()},e.useImperativeHandle=function(t,e,n){return P.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return P.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return P.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return P.current.useMemo(t,e)},e.useReducer=function(t,e,n){return P.current.useReducer(t,e,n)},e.useRef=function(t){return P.current.useRef(t)},e.useState=function(t){return P.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return P.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return P.current.useTransition()},e.version="18.2.0"},791:(t,e,n)=>{t.exports=n(117)},184:(t,e,n)=>{t.exports=n(374)},813:(t,e)=>{function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<s(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,o=r>>>1;i<o;){var a=2*(i+1)-1,l=t[a],u=a+1,c=t[u];if(0>s(l,n))u<r&&0>s(c,l)?(t[i]=c,t[u]=n,i=u):(t[i]=l,t[a]=n,i=a);else{if(!(u<r&&0>s(c,n)))break t;t[i]=c,t[u]=n,i=u}}}return e}function s(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,f=null,d=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(t){for(var e=i(c);null!==e;){if(null===e.callback)r(c);else{if(!(e.startTime<=t))break;r(c),e.sortIndex=e.expirationTime,n(u,e)}e=i(c)}}function _(t){if(g=!1,b(t),!m)if(null!==i(u))m=!0,A(S);else{var e=i(c);null!==e&&D(_,e.startTime-t)}}function S(t,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var s=d;try{for(b(n),f=i(u);null!==f&&(!(f.expirationTime>n)||t&&!M());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var a=o(f.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?f.callback=a:f===i(u)&&r(u),b(n)}else r(u);f=i(u)}if(null!==f)var l=!0;else{var h=i(c);null!==h&&D(_,h.startTime-n),l=!1}return l}finally{f=null,d=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,k=!1,T=null,C=-1,I=5,x=-1;function M(){return!(e.unstable_now()-x<I)}function N(){if(null!==T){var t=e.unstable_now();x=t;var n=!0;try{n=T(!0,t)}finally{n?E():(k=!1,T=null)}}else k=!1}if("function"===typeof w)E=function(){w(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=N,E=function(){P.postMessage(null)}}else E=function(){v(N,0)};function A(t){T=t,k||(k=!0,E())}function D(t,n){C=v((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,A(S))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return i(u)},e.unstable_next=function(t){switch(d){case 1:case 2:case 3:var e=3;break;default:e=d}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_scheduleCallback=function(t,r,s){var o=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:r,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(t.sortIndex=s,n(c,t),null===i(u)&&t===i(c)&&(g?(y(C),C=-1):g=!0,D(_,s-o))):(t.sortIndex=a,n(u,t),m||p||(m=!0,A(S))),t},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(t){var e=d;return function(){var n=d;d=e;try{return t.apply(this,arguments)}finally{d=n}}}},296:(t,e,n)=>{t.exports=n(813)},561:(t,e,n)=>{var i=n(791);var r="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},s=i.useState,o=i.useEffect,a=i.useLayoutEffect,l=i.useDebugValue;function u(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!r(t,n)}catch(i){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),i=s({inst:{value:n,getSnapshot:e}}),r=i[0].inst,c=i[1];return a((function(){r.value=n,r.getSnapshot=e,u(r)&&c({inst:r})}),[t,n,e]),o((function(){return u(r)&&c({inst:r}),t((function(){u(r)&&c({inst:r})}))}),[t]),l(n),n};e.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},595:(t,e,n)=>{var i=n(791),r=n(248);var s="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},o=r.useSyncExternalStore,a=i.useRef,l=i.useEffect,u=i.useMemo,c=i.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,i,r){var h=a(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;h=u((function(){function t(t){if(!l){if(l=!0,o=t,t=i(t),void 0!==r&&f.hasValue){var e=f.value;if(r(e,t))return a=e}return a=t}if(e=a,s(o,t))return e;var n=i(t);return void 0!==r&&r(e,n)?e:(o=t,a=n)}var o,a,l=!1,u=void 0===n?null:n;return[function(){return t(e())},null===u?void 0:function(){return t(u())}]}),[e,n,i,r]);var d=o(t,h[0],h[1]);return l((function(){f.hasValue=!0,f.value=d}),[d]),c(d),d}},248:(t,e,n)=>{t.exports=n(561)},327:(t,e,n)=>{t.exports=n(595)}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}n.m=t,n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,i)=>(n.f[i](t,e),e)),[])),n.u=t=>"static/js/"+t+".48eed951.chunk.js",n.miniCssF=t=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="website-template:";n.l=(i,r,s,o)=>{if(t[i])t[i].push(r);else{var a,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==e+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",e+s),a.src=i),t[i]=[r];var f=(e,n)=>{a.onerror=a.onload=null,clearTimeout(d);var r=t[i];if(delete t[i],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((t=>t(n))),e)return e(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/crypto-position-calculator/",(()=>{var t={179:0};n.f.j=(e,i)=>{var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)i.push(r[2]);else{var s=new Promise(((n,i)=>r=t[e]=[n,i]));i.push(r[2]=s);var o=n.p+n.u(e),a=new Error;n.l(o,(i=>{if(n.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;a.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,r[1](a)}}),"chunk-"+e,e)}};var e=(e,i)=>{var r,s,o=i[0],a=i[1],l=i[2],u=0;if(o.some((e=>0!==t[e]))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)l(n)}for(e&&e(i);u<o.length;u++)s=o[u],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0},i=self.webpackChunkwebsite_template=self.webpackChunkwebsite_template||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),(()=>{var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>it,hasStandardBrowserEnv:()=>rt,hasStandardBrowserWebWorkerEnv:()=>ot});var e=n(791),i=n(250);function r(t,e){return function(){return t.apply(e,arguments)}}const{toString:s}=Object.prototype,{getPrototypeOf:o}=Object,a=(l=Object.create(null),t=>{const e=s.call(t);return l[e]||(l[e]=e.slice(8,-1).toLowerCase())});var l;const u=t=>(t=t.toLowerCase(),e=>a(e)===t),c=t=>e=>typeof e===t,{isArray:h}=Array,f=c("undefined");const d=u("ArrayBuffer");const p=c("string"),m=c("function"),g=c("number"),v=t=>null!==t&&"object"===typeof t,y=t=>{if("object"!==a(t))return!1;const e=o(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},w=u("Date"),b=u("File"),_=u("Blob"),S=u("FileList"),E=u("URLSearchParams");function k(t,e){let n,i,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),h(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let o;for(n=0;n<s;n++)o=i[n],e.call(null,t[o],o,t)}}function T(t,e){e=e.toLowerCase();const n=Object.keys(t);let i,r=n.length;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const C="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,I=t=>!f(t)&&t!==C;const x=(M="undefined"!==typeof Uint8Array&&o(Uint8Array),t=>M&&t instanceof M);var M;const N=u("HTMLFormElement"),O=(t=>{let{hasOwnProperty:e}=t;return(t,n)=>e.call(t,n)})(Object.prototype),P=u("RegExp"),A=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};k(n,((n,r)=>{let s;!1!==(s=e(n,r,t))&&(i[r]=s||n)})),Object.defineProperties(t,i)},D="abcdefghijklmnopqrstuvwxyz",R="0123456789",L={DIGIT:R,ALPHA:D,ALPHA_DIGIT:D+D.toUpperCase()+R};const j=u("AsyncFunction"),F={isArray:h,isArrayBuffer:d,isBuffer:function(t){return null!==t&&!f(t)&&null!==t.constructor&&!f(t.constructor)&&m(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||m(t.append)&&("formdata"===(e=a(t))||"object"===e&&m(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&d(t.buffer),e},isString:p,isNumber:g,isBoolean:t=>!0===t||!1===t,isObject:v,isPlainObject:y,isUndefined:f,isDate:w,isFile:b,isBlob:_,isRegExp:P,isFunction:m,isStream:t=>v(t)&&m(t.pipe),isURLSearchParams:E,isTypedArray:x,isFileList:S,forEach:k,merge:function t(){const{caseless:e}=I(this)&&this||{},n={},i=(i,r)=>{const s=e&&T(n,r)||r;y(n[s])&&y(i)?n[s]=t(n[s],i):y(i)?n[s]=t({},i):h(i)?n[s]=i.slice():n[s]=i};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&k(arguments[r],i);return n},extend:function(t,e,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return k(e,((e,i)=>{n&&m(e)?t[i]=r(e,n):t[i]=e}),{allOwnKeys:i}),t},trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,i)=>{let r,s,a;const l={};if(e=e||{},null==t)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)a=r[s],i&&!i(a,t,e)||l[a]||(e[a]=t[a],l[a]=!0);t=!1!==n&&o(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:a,kindOfTest:u,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return-1!==i&&i===n},toArray:t=>{if(!t)return null;if(h(t))return t;let e=t.length;if(!g(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const n=i.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const i=[];for(;null!==(n=t.exec(e));)i.push(n);return i},isHTMLForm:N,hasOwnProperty:O,hasOwnProp:O,reduceDescriptors:A,freezeMethods:t=>{A(t,((e,n)=>{if(m(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=t[n];m(i)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},i=t=>{t.forEach((t=>{n[t]=!0}))};return h(t)?i(t):i(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:T,global:C,isContextDefined:I,ALPHABET:L,generateString:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.ALPHA_DIGIT,n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n},isSpecCompliantForm:function(t){return!!(t&&m(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,i)=>{if(v(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[i]=t;const r=h(t)?[]:{};return k(t,((t,e)=>{const s=n(t,i+1);!f(s)&&(r[e]=s)})),e[i]=void 0,r}}return t};return n(t,0)},isAsyncFn:j,isThenable:t=>t&&(v(t)||m(t))&&m(t.then)&&m(t.catch)};function V(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}F.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const z=V.prototype,U={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{U[t]={value:t}})),Object.defineProperties(V,U),Object.defineProperty(z,"isAxiosError",{value:!0}),V.from=(t,e,n,i,r,s)=>{const o=Object.create(z);return F.toFlatObject(t,o,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),V.call(o,t.message,e,n,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const B=V;function W(t){return F.isPlainObject(t)||F.isArray(t)}function q(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function H(t,e,n){return t?t.concat(e).map((function(t,e){return t=q(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const G=F.toFlatObject(F,{},null,(function(t){return/^is[A-Z]/.test(t)}));const K=function(t,e,n){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const i=(n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!F.isUndefined(e[t])}))).metaTokens,r=n.visitor||u,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(r))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(F.isDate(t))return t.toISOString();if(!a&&F.isBlob(t))throw new B("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(t)||F.isTypedArray(t)?a&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function u(t,n,r){let a=t;if(t&&!r&&"object"===typeof t)if(F.endsWith(n,"{}"))n=i?n:n.slice(0,-2),t=JSON.stringify(t);else if(F.isArray(t)&&function(t){return F.isArray(t)&&!t.some(W)}(t)||(F.isFileList(t)||F.endsWith(n,"[]"))&&(a=F.toArray(t)))return n=q(n),a.forEach((function(t,i){!F.isUndefined(t)&&null!==t&&e.append(!0===o?H([n],i,s):null===o?n:n+"[]",l(t))})),!1;return!!W(t)||(e.append(H(r,n,s),l(t)),!1)}const c=[],h=Object.assign(G,{defaultVisitor:u,convertValue:l,isVisitable:W});if(!F.isObject(t))throw new TypeError("data must be an object");return function t(n,i){if(!F.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+i.join("."));c.push(n),F.forEach(n,(function(n,s){!0===(!(F.isUndefined(n)||null===n)&&r.call(e,n,F.isString(s)?s.trim():s,i,h))&&t(n,i?i.concat(s):[s])})),c.pop()}}(t),e};function Q(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function X(t,e){this._pairs=[],t&&K(t,this,e)}const $=X.prototype;$.append=function(t,e){this._pairs.push([t,e])},$.toString=function(t){const e=t?function(e){return t.call(this,e,Q)}:Q;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const Y=X;function J(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Z(t,e,n){if(!e)return t;const i=n&&n.encode||J,r=n&&n.serialize;let s;if(s=r?r(e,n):F.isURLSearchParams(e)?e.toString():new Y(e,n).toString(i),s){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}const tt=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){F.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},et={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Y,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},it="undefined"!==typeof window&&"undefined"!==typeof document,rt=(st="undefined"!==typeof navigator&&navigator.product,it&&["ReactNative","NativeScript","NS"].indexOf(st)<0);var st;const ot="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,at={...t,...nt};const lt=function(t){function e(t,n,i,r){let s=t[r++];const o=Number.isFinite(+s),a=r>=t.length;if(s=!s&&F.isArray(i)?i.length:s,a)return F.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!o;i[s]&&F.isObject(i[s])||(i[s]=[]);return e(t,n,i[s],r)&&F.isArray(i[s])&&(i[s]=function(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}(i[s])),!o}if(F.isFormData(t)&&F.isFunction(t.entries)){const n={};return F.forEachEntry(t,((t,i)=>{e(function(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),i,n,0)})),n}return null};const ut={transitional:et,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",i=n.indexOf("application/json")>-1,r=F.isObject(t);r&&F.isHTMLForm(t)&&(t=new FormData(t));if(F.isFormData(t))return i&&i?JSON.stringify(lt(t)):t;if(F.isArrayBuffer(t)||F.isBuffer(t)||F.isStream(t)||F.isFile(t)||F.isBlob(t))return t;if(F.isArrayBufferView(t))return t.buffer;if(F.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return K(t,new at.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,i){return at.isNode&&F.isBuffer(t)?(this.append(e,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((s=F.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return K(s?{"files[]":t}:t,e&&new e,this.formSerializer)}}return r||i?(e.setContentType("application/json",!1),function(t,e,n){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||ut.transitional,n=e&&e.forcedJSONParsing,i="json"===this.responseType;if(t&&F.isString(t)&&(n&&!this.responseType||i)){const n=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(r){if(n){if("SyntaxError"===r.name)throw B.from(r,B.ERR_BAD_RESPONSE,this,null,this.response);throw r}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:at.classes.FormData,Blob:at.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],(t=>{ut.headers[t]={}}));const ct=ut,ht=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ft=Symbol("internals");function dt(t){return t&&String(t).trim().toLowerCase()}function pt(t){return!1===t||null==t?t:F.isArray(t)?t.map(pt):String(t)}function mt(t,e,n,i,r){return F.isFunction(i)?i.call(this,e,n):(r&&(e=n),F.isString(e)?F.isString(i)?-1!==e.indexOf(i):F.isRegExp(i)?i.test(e):void 0:void 0)}class gt{constructor(t){t&&this.set(t)}set(t,e,n){const i=this;function r(t,e,n){const r=dt(e);if(!r)throw new Error("header name must be a non-empty string");const s=F.findKey(i,r);(!s||void 0===i[s]||!0===n||void 0===n&&!1!==i[s])&&(i[s||e]=pt(t))}const s=(t,e)=>F.forEach(t,((t,n)=>r(t,n,e)));return F.isPlainObject(t)||t instanceof this.constructor?s(t,e):F.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?s((t=>{const e={};let n,i,r;return t&&t.split("\n").forEach((function(t){r=t.indexOf(":"),n=t.substring(0,r).trim().toLowerCase(),i=t.substring(r+1).trim(),!n||e[n]&&ht[n]||("set-cookie"===n?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)})),e})(t),e):null!=t&&r(e,t,n),this}get(t,e){if(t=dt(t)){const n=F.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}(t);if(F.isFunction(e))return e.call(this,t,n);if(F.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=dt(t)){const n=F.findKey(this,t);return!(!n||void 0===this[n]||e&&!mt(0,this[n],n,e))}return!1}delete(t,e){const n=this;let i=!1;function r(t){if(t=dt(t)){const r=F.findKey(n,t);!r||e&&!mt(0,n[r],r,e)||(delete n[r],i=!0)}}return F.isArray(t)?t.forEach(r):r(t),i}clear(t){const e=Object.keys(this);let n=e.length,i=!1;for(;n--;){const r=e[n];t&&!mt(0,this[r],r,t,!0)||(delete this[r],i=!0)}return i}normalize(t){const e=this,n={};return F.forEach(this,((i,r)=>{const s=F.findKey(n,r);if(s)return e[s]=pt(i),void delete e[r];const o=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(r):String(r).trim();o!==r&&delete e[r],e[o]=pt(i),n[o]=!0})),this}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.constructor.concat(this,...e)}toJSON(t){const e=Object.create(null);return F.forEach(this,((n,i)=>{null!=n&&!1!==n&&(e[i]=t&&F.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((t=>{let[e,n]=t;return e+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t){const e=new this(t);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((t=>e.set(t))),e}static accessor(t){const e=(this[ft]=this[ft]={accessors:{}}).accessors,n=this.prototype;function i(t){const i=dt(t);e[i]||(!function(t,e){const n=F.toCamelCase(" "+e);["get","set","has"].forEach((i=>{Object.defineProperty(t,i+n,{value:function(t,n,r){return this[i].call(this,e,t,n,r)},configurable:!0})}))}(n,t),e[i]=!0)}return F.isArray(t)?t.forEach(i):i(t),this}}gt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),F.reduceDescriptors(gt.prototype,((t,e)=>{let{value:n}=t,i=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(t){this[i]=t}}})),F.freezeMethods(gt);const vt=gt;function yt(t,e){const n=this||ct,i=e||n,r=vt.from(i.headers);let s=i.data;return F.forEach(t,(function(t){s=t.call(n,s,r.normalize(),e?e.status:void 0)})),r.normalize(),s}function wt(t){return!(!t||!t.__CANCEL__)}function bt(t,e,n){B.call(this,null==t?"canceled":t,B.ERR_CANCELED,e,n),this.name="CanceledError"}F.inherits(bt,B,{__CANCEL__:!0});const _t=bt;const St=at.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const o=[t+"="+encodeURIComponent(e)];F.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),F.isString(i)&&o.push("path="+i),F.isString(r)&&o.push("domain="+r),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Et(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const kt=at.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function i(n){let i=n;return t&&(e.setAttribute("href",i),i=e.href),e.setAttribute("href",i),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=i(window.location.href),function(t){const e=F.isString(t)?i(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0};const Tt=function(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r,s=0,o=0;return e=void 0!==e?e:1e3,function(a){const l=Date.now(),u=i[o];r||(r=l),n[s]=a,i[s]=l;let c=o,h=0;for(;c!==s;)h+=n[c++],c%=t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),l-r<e)return;const f=u&&l-u;return f?Math.round(1e3*h/f):void 0}};function Ct(t,e){let n=0;const i=Tt(50,250);return r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-n,l=i(a);n=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:r};u[e?"download":"upload"]=!0,t(u)}}const It="undefined"!==typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){let i=t.data;const r=vt.from(t.headers).normalize();let s,o,{responseType:a,withXSRFToken:l}=t;function u(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}if(F.isFormData(i))if(at.hasStandardBrowserEnv||at.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if(!1!==(o=r.getContentType())){const[t,...e]=o?o.split(";").map((t=>t.trim())).filter(Boolean):[];r.setContentType([t||"multipart/form-data",...e].join("; "))}let c=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";r.set("Authorization","Basic "+btoa(e+":"+n))}const h=Et(t.baseURL,t.url);function f(){if(!c)return;const i=vt.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(t,e,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new B("Request failed with status code "+n.status,[B.ERR_BAD_REQUEST,B.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),u()}),(function(t){n(t),u()}),{data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:i,config:t,request:c}),c=null}if(c.open(t.method.toUpperCase(),Z(h,t.params,t.paramsSerializer),!0),c.timeout=t.timeout,"onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(f)},c.onabort=function(){c&&(n(new B("Request aborted",B.ECONNABORTED,t,c)),c=null)},c.onerror=function(){n(new B("Network Error",B.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const i=t.transitional||et;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new B(e,i.clarifyTimeoutError?B.ETIMEDOUT:B.ECONNABORTED,t,c)),c=null},at.hasStandardBrowserEnv&&(l&&F.isFunction(l)&&(l=l(t)),l||!1!==l&&kt(h))){const e=t.xsrfHeaderName&&t.xsrfCookieName&&St.read(t.xsrfCookieName);e&&r.set(t.xsrfHeaderName,e)}void 0===i&&r.setContentType(null),"setRequestHeader"in c&&F.forEach(r.toJSON(),(function(t,e){c.setRequestHeader(e,t)})),F.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),a&&"json"!==a&&(c.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&c.addEventListener("progress",Ct(t.onDownloadProgress,!0)),"function"===typeof t.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",Ct(t.onUploadProgress)),(t.cancelToken||t.signal)&&(s=e=>{c&&(n(!e||e.type?new _t(null,t,c):e),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s)));const d=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(h);d&&-1===at.protocols.indexOf(d)?n(new B("Unsupported protocol "+d+":",B.ERR_BAD_REQUEST,t)):c.send(i||null)}))},xt={http:null,xhr:It};F.forEach(xt,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(n){}Object.defineProperty(t,"adapterName",{value:e})}}));const Mt=t=>"- ".concat(t),Nt=t=>F.isFunction(t)||null===t||!1===t,Ot=t=>{t=F.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){let e;if(n=t[s],i=n,!Nt(n)&&(i=xt[(e=String(n)).toLowerCase()],void 0===i))throw new B("Unknown adapter '".concat(e,"'"));if(i)break;r[e||"#"+s]=i}if(!i){const t=Object.entries(r).map((t=>{let[e,n]=t;return"adapter ".concat(e," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=e?t.length>1?"since :\n"+t.map(Mt).join("\n"):" "+Mt(t[0]):"as no adapter specified";throw new B("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return i};function Pt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _t(null,t)}function At(t){Pt(t),t.headers=vt.from(t.headers),t.data=yt.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return Ot(t.adapter||ct.adapter)(t).then((function(e){return Pt(t),e.data=yt.call(t,t.transformResponse,e),e.headers=vt.from(e.headers),e}),(function(e){return wt(e)||(Pt(t),e&&e.response&&(e.response.data=yt.call(t,t.transformResponse,e.response),e.response.headers=vt.from(e.response.headers))),Promise.reject(e)}))}const Dt=t=>t instanceof vt?t.toJSON():t;function Rt(t,e){e=e||{};const n={};function i(t,e,n){return F.isPlainObject(t)&&F.isPlainObject(e)?F.merge.call({caseless:n},t,e):F.isPlainObject(e)?F.merge({},e):F.isArray(e)?e.slice():e}function r(t,e,n){return F.isUndefined(e)?F.isUndefined(t)?void 0:i(void 0,t,n):i(t,e,n)}function s(t,e){if(!F.isUndefined(e))return i(void 0,e)}function o(t,e){return F.isUndefined(e)?F.isUndefined(t)?void 0:i(void 0,t):i(void 0,e)}function a(n,r,s){return s in e?i(n,r):s in t?i(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(t,e)=>r(Dt(t),Dt(e),!0)};return F.forEach(Object.keys(Object.assign({},t,e)),(function(i){const s=l[i]||r,o=s(t[i],e[i],i);F.isUndefined(o)&&s!==a||(n[i]=o)})),n}const Lt="1.6.2",jt={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{jt[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const Ft={};jt.transitional=function(t,e,n){function i(t,e){return"[Axios v1.6.2] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,r,s)=>{if(!1===t)throw new B(i(r," has been removed"+(e?" in "+e:"")),B.ERR_DEPRECATED);return e&&!Ft[r]&&(Ft[r]=!0,console.warn(i(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,s)}};const Vt={assertOptions:function(t,e,n){if("object"!==typeof t)throw new B("options must be an object",B.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const e=t[s],n=void 0===e||o(e,s,t);if(!0!==n)throw new B("option "+s+" must be "+n,B.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new B("Unknown option "+s,B.ERR_BAD_OPTION)}},validators:jt},zt=Vt.validators;class Ut{constructor(t){this.defaults=t,this.interceptors={request:new tt,response:new tt}}request(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{},e=Rt(this.defaults,e);const{transitional:n,paramsSerializer:i,headers:r}=e;void 0!==n&&Vt.assertOptions(n,{silentJSONParsing:zt.transitional(zt.boolean),forcedJSONParsing:zt.transitional(zt.boolean),clarifyTimeoutError:zt.transitional(zt.boolean)},!1),null!=i&&(F.isFunction(i)?e.paramsSerializer={serialize:i}:Vt.assertOptions(i,{encode:zt.function,serialize:zt.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let s=r&&F.merge(r.common,r[e.method]);r&&F.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete r[t]})),e.headers=vt.concat(s,r);const o=[];let a=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,o.unshift(t.fulfilled,t.rejected))}));const l=[];let u;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let c,h=0;if(!a){const t=[At.bind(this),void 0];for(t.unshift.apply(t,o),t.push.apply(t,l),c=t.length,u=Promise.resolve(e);h<c;)u=u.then(t[h++],t[h++]);return u}c=o.length;let f=e;for(h=0;h<c;){const t=o[h++],e=o[h++];try{f=t(f)}catch(d){e.call(this,d);break}}try{u=At.call(this,f)}catch(d){return Promise.reject(d)}for(h=0,c=l.length;h<c;)u=u.then(l[h++],l[h++]);return u}getUri(t){return Z(Et((t=Rt(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}F.forEach(["delete","get","head","options"],(function(t){Ut.prototype[t]=function(e,n){return this.request(Rt(n||{},{method:t,url:e,data:(n||{}).data}))}})),F.forEach(["post","put","patch"],(function(t){function e(e){return function(n,i,r){return this.request(Rt(r||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Ut.prototype[t]=e(),Ut.prototype[t+"Form"]=e(!0)}));const Bt=Ut;class Wt{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const i=new Promise((t=>{n.subscribe(t),e=t})).then(t);return i.cancel=function(){n.unsubscribe(e)},i},t((function(t,i,r){n.reason||(n.reason=new _t(t,i,r),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;const e=new Wt((function(e){t=e}));return{token:e,cancel:t}}}const qt=Wt;const Ht={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ht).forEach((t=>{let[e,n]=t;Ht[n]=e}));const Gt=Ht;const Kt=function t(e){const n=new Bt(e),i=r(Bt.prototype.request,n);return F.extend(i,Bt.prototype,n,{allOwnKeys:!0}),F.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return t(Rt(e,n))},i}(ct);Kt.Axios=Bt,Kt.CanceledError=_t,Kt.CancelToken=qt,Kt.isCancel=wt,Kt.VERSION=Lt,Kt.toFormData=K,Kt.AxiosError=B,Kt.Cancel=Kt.CanceledError,Kt.all=function(t){return Promise.all(t)},Kt.spread=function(t){return function(e){return t.apply(null,e)}},Kt.isAxiosError=function(t){return F.isObject(t)&&!0===t.isAxiosError},Kt.mergeConfig=Rt,Kt.AxiosHeaders=vt,Kt.formToJSON=t=>lt(F.isHTMLForm(t)?new FormData(t):t),Kt.getAdapter=Ot,Kt.HttpStatusCode=Gt,Kt.default=Kt;const Qt=Kt,Xt=[{cryptoName:"BTCUSDT",cryptoImage:"https://s2.coinmarketcap.com/static/img/coins/64x64/1.png"},{cryptoName:"ETHUSDT",cryptoImage:"https://s2.coinmarketcap.com/static/img/coins/64x64/1027.png"},{cryptoName:"SOLUSDT",cryptoImage:"https://s2.coinmarketcap.com/static/img/coins/64x64/2010.png"},{cryptoName:"DOTUSDT",cryptoImage:"https://s2.coinmarketcap.com/static/img/coins/64x64/6636.png"},{cryptoName:"BNBUSDT",cryptoImage:"https://s2.coinmarketcap.com/static/img/coins/64x64/1839.png"},{cryptoName:"LINKUSDT",cryptoImage:"https://s2.coinmarketcap.com/static/img/coins/64x64/1975.png"},{cryptoName:"CAKEUSDT",cryptoImage:"https://s2.coinmarketcap.com/static/img/coins/64x64/7186.png"},{cryptoName:"MATICUSDT",cryptoImage:"https://s2.coinmarketcap.com/static/img/coins/64x64/3890.png"}],$t=t=>Xt.find((e=>e.cryptoName===t)).cryptoImage,Yt=t=>new Date(t).toLocaleString();var Jt=n(248),Zt=n(327),te=n(164);let ee=function(t){t()};const ne=()=>ee,ie=e.createContext(null);function re(){return(0,e.useContext)(ie)}let se=()=>{throw new Error("uSES not initialized!")};const oe=(t,e)=>t===e;function ae(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;const n=t===ie?re:()=>(0,e.useContext)(t);return function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe;const{store:r,subscription:s,getServerState:o}=n(),a=se(s.addNestedSub,r.getState,o||r.getState,t,i);return(0,e.useDebugValue)(a),a}}const le=ae();n(110),n(900);const ue={notify(){},get:()=>[]};function ce(t,e){let n,i=ue;function r(){o.onStateChange&&o.onStateChange()}function s(){n||(n=e?e.addNestedSub(r):t.subscribe(r),i=function(){const t=ne();let e=null,n=null;return{clear(){e=null,n=null},notify(){t((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){let t=[],n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let i=!0,r=n={callback:t,next:null,prev:n};return r.prev?r.prev.next=r:e=r,function(){i&&null!==e&&(i=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}())}const o={addNestedSub:function(t){return s(),i.subscribe(t)},notifyNestedSubs:function(){i.notify()},handleChangeWrapper:r,isSubscribed:function(){return Boolean(n)},trySubscribe:s,tryUnsubscribe:function(){n&&(n(),n=void 0,i.clear(),i=ue)},getListeners:()=>i};return o}const he=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?e.useLayoutEffect:e.useEffect;let fe=null;const de=function(t){let{store:n,context:i,children:r,serverState:s}=t;const o=(0,e.useMemo)((()=>{const t=ce(n);return{store:n,subscription:t,getServerState:s?()=>s:void 0}}),[n,s]),a=(0,e.useMemo)((()=>n.getState()),[n]);he((()=>{const{subscription:t}=o;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),a!==n.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[o,a]);const l=i||ie;return e.createElement(l.Provider,{value:o},r)};function pe(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;const n=t===ie?re:()=>(0,e.useContext)(t);return function(){const{store:t}=n();return t}}const me=pe();function ge(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;const e=t===ie?me:pe(t);return function(){return e().dispatch}}const ve=ge();var ye;function we(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function be(t){return!!t&&!!t[cn]}function _e(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===hn}(t)||Array.isArray(t)||!!t[un]||!!t.constructor[un]||xe(t)||Me(t))}function Se(t,e,n){void 0===n&&(n=!1),0===Ee(t)?(n?Object.keys:fn)(t).forEach((function(i){n&&"symbol"==typeof i||e(i,t[i],t)})):t.forEach((function(n,i){return e(i,n,t)}))}function Ee(t){var e=t[cn];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:xe(t)?2:Me(t)?3:0}function ke(t,e){return 2===Ee(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Te(t,e){return 2===Ee(t)?t.get(e):t[e]}function Ce(t,e,n){var i=Ee(t);2===i?t.set(e,n):3===i?(t.delete(e),t.add(n)):t[e]=n}function Ie(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function xe(t){return sn&&t instanceof Map}function Me(t){return on&&t instanceof Set}function Ne(t){return t.o||t.t}function Oe(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=dn(t);delete e[cn];for(var n=fn(e),i=0;i<n.length;i++){var r=n[i],s=e[r];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[r]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[r]})}return Object.create(Object.getPrototypeOf(t),e)}function Pe(t,e){return void 0===e&&(e=!1),De(t)||be(t)||!_e(t)||(Ee(t)>1&&(t.set=t.add=t.clear=t.delete=Ae),Object.freeze(t),e&&Se(t,(function(t,e){return Pe(e,!0)}),!0)),t}function Ae(){we(2)}function De(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function Re(t){var e=pn[t];return e||we(18,t),e}function Le(t,e){pn[t]||(pn[t]=e)}function je(){return nn}function Fe(t,e){e&&(Re("Patches"),t.u=[],t.s=[],t.v=e)}function Ve(t){ze(t),t.p.forEach(Be),t.p=null}function ze(t){t===nn&&(nn=t.l)}function Ue(t){return nn={p:[],l:nn,h:t,m:!0,_:0}}function Be(t){var e=t[cn];0===e.i||1===e.i?e.j():e.O=!0}function We(t,e){e._=e.p.length;var n=e.p[0],i=void 0!==t&&t!==n;return e.h.g||Re("ES5").S(e,t,i),i?(n[cn].P&&(Ve(e),we(4)),_e(t)&&(t=qe(e,t),e.l||Ge(e,t)),e.u&&Re("Patches").M(n[cn].t,t,e.u,e.s)):t=qe(e,n,[]),Ve(e),e.u&&e.v(e.u,e.s),t!==ln?t:void 0}function qe(t,e,n){if(De(e))return e;var i=e[cn];if(!i)return Se(e,(function(r,s){return He(t,i,e,r,s,n)}),!0),e;if(i.A!==t)return e;if(!i.P)return Ge(t,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var r=4===i.i||5===i.i?i.o=Oe(i.k):i.o;Se(3===i.i?new Set(r):r,(function(e,s){return He(t,i,r,e,s,n)})),Ge(t,r,!1),n&&t.u&&Re("Patches").R(i,n,t.u,t.s)}return i.o}function He(t,e,n,i,r,s){if(be(r)){var o=qe(t,r,s&&e&&3!==e.i&&!ke(e.D,i)?s.concat(i):void 0);if(Ce(n,i,o),!be(o))return;t.m=!1}if(_e(r)&&!De(r)){if(!t.h.F&&t._<1)return;qe(t,r),e&&e.A.l||Ge(t,r)}}function Ge(t,e,n){void 0===n&&(n=!1),t.h.F&&t.m&&Pe(e,n)}function Ke(t,e){var n=t[cn];return(n?Ne(n):t)[e]}function Qe(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function Xe(t){t.P||(t.P=!0,t.l&&Xe(t.l))}function $e(t){t.o||(t.o=Oe(t.t))}function Ye(t,e,n){var i=xe(e)?Re("MapSet").N(e,n):Me(e)?Re("MapSet").T(e,n):t.g?function(t,e){var n=Array.isArray(t),i={i:n?1:0,A:e?e.A:je(),P:!1,I:!1,D:{},l:e,t:t,k:null,o:null,j:null,C:!1},r=i,s=mn;n&&(r=[i],s=gn);var o=Proxy.revocable(r,s),a=o.revoke,l=o.proxy;return i.k=l,i.j=a,l}(e,n):Re("ES5").J(e,n);return(n?n.A:je()).p.push(i),i}function Je(t){return be(t)||we(22,t),function t(e){if(!_e(e))return e;var n,i=e[cn],r=Ee(e);if(i){if(!i.P&&(i.i<4||!Re("ES5").K(i)))return i.t;i.I=!0,n=Ze(e,r),i.I=!1}else n=Ze(e,r);return Se(n,(function(e,r){i&&Te(i.t,e)===r||Ce(n,e,t(r))})),3===r?new Set(n):n}(t)}function Ze(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Oe(t)}function tn(){function t(t,e){var n=r[t];return n?n.enumerable=e:r[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[cn];return mn.get(e,t)},set:function(e){var n=this[cn];mn.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var r=t[e][cn];if(!r.P)switch(r.i){case 5:i(r)&&Xe(r);break;case 4:n(r)&&Xe(r)}}}function n(t){for(var e=t.t,n=t.k,i=fn(n),r=i.length-1;r>=0;r--){var s=i[r];if(s!==cn){var o=e[s];if(void 0===o&&!ke(e,s))return!0;var a=n[s],l=a&&a[cn];if(l?l.t!==o:!Ie(a,o))return!0}}var u=!!e[cn];return i.length!==fn(e).length+(u?0:1)}function i(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);if(n&&!n.get)return!0;for(var i=0;i<e.length;i++)if(!e.hasOwnProperty(i))return!0;return!1}var r={};Le("ES5",{J:function(e,n){var i=Array.isArray(e),r=function(e,n){if(e){for(var i=Array(n.length),r=0;r<n.length;r++)Object.defineProperty(i,""+r,t(r,!0));return i}var s=dn(n);delete s[cn];for(var o=fn(s),a=0;a<o.length;a++){var l=o[a];s[l]=t(l,e||!!s[l].enumerable)}return Object.create(Object.getPrototypeOf(n),s)}(i,e),s={i:i?5:4,A:n?n.A:je(),P:!1,I:!1,D:{},l:n,t:e,k:r,o:null,O:!1,C:!1};return Object.defineProperty(r,cn,{value:s,writable:!0}),r},S:function(t,n,r){r?be(n)&&n[cn].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var n=e[cn];if(n){var r=n.t,s=n.k,o=n.D,a=n.i;if(4===a)Se(s,(function(e){e!==cn&&(void 0!==r[e]||ke(r,e)?o[e]||t(s[e]):(o[e]=!0,Xe(n)))})),Se(r,(function(t){void 0!==s[t]||ke(s,t)||(o[t]=!1,Xe(n))}));else if(5===a){if(i(n)&&(Xe(n),o.length=!0),s.length<r.length)for(var l=s.length;l<r.length;l++)o[l]=!1;else for(var u=r.length;u<s.length;u++)o[u]=!0;for(var c=Math.min(s.length,r.length),h=0;h<c;h++)s.hasOwnProperty(h)||(o[h]=!0),void 0===o[h]&&t(s[h])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):i(t)}})}(t=>{se=t})(Zt.useSyncExternalStoreWithSelector),(t=>{fe=t})(Jt.useSyncExternalStore),ye=te.unstable_batchedUpdates,ee=ye;var en,nn,rn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),sn="undefined"!=typeof Map,on="undefined"!=typeof Set,an="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ln=rn?Symbol.for("immer-nothing"):((en={})["immer-nothing"]=!0,en),un=rn?Symbol.for("immer-draftable"):"__$immer_draftable",cn=rn?Symbol.for("immer-state"):"__$immer_state",hn=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),fn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,dn=Object.getOwnPropertyDescriptors||function(t){var e={};return fn(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},pn={},mn={get:function(t,e){if(e===cn)return t;var n=Ne(t);if(!ke(n,e))return function(t,e,n){var i,r=Qe(e,n);return r?"value"in r?r.value:null===(i=r.get)||void 0===i?void 0:i.call(t.k):void 0}(t,n,e);var i=n[e];return t.I||!_e(i)?i:i===Ke(t.t,e)?($e(t),t.o[e]=Ye(t.A.h,i,t)):i},has:function(t,e){return e in Ne(t)},ownKeys:function(t){return Reflect.ownKeys(Ne(t))},set:function(t,e,n){var i=Qe(Ne(t),e);if(null==i?void 0:i.set)return i.set.call(t.k,n),!0;if(!t.P){var r=Ke(Ne(t),e),s=null==r?void 0:r[cn];if(s&&s.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(Ie(n,r)&&(void 0!==n||ke(t.t,e)))return!0;$e(t),Xe(t)}return t.o[e]===n&&"number"!=typeof n&&(void 0!==n||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==Ke(t.t,e)||e in t.t?(t.D[e]=!1,$e(t),Xe(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Ne(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:i.enumerable,value:n[e]}:i},defineProperty:function(){we(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){we(12)}},gn={};Se(mn,(function(t,e){gn[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),gn.deleteProperty=function(t,e){return gn.set.call(this,t,e,void 0)},gn.set=function(t,e,n){return mn.set.call(this,t[0],e,n,t[0])};var vn=function(){function t(t){var e=this;this.g=an,this.F=!0,this.produce=function(t,n,i){if("function"==typeof t&&"function"!=typeof n){var r=n;n=t;var s=e;return function(t){var e=this;void 0===t&&(t=r);for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return s.produce(t,(function(t){var i;return(i=n).call.apply(i,[e,t].concat(o))}))}}var o;if("function"!=typeof n&&we(6),void 0!==i&&"function"!=typeof i&&we(7),_e(t)){var a=Ue(e),l=Ye(e,t,void 0),u=!0;try{o=n(l),u=!1}finally{u?Ve(a):ze(a)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(t){return Fe(a,i),We(t,a)}),(function(t){throw Ve(a),t})):(Fe(a,i),We(o,a))}if(!t||"object"!=typeof t){if(void 0===(o=n(t))&&(o=t),o===ln&&(o=void 0),e.F&&Pe(o,!0),i){var c=[],h=[];Re("Patches").M(t,o,c,h),i(c,h)}return o}we(21,t)},this.produceWithPatches=function(t,n){if("function"==typeof t)return function(n){for(var i=arguments.length,r=Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(r))}))};var i,r,s=e.produce(t,n,(function(t,e){i=t,r=e}));return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(t){return[t,i,r]})):[s,i,r]},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){_e(t)||we(8),be(t)&&(t=Je(t));var e=Ue(this),n=Ye(this,t,void 0);return n[cn].C=!0,ze(e),n},e.finishDraft=function(t,e){var n=(t&&t[cn]).A;return Fe(n,e),We(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!an&&we(20),this.g=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var i=e[n];if(0===i.path.length&&"replace"===i.op){t=i.value;break}}n>-1&&(e=e.slice(n+1));var r=Re("Patches").$;return be(t)?r(t,e):this.produce(t,(function(t){return r(t,e)}))},t}(),yn=new vn,wn=yn.produce;yn.produceWithPatches.bind(yn),yn.setAutoFreeze.bind(yn),yn.setUseProxies.bind(yn),yn.applyPatches.bind(yn),yn.createDraft.bind(yn),yn.finishDraft.bind(yn);const bn=wn;function _n(t){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(t)}function Sn(t){var e=function(t,e){if("object"!==_n(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==_n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_n(e)?e:String(e)}function En(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?En(Object(n),!0).forEach((function(e){var i,r,s;i=t,r=e,s=n[e],(r=Sn(r))in i?Object.defineProperty(i,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[r]=s})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Cn="function"===typeof Symbol&&Symbol.observable||"@@observable",In=function(){return Math.random().toString(36).substring(7).split("").join(".")},xn={INIT:"@@redux/INIT"+In(),REPLACE:"@@redux/REPLACE"+In(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+In()}};function Mn(t){if("object"!==typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Nn(t,e,n){var i;if("function"===typeof e&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Tn(0));if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Tn(1));return n(Nn)(t,e)}if("function"!==typeof t)throw new Error(Tn(2));var r=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(Tn(3));return s}function h(t){if("function"!==typeof t)throw new Error(Tn(4));if(l)throw new Error(Tn(5));var e=!0;return u(),a.push(t),function(){if(e){if(l)throw new Error(Tn(6));e=!1,u();var n=a.indexOf(t);a.splice(n,1),o=null}}}function f(t){if(!Mn(t))throw new Error(Tn(7));if("undefined"===typeof t.type)throw new Error(Tn(8));if(l)throw new Error(Tn(9));try{l=!0,s=r(s,t)}finally{l=!1}for(var e=o=a,n=0;n<e.length;n++){(0,e[n])()}return t}return f({type:xn.INIT}),(i={dispatch:f,subscribe:h,getState:c,replaceReducer:function(t){if("function"!==typeof t)throw new Error(Tn(10));r=t,f({type:xn.REPLACE})}})[Cn]=function(){var t,e=h;return(t={subscribe:function(t){if("object"!==typeof t||null===t)throw new Error(Tn(11));function n(){t.next&&t.next(c())}return n(),{unsubscribe:e(n)}}})[Cn]=function(){return this},t},i}function On(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++){var r=e[i];0,"function"===typeof t[r]&&(n[r]=t[r])}var s,o=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if("undefined"===typeof n(void 0,{type:xn.INIT}))throw new Error(Tn(12));if("undefined"===typeof n(void 0,{type:xn.PROBE_UNKNOWN_ACTION()}))throw new Error(Tn(13))}))}(n)}catch(a){s=a}return function(t,e){if(void 0===t&&(t={}),s)throw s;for(var i=!1,r={},a=0;a<o.length;a++){var l=o[a],u=n[l],c=t[l],h=u(c,e);if("undefined"===typeof h){e&&e.type;throw new Error(Tn(14))}r[l]=h,i=i||h!==c}return(i=i||o.length!==Object.keys(t).length)?r:t}}function Pn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function An(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),i=function(){throw new Error(Tn(15))},r={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},s=e.map((function(t){return t(r)}));return i=Pn.apply(void 0,s)(n.dispatch),kn(kn({},n),{},{dispatch:i})}}}function Dn(t){return function(e){var n=e.dispatch,i=e.getState;return function(e){return function(r){return"function"===typeof r?r(n,i,t):e(r)}}}}var Rn=Dn();Rn.withExtraArgument=Dn;const Ln=Rn;var jn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fn=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},Vn=Object.defineProperty,zn=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Un=Object.prototype.hasOwnProperty,Bn=Object.prototype.propertyIsEnumerable,Wn=function(t,e,n){return e in t?Vn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},qn=function(t,e){for(var n in e||(e={}))Un.call(e,n)&&Wn(t,n,e[n]);if(zn)for(var i=0,r=zn(e);i<r.length;i++){n=r[i];Bn.call(e,n)&&Wn(t,n,e[n])}return t},Hn="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Pn:Pn.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Gn(t){if("object"!==typeof t||null===t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return e===n}var Kn=function(t){function e(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=t.apply(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return jn(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,Fn([void 0],t[0].concat(this)))):new(e.bind.apply(e,Fn([void 0],t.concat(this))))},e}(Array);function Qn(){return function(t){return function(t){void 0===t&&(t={});var e=t.thunk,n=void 0===e||e,i=(t.immutableCheck,t.serializableCheck,new Kn);n&&(!function(t){return"boolean"===typeof t}(n)?i.push(Ln.withExtraArgument(n.extraArgument)):i.push(Ln));0;return i}(t)}}function Xn(t,e){function n(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(e){var r=e.apply(void 0,n);if(!r)throw new Error("prepareAction did not return an object");return qn(qn({type:t,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:t,payload:n[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}function $n(t){var e,n={},i=[],r={addCase:function(t,e){var i="string"===typeof t?t:t.type;if(i in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[i]=e,r},addMatcher:function(t,e){return i.push({matcher:t,reducer:e}),r},addDefaultCase:function(t){return e=t,r}};return t(r),[n,i,e]}function Yn(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");var n,i="function"==typeof t.initialState?t.initialState:bn(t.initialState,(function(){})),r=t.reducers||{},s=Object.keys(r),o={},a={},l={};function u(){var e="function"===typeof t.extraReducers?$n(t.extraReducers):[t.extraReducers],n=e[0],r=void 0===n?{}:n,s=e[1],o=void 0===s?[]:s,l=e[2],u=void 0===l?void 0:l,c=qn(qn({},r),a);return function(t,e,n,i){void 0===n&&(n=[]);var r,s="function"===typeof e?$n(e):[e,n,i],o=s[0],a=s[1],l=s[2];if(function(t){return"function"===typeof t}(t))r=function(){return bn(t(),(function(){}))};else{var u=bn(t,(function(){}));r=function(){return u}}function c(t,e){void 0===t&&(t=r());var n=Fn([o[e.type]],a.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===n.filter((function(t){return!!t})).length&&(n=[l]),n.reduce((function(t,n){if(n){var i;if(be(t))return"undefined"===typeof(i=n(t,e))?t:i;if(_e(t))return bn(t,(function(t){return n(t,e)}));if("undefined"===typeof(i=n(t,e))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return i}return t}),t)}return c.getInitialState=r,c}(i,c,o,u)}return s.forEach((function(t){var n,i,s=r[t],u=e+"/"+t;"reducer"in s?(n=s.reducer,i=s.prepare):n=s,o[t]=n,a[u]=n,l[t]=i?Xn(u,i):Xn(u)})),{name:e,reducer:function(t,e){return n||(n=u()),n(t,e)},actions:l,caseReducers:o,getInitialState:function(){return n||(n=u()),n.getInitialState()}}}Object.assign;var Jn="listenerMiddleware";Xn(Jn+"/add"),Xn(Jn+"/removeAll"),Xn(Jn+"/remove");tn();const Zn=Yn({name:"tradeInfo",initialState:{value:[]},reducers:{setNewTrade:(t,e)=>{t.value=[...e.payload,...t.value]},deleteNewTrade:(t,e)=>{t.value=e.payload}}}),{setNewTrade:ti,deleteNewTrade:ei}=Zn.actions,ni=Zn.reducer,ii=Yn({name:"extraInfoCalc",initialState:{value:null},reducers:{setCalcInfo:(t,e)=>{t.value=e.payload}}}),{setCalcInfo:ri}=ii.actions,si=ii.reducer;let oi=Si();const ai=t=>yi(t,oi);let li=Si();ai.write=t=>yi(t,li);let ui=Si();ai.onStart=t=>yi(t,ui);let ci=Si();ai.onFrame=t=>yi(t,ci);let hi=Si();ai.onFinish=t=>yi(t,hi);let fi=[];ai.setTimeout=(t,e)=>{let n=ai.now()+e,i=()=>{let t=fi.findIndex((t=>t.cancel==i));~t&&fi.splice(t,1),gi-=~t?1:0},r={time:n,handler:t,cancel:i};return fi.splice(di(n),0,r),gi+=1,wi(),r};let di=t=>~(~fi.findIndex((e=>e.time>t))||~fi.length);ai.cancel=t=>{ui.delete(t),ci.delete(t),hi.delete(t),oi.delete(t),li.delete(t)},ai.sync=t=>{vi=!0,ai.batchedUpdates(t),vi=!1},ai.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function i(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e=i,ai.onStart(n)}return i.handler=t,i.cancel=()=>{ui.delete(n),e=null},i};let pi="undefined"!=typeof window?window.requestAnimationFrame:()=>{};ai.use=t=>pi=t,ai.now="undefined"!=typeof performance?()=>performance.now():Date.now,ai.batchedUpdates=t=>t(),ai.catch=console.error,ai.frameLoop="always",ai.advance=()=>{"demand"!==ai.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):_i()};let mi=-1,gi=0,vi=!1;function yi(t,e){vi?(e.delete(t),t(0)):(e.add(t),wi())}function wi(){mi<0&&(mi=0,"demand"!==ai.frameLoop&&pi(bi))}function bi(){~mi&&(pi(bi),ai.batchedUpdates(_i))}function _i(){let t=mi;mi=ai.now();let e=di(mi);e&&(Ei(fi.splice(0,e),(t=>t.handler())),gi-=e),gi?(ui.flush(),oi.flush(t?Math.min(64,mi-t):16.667),ci.flush(),li.flush(),hi.flush()):mi=-1}function Si(){let t=new Set,e=t;return{add(n){gi+=e!=t||t.has(n)?0:1,t.add(n)},delete:n=>(gi-=e==t&&t.has(n)?1:0,t.delete(n)),flush(n){e.size&&(t=new Set,gi-=e.size,Ei(e,(e=>e(n)&&t.add(e))),gi+=t.size,e=t)}}}function Ei(t,e){t.forEach((t=>{try{e(t)}catch(n){ai.catch(n)}}))}function ki(){}const Ti={arr:Array.isArray,obj:t=>!!t&&"Object"===t.constructor.name,fun:t=>"function"===typeof t,str:t=>"string"===typeof t,num:t=>"number"===typeof t,und:t=>void 0===t};function Ci(t,e){if(Ti.arr(t)){if(!Ti.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}const Ii=(t,e)=>t.forEach(e);function xi(t,e,n){if(Ti.arr(t))for(let i=0;i<t.length;i++)e.call(n,t[i],"".concat(i));else for(const i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i)}const Mi=t=>Ti.und(t)?[]:Ti.arr(t)?t:[t];function Ni(t,e){if(t.size){const n=Array.from(t);t.clear(),Ii(n,e)}}const Oi=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Ni(t,(t=>t(...n)))},Pi=()=>"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let Ai,Di,Ri=null,Li=!1,ji=ki;const Fi=t=>{t.to&&(Di=t.to),t.now&&(ai.now=t.now),void 0!==t.colors&&(Ri=t.colors),null!=t.skipAnimation&&(Li=t.skipAnimation),t.createStringInterpolator&&(Ai=t.createStringInterpolator),t.requestAnimationFrame&&ai.use(t.requestAnimationFrame),t.batchedUpdates&&(ai.batchedUpdates=t.batchedUpdates),t.willAdvance&&(ji=t.willAdvance),t.frameLoop&&(ai.frameLoop=t.frameLoop)};var Vi=Object.freeze({__proto__:null,get createStringInterpolator(){return Ai},get to(){return Di},get colors(){return Ri},get skipAnimation(){return Li},get willAdvance(){return ji},assign:Fi});const zi=new Set;let Ui=[],Bi=[],Wi=0;const qi={get idle(){return!zi.size&&!Ui.length},start(t){Wi>t.priority?(zi.add(t),ai.onStart(Hi)):(Gi(t),ai(Qi))},advance:Qi,sort(t){if(Wi)ai.onFrame((()=>qi.sort(t)));else{const e=Ui.indexOf(t);~e&&(Ui.splice(e,1),Ki(t))}},clear(){Ui=[],zi.clear()}};function Hi(){zi.forEach(Gi),zi.clear(),ai(Qi)}function Gi(t){Ui.includes(t)||Ki(t)}function Ki(t){Ui.splice(function(t,e){const n=t.findIndex(e);return n<0?t.length:n}(Ui,(e=>e.priority>t.priority)),0,t)}function Qi(t){const e=Bi;for(let n=0;n<Ui.length;n++){const i=Ui[n];Wi=i.priority,i.idle||(ji(i),i.advance(t),i.idle||e.push(i))}return Wi=0,Bi=Ui,Bi.length=0,Ui=e,Ui.length>0}const Xi="[-+]?\\d*\\.?\\d+",$i=Xi+"%";function Yi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const Ji=new RegExp("rgb"+Yi(Xi,Xi,Xi)),Zi=new RegExp("rgba"+Yi(Xi,Xi,Xi,Xi)),tr=new RegExp("hsl"+Yi(Xi,$i,$i)),er=new RegExp("hsla"+Yi(Xi,$i,$i,Xi)),nr=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ir=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,rr=/^#([0-9a-fA-F]{6})$/,sr=/^#([0-9a-fA-F]{8})$/;function or(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ar(t,e,n){const i=n<.5?n*(1+e):n+e-n*e,r=2*n-i,s=or(r,i,t+1/3),o=or(r,i,t),a=or(r,i,t-1/3);return Math.round(255*s)<<24|Math.round(255*o)<<16|Math.round(255*a)<<8}function lr(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function ur(t){return(parseFloat(t)%360+360)%360/360}function cr(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(255*e)}function hr(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function fr(t){let e=function(t){let e;return"number"===typeof t?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=rr.exec(t))?parseInt(e[1]+"ff",16)>>>0:Ri&&void 0!==Ri[t]?Ri[t]:(e=Ji.exec(t))?(lr(e[1])<<24|lr(e[2])<<16|lr(e[3])<<8|255)>>>0:(e=Zi.exec(t))?(lr(e[1])<<24|lr(e[2])<<16|lr(e[3])<<8|cr(e[4]))>>>0:(e=nr.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=sr.exec(t))?parseInt(e[1],16)>>>0:(e=ir.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=tr.exec(t))?(255|ar(ur(e[1]),hr(e[2]),hr(e[3])))>>>0:(e=er.exec(t))?(ar(ur(e[1]),hr(e[2]),hr(e[3]))|cr(e[4]))>>>0:null}(t);if(null===e)return t;e=e||0;let n=(16711680&e)>>>16,i=(65280&e)>>>8,r=(255&e)/255;return"rgba(".concat((4278190080&e)>>>24,", ").concat(n,", ").concat(i,", ").concat(r,")")}const dr=(t,e,n)=>{if(Ti.fun(t))return t;if(Ti.arr(t))return dr({range:t,output:e,extrapolate:n});if(Ti.str(t.output[0]))return Ai(t);const i=t,r=i.output,s=i.range||[0,1],o=i.extrapolateLeft||i.extrapolate||"extend",a=i.extrapolateRight||i.extrapolate||"extend",l=i.easing||(t=>t);return t=>{const e=function(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}(t,s);return function(t,e,n,i,r,s,o,a,l){let u=l?l(t):t;if(u<e){if("identity"===o)return u;"clamp"===o&&(u=e)}if(u>n){if("identity"===a)return u;"clamp"===a&&(u=n)}if(i===r)return i;if(e===n)return t<=e?i:r;e===-1/0?u=-u:n===1/0?u-=e:u=(u-e)/(n-e);u=s(u),i===-1/0?u=-u:r===1/0?u+=i:u=u*(r-i)+i;return u}(t,s[e],s[e+1],r[e],r[e+1],l,o,a,i.map)}};function pr(){return pr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pr.apply(this,arguments)}const mr=Symbol.for("FluidValue.get"),gr=Symbol.for("FluidValue.observers"),vr=t=>Boolean(t&&t[mr]),yr=t=>t&&t[mr]?t[mr]():t,wr=t=>t[gr]||null;function br(t,e){let n=t[gr];n&&n.forEach((t=>{!function(t,e){t.eventObserved?t.eventObserved(e):t(e)}(t,e)}))}class _r{constructor(t){if(this[mr]=void 0,this[gr]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");Sr(this,t)}}const Sr=(t,e)=>Tr(t,mr,e);function Er(t,e){if(t[mr]){let n=t[gr];n||Tr(t,gr,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function kr(t,e){let n=t[gr];if(n&&n.has(e)){const i=n.size-1;i?n.delete(e):t[gr]=null,t.observerRemoved&&t.observerRemoved(i,e)}}const Tr=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),Cr=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ir=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,xr=new RegExp("(".concat(Cr.source,")(%|[a-z]+)"),"i"),Mr=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Nr=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Or=t=>{const[e,n]=Pr(t);if(!e||Pi())return t;const i=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(i)return i.trim();if(n&&n.startsWith("--")){const e=window.getComputedStyle(document.documentElement).getPropertyValue(n);return e||t}return n&&Nr.test(n)?Or(n):n||t},Pr=t=>{const e=Nr.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]};let Ar;const Dr=(t,e,n,i,r)=>"rgba(".concat(Math.round(e),", ").concat(Math.round(n),", ").concat(Math.round(i),", ").concat(r,")"),Rr=t=>{Ar||(Ar=Ri?new RegExp("(".concat(Object.keys(Ri).join("|"),")(?!\\w)"),"g"):/^\b$/);const e=t.output.map((t=>yr(t).replace(Nr,Or).replace(Ir,fr).replace(Ar,fr))),n=e.map((t=>t.match(Cr).map(Number))),i=n[0].map(((t,e)=>n.map((t=>{if(!(e in t))throw Error('The arity of each "output" value must be equal');return t[e]})))),r=i.map((e=>dr(pr({},t,{output:e}))));return t=>{var n;const i=!xr.test(e[0])&&(null==(n=e.find((t=>xr.test(t))))?void 0:n.replace(Cr,""));let s=0;return e[0].replace(Cr,(()=>"".concat(r[s++](t)).concat(i||""))).replace(Mr,Dr)}},Lr="react-spring: ",jr=t=>{const e=t;let n=!1;if("function"!=typeof e)throw new TypeError("".concat(Lr,"once requires a function parameter"));return function(){n||(e(...arguments),n=!0)}},Fr=jr(console.warn);const Vr=jr(console.warn);function zr(t){return Ti.str(t)&&("#"==t[0]||/\d/.test(t)||!Pi()&&Nr.test(t)||t in(Ri||{}))}const Ur=Pi()?e.useEffect:e.useLayoutEffect,Br=()=>{const t=(0,e.useRef)(!1);return Ur((()=>(t.current=!0,()=>{t.current=!1})),[]),t};function Wr(){const t=(0,e.useState)()[1],n=Br();return()=>{n.current&&t(Math.random())}}const qr=t=>(0,e.useEffect)(t,Hr),Hr=[];function Gr(t){const n=(0,e.useRef)();return(0,e.useEffect)((()=>{n.current=t})),n.current}const Kr=Symbol.for("Animated:node"),Qr=t=>t&&t[Kr],Xr=(t,e)=>{return n=t,i=Kr,r=e,Object.defineProperty(n,i,{value:r,writable:!0,configurable:!0});var n,i,r},$r=t=>t&&t[Kr]&&t[Kr].getPayload();class Yr{constructor(){this.payload=void 0,Xr(this,this)}getPayload(){return this.payload||[]}}class Jr extends Yr{constructor(t){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=t,Ti.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new Jr(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return Ti.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value!==t&&(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,Ti.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}}class Zr extends Jr{constructor(t){super(0),this._string=null,this._toString=void 0,this._toString=dr({output:[t,t]})}static create(t){return new Zr(t)}getValue(){let t=this._string;return null==t?this._string=this._toString(this._value):t}setValue(t){if(Ti.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else{if(!super.setValue(t))return!1;this._string=null}return!0}reset(t){t&&(this._toString=dr({output:[this.getValue(),t]})),this._value=0,super.reset()}}const ts={dependencies:null};class es extends Yr{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return xi(this.source,((n,i)=>{var r;(r=n)&&r[Kr]===r?e[i]=n.getValue(t):vr(n)?e[i]=yr(n):t||(e[i]=n)})),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&Ii(this.payload,(t=>t.reset()))}_makePayload(t){if(t){const e=new Set;return xi(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){ts.dependencies&&vr(t)&&ts.dependencies.add(t);const e=$r(t);e&&Ii(e,(t=>this.add(t)))}}class ns extends es{constructor(t){super(t)}static create(t){return new ns(t)}getValue(){return this.source.map((t=>t.getValue()))}setValue(t){const e=this.getPayload();return t.length==e.length?e.map(((e,n)=>e.setValue(t[n]))).some(Boolean):(super.setValue(t.map(is)),!0)}}function is(t){return(zr(t)?Zr:Jr).create(t)}function rs(t){const e=Qr(t);return e?e.constructor:Ti.arr(t)?ns:zr(t)?Zr:Jr}function ss(){return ss=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ss.apply(this,arguments)}const os=(t,n)=>{const i=!Ti.fun(t)||t.prototype&&t.prototype.isReactComponent;return(0,e.forwardRef)(((r,s)=>{const o=(0,e.useRef)(null),a=i&&(0,e.useCallback)((t=>{o.current=function(t,e){t&&(Ti.fun(t)?t(e):t.current=e);return e}(s,t)}),[s]),[l,u]=function(t,e){const n=new Set;ts.dependencies=n,t.style&&(t=ss({},t,{style:e.createAnimatedStyle(t.style)}));return t=new es(t),ts.dependencies=null,[t,n]}(r,n),c=Wr(),h=()=>{const t=o.current;if(i&&!t)return;!1===(!!t&&n.applyAnimatedValues(t,l.getValue(!0)))&&c()},f=new as(h,u),d=(0,e.useRef)();Ur((()=>(d.current=f,Ii(u,(t=>Er(t,f))),()=>{d.current&&(Ii(d.current.deps,(t=>kr(t,d.current))),ai.cancel(d.current.update))}))),(0,e.useEffect)(h,[]),qr((()=>()=>{const t=d.current;Ii(t.deps,(e=>kr(e,t)))}));const p=n.getComponentProps(l.getValue());return e.createElement(t,ss({},p,{ref:a}))}))};class as{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){"change"==t.type&&ai.write(this.update)}}const ls=Symbol.for("AnimatedComponent"),us=t=>Ti.str(t)?t:t&&Ti.str(t.displayName)?t.displayName:Ti.fun(t)&&t.name||null;function cs(){return cs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},cs.apply(this,arguments)}function hs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Ti.fun(t)?t(...n):t}const fs=(t,e)=>!0===t||!!(e&&t&&(Ti.fun(t)?t(e):Mi(t).includes(e))),ds=(t,e)=>Ti.obj(t)?e&&t[e]:t,ps=(t,e)=>!0===t.default?t[e]:t.default?t.default[e]:void 0,ms=t=>t,gs=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ms,n=vs;t.default&&!0!==t.default&&(t=t.default,n=Object.keys(t));const i={};for(const r of n){const n=e(t[r],r);Ti.und(n)||(i[r]=n)}return i},vs=["config","onProps","onStart","onChange","onPause","onResume","onRest"],ys={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function ws(t){const e=function(t){const e={};let n=0;if(xi(t,((t,i)=>{ys[i]||(e[i]=t,n++)})),n)return e}(t);if(e){const n={to:e};return xi(t,((t,i)=>i in e||(n[i]=t))),n}return cs({},t)}function bs(t){return t=yr(t),Ti.arr(t)?t.map(bs):zr(t)?Vi.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function _s(t){for(const e in t)return!0;return!1}function Ss(t){return Ti.fun(t)||Ti.arr(t)&&Ti.obj(t[0])}function Es(t,e){var n;null==(n=t.ref)||n.delete(t),null==e||e.delete(t)}function ks(t,e){var n;e&&t.ref!==e&&(null==(n=t.ref)||n.delete(t),e.add(t),t.ref=e)}const Ts=1.70158,Cs=1.525*Ts,Is=Ts+1,xs=2*Math.PI/3,Ms=2*Math.PI/4.5,Ns=t=>{const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},Os={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>0===t?0:Math.pow(2,10*t-10),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>Is*t*t*t-Ts*t*t,easeOutBack:t=>1+Is*Math.pow(t-1,3)+Ts*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*(7.189819*t-Cs)/2:(Math.pow(2*t-2,2)*((Cs+1)*(2*t-2)+Cs)+2)/2,easeInElastic:t=>0===t?0:1===t?1:-Math.pow(2,10*t-10)*Math.sin((10*t-10.75)*xs),easeOutElastic:t=>0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin((10*t-.75)*xs)+1,easeInOutElastic:t=>0===t?0:1===t?1:t<.5?-Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*Ms)/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*Ms)/2+1,easeInBounce:t=>1-Ns(1-t),easeOutBounce:Ns,easeInOutBounce:t=>t<.5?(1-Ns(1-2*t))/2:(1+Ns(2*t-1))/2},Ps=cs({},{tension:170,friction:26},{mass:1,damping:1,easing:Os.linear,clamp:!1});class As{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Ps)}}function Ds(t,e){if(Ti.und(e.decay)){const n=!Ti.und(e.tension)||!Ti.und(e.friction);!n&&Ti.und(e.frequency)&&Ti.und(e.damping)&&Ti.und(e.mass)||(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}else t.duration=void 0}const Rs=[];class Ls{constructor(){this.changed=!1,this.values=Rs,this.toValues=null,this.fromValues=Rs,this.to=void 0,this.from=void 0,this.config=new As,this.immediate=!1}}function js(t,e){let{key:n,props:i,defaultProps:r,state:s,actions:o}=e;return new Promise(((e,a)=>{var l;let u,c,h=fs(null!=(l=i.cancel)?l:null==r?void 0:r.cancel,n);if(h)p();else{Ti.und(i.pause)||(s.paused=fs(i.pause,n));let t=null==r?void 0:r.pause;!0!==t&&(t=s.paused||fs(t,n)),u=hs(i.delay||0,n),t?(s.resumeQueue.add(d),o.pause()):(o.resume(),d())}function f(){s.resumeQueue.add(d),s.timeouts.delete(c),c.cancel(),u=c.time-ai.now()}function d(){u>0&&!Vi.skipAnimation?(s.delayed=!0,c=ai.setTimeout(p,u),s.pauseQueue.add(f),s.timeouts.add(c)):p()}function p(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(f),s.timeouts.delete(c),t<=(s.cancelId||0)&&(h=!0);try{o.start(cs({},i,{callId:t,cancel:h}),e)}catch(n){a(n)}}}))}const Fs=(t,e)=>1==e.length?e[0]:e.some((t=>t.cancelled))?Us(t.get()):e.every((t=>t.noop))?Vs(t.get()):zs(t.get(),e.every((t=>t.finished))),Vs=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),zs=function(t,e){return{value:t,finished:e,cancelled:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}},Us=t=>({value:t,cancelled:!0,finished:!1});function Bs(t,e,n,i){const{callId:r,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=n;return s||t!==a||e.reset?n.promise=(async()=>{n.asyncId=r,n.asyncTo=t;const u=gs(e,((t,e)=>"onRest"===e?void 0:t));let c,h;const f=new Promise(((t,e)=>(c=t,h=e))),d=t=>{const e=r<=(n.cancelId||0)&&Us(i)||r!==n.asyncId&&zs(i,!1);if(e)throw t.result=e,h(t),t},p=(t,e)=>{const s=new qs,o=new Hs;return(async()=>{if(Vi.skipAnimation)throw Ws(n),o.result=zs(i,!1),h(o),o;d(s);const a=Ti.obj(t)?cs({},t):cs({},e,{to:t});a.parentId=r,xi(u,((t,e)=>{Ti.und(a[e])&&(a[e]=t)}));const l=await i.start(a);return d(s),n.paused&&await new Promise((t=>{n.resumeQueue.add(t)})),l})()};let m;if(Vi.skipAnimation)return Ws(n),zs(i,!1);try{let e;e=Ti.arr(t)?(async t=>{for(const e of t)await p(e)})(t):Promise.resolve(t(p,i.stop.bind(i))),await Promise.all([e.then(c),f]),m=zs(i.get(),!0,!1)}catch(g){if(g instanceof qs)m=g.result;else{if(!(g instanceof Hs))throw g;m=g.result}}finally{r==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?l:void 0)}return Ti.fun(o)&&ai.batchedUpdates((()=>{o(m,i,i.item)})),m})():l}function Ws(t,e){Ni(t.timeouts,(t=>t.cancel())),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}class qs extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class Hs extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const Gs=t=>t instanceof Qs;let Ks=1;class Qs extends _r{constructor(){super(...arguments),this.id=Ks++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=Qr(this);return t&&t.getValue()}to(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Vi.to(this,e)}interpolate(){Fr("".concat(Lr,'The "interpolate" function is deprecated in v9 (use "to" instead)'));for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Vi.to(this,e)}toJSON(){return this.get()}observerAdded(t){1==t&&this._attach()}observerRemoved(t){0==t&&this._detach()}_attach(){}_detach(){}_onChange(t){br(this,{type:"change",parent:this,value:t,idle:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}_onPriorityChange(t){this.idle||qi.sort(this),br(this,{type:"priority",parent:this,priority:t})}}const Xs=Symbol.for("SpringPhase"),$s=t=>(1&t[Xs])>0,Ys=t=>(2&t[Xs])>0,Js=t=>(4&t[Xs])>0,Zs=(t,e)=>e?t[Xs]|=3:t[Xs]&=-3,to=(t,e)=>e?t[Xs]|=4:t[Xs]&=-5;class eo extends Qs{constructor(t,e){if(super(),this.key=void 0,this.animation=new Ls,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Ti.und(t)||!Ti.und(e)){const n=Ti.obj(t)?cs({},t):cs({},e,{from:t});Ti.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Ys(this)||this._state.asyncTo)||Js(this)}get goal(){return yr(this.animation.to)}get velocity(){const t=Qr(this);return t instanceof Jr?t.lastVelocity||0:t.getPayload().map((t=>t.lastVelocity||0))}get hasAnimated(){return $s(this)}get isAnimating(){return Ys(this)}get isPaused(){return Js(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const i=this.animation;let{config:r,toValues:s}=i;const o=$r(i.to);!o&&vr(i.to)&&(s=Mi(yr(i.to))),i.values.forEach(((a,l)=>{if(a.done)return;const u=a.constructor==Zr?1:o?o[l].lastPosition:s[l];let c=i.immediate,h=u;if(!c){if(h=a.lastPosition,r.tension<=0)return void(a.done=!0);let e=a.elapsedTime+=t;const n=i.fromValues[l],s=null!=a.v0?a.v0:a.v0=Ti.arr(r.velocity)?r.velocity[l]:r.velocity;let o;if(Ti.und(r.duration))if(r.decay){const t=!0===r.decay?.998:r.decay,i=Math.exp(-(1-t)*e);h=n+s/(1-t)*(1-i),c=Math.abs(a.lastPosition-h)<.1,o=s*i}else{o=null==a.lastVelocity?s:a.lastVelocity;const e=r.precision||(n==u?.005:Math.min(1,.001*Math.abs(u-n))),i=r.restVelocity||e/10,l=r.clamp?0:r.bounce,f=!Ti.und(l),d=n==u?a.v0>0:n<u;let p,m=!1;const g=1,v=Math.ceil(t/g);for(let t=0;t<v&&(p=Math.abs(o)>i,p||(c=Math.abs(u-h)<=e,!c));++t){f&&(m=h==u||h>u==d,m&&(o=-o*l,h=u));o+=(1e-6*-r.tension*(h-u)+.001*-r.friction*o)/r.mass*g,h+=o*g}}else{let i=1;r.duration>0&&(this._memoizedDuration!==r.duration&&(this._memoizedDuration=r.duration,a.durationProgress>0&&(a.elapsedTime=r.duration*a.durationProgress,e=a.elapsedTime+=t)),i=(r.progress||0)+e/this._memoizedDuration,i=i>1?1:i<0?0:i,a.durationProgress=i),h=n+r.easing(i)*(u-n),o=(h-a.lastPosition)/t,c=1==i}a.lastVelocity=o,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),c=!0)}o&&!o[l].done&&(c=!1),c?a.done=!0:e=!1,a.setValue(h,r.round)&&(n=!0)}));const a=Qr(this),l=a.getValue();if(e){const t=yr(i.to);l===t&&!n||r.decay?n&&r.decay&&this._onChange(l):(a.setValue(t),this._onChange(t)),this._stop()}else n&&this._onChange(l)}set(t){return ai.batchedUpdates((()=>{this._stop(),this._focus(t),this._set(t)})),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ys(this)){const{to:t,config:e}=this.animation;ai.batchedUpdates((()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()}))}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return Ti.und(t)?(n=this.queue||[],this.queue=[]):n=[Ti.obj(t)?t:cs({},e,{to:t})],Promise.all(n.map((t=>this._update(t)))).then((t=>Fs(this,t)))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),Ws(this._state,t&&this._lastCallId),ai.batchedUpdates((()=>this._stop(e,t))),this}reset(){this._update({reset:!0})}eventObserved(t){"change"==t.type?this._start():"priority"==t.type&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:i}=t;n=Ti.obj(n)?n[e]:n,(null==n||Ss(n))&&(n=void 0),i=Ti.obj(i)?i[e]:i,null==i&&(i=void 0);const r={to:n,from:i};return $s(this)||(t.reverse&&([n,i]=[i,n]),i=yr(i),Ti.und(i)?Qr(this)||this._set(n):this._set(i)),r}_update(t,e){let n=cs({},t);const{key:i,defaultProps:r}=this;n.default&&Object.assign(r,gs(n,((t,e)=>/^on/.test(e)?ds(t,i):t))),lo(this,n,"onProps"),uo(this,"onProps",n,this);const s=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const o=this._state;return js(++this._lastCallId,{key:i,props:n,defaultProps:r,state:o,actions:{pause:()=>{Js(this)||(to(this,!0),Oi(o.pauseQueue),uo(this,"onPause",zs(this,no(this,this.animation.to)),this))},resume:()=>{Js(this)&&(to(this,!1),Ys(this)&&this._resume(),Oi(o.resumeQueue),uo(this,"onResume",zs(this,no(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then((t=>{if(n.loop&&t.finished&&(!e||!t.noop)){const t=io(n);if(t)return this._update(t,!0)}return t}))}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(Us(this));const i=!Ti.und(t.to),r=!Ti.und(t.from);if(i||r){if(!(e.callId>this._lastToId))return n(Us(this));this._lastToId=e.callId}const{key:s,defaultProps:o,animation:a}=this,{to:l,from:u}=a;let{to:c=l,from:h=u}=t;!r||i||e.default&&!Ti.und(c)||(c=h),e.reverse&&([c,h]=[h,c]);const f=!Ci(h,u);f&&(a.from=h),h=yr(h);const d=!Ci(c,l);d&&this._focus(c);const p=Ss(e.to),{config:m}=a,{decay:g,velocity:v}=m;(i||r)&&(m.velocity=0),e.config&&!p&&function(t,e,n){n&&(Ds(n=cs({},n),e),e=cs({},n,e)),Ds(t,e),Object.assign(t,e);for(const o in Ps)null==t[o]&&(t[o]=Ps[o]);let{mass:i,frequency:r,damping:s}=t;Ti.und(r)||(r<.01&&(r=.01),s<0&&(s=0),t.tension=Math.pow(2*Math.PI/r,2)*i,t.friction=4*Math.PI*s*i/r)}(m,hs(e.config,s),e.config!==o.config?hs(o.config,s):void 0);let y=Qr(this);if(!y||Ti.und(c))return n(zs(this,!0));const w=Ti.und(e.reset)?r&&!e.default:!Ti.und(h)&&fs(e.reset,s),b=w?h:this.get(),_=bs(c),S=Ti.num(_)||Ti.arr(_)||zr(_),E=!p&&(!S||fs(o.immediate||e.immediate,s));if(d){const t=rs(c);if(t!==y.constructor){if(!E)throw Error("Cannot animate between ".concat(y.constructor.name," and ").concat(t.name,', as the "to" prop suggests'));y=this._set(_)}}const k=y.constructor;let T=vr(c),C=!1;if(!T){const t=w||!$s(this)&&f;(d||t)&&(C=Ci(bs(b),_),T=!C),(Ci(a.immediate,E)||E)&&Ci(m.decay,g)&&Ci(m.velocity,v)||(T=!0)}if(C&&Ys(this)&&(a.changed&&!w?T=!0:T||this._stop(l)),!p&&((T||vr(l))&&(a.values=y.getPayload(),a.toValues=vr(c)?null:k==Zr?[1]:Mi(_)),a.immediate!=E&&(a.immediate=E,E||w||this._set(l)),T)){const{onRest:t}=a;Ii(ao,(t=>lo(this,e,t)));const i=zs(this,no(this,l));Oi(this._pendingCalls,i),this._pendingCalls.add(n),a.changed&&ai.batchedUpdates((()=>{a.changed=!w,null==t||t(i,this),w?hs(o.onRest,i):null==a.onStart||a.onStart(i,this)}))}w&&this._set(b),p?n(Bs(e.to,e,this._state,this)):T?this._start():Ys(this)&&!d?this._pendingCalls.add(n):n(Vs(b))}_focus(t){const e=this.animation;t!==e.to&&(wr(this)&&this._detach(),e.to=t,wr(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;vr(e)&&(Er(e,this),Gs(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;vr(t)&&kr(t,this)}_set(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=yr(t);if(!Ti.und(n)){const t=Qr(this);if(!t||!Ci(n,t.getValue())){const i=rs(n);t&&t.constructor==i?t.setValue(n):Xr(this,i.create(n)),t&&ai.batchedUpdates((()=>{this._onChange(n,e)}))}}return Qr(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,uo(this,"onStart",zs(this,no(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),hs(this.animation.onChange,t,this)),hs(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;Qr(this).reset(yr(t.to)),t.immediate||(t.fromValues=t.values.map((t=>t.lastPosition))),Ys(this)||(Zs(this,!0),Js(this)||this._resume())}_resume(){Vi.skipAnimation?this.finish():qi.start(this)}_stop(t,e){if(Ys(this)){Zs(this,!1);const n=this.animation;Ii(n.values,(t=>{t.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),br(this,{type:"idle",parent:this});const i=e?Us(this.get()):zs(this.get(),no(this,null!=t?t:n.to));Oi(this._pendingCalls,i),n.changed&&(n.changed=!1,uo(this,"onRest",i,this))}}}function no(t,e){const n=bs(e);return Ci(bs(t.get()),n)}function io(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.to,i=hs(e);if(i){const r=!0!==i&&ws(i),s=(r||t).reverse,o=!r||r.reset;return ro(cs({},t,{loop:e,default:!1,pause:void 0,to:!s||Ss(n)?n:void 0,from:o?t.from:void 0,reset:o},r))}}function ro(t){const{to:e,from:n}=t=ws(t),i=new Set;return Ti.obj(e)&&oo(e,i),Ti.obj(n)&&oo(n,i),t.keys=i.size?Array.from(i):null,t}function so(t){const e=ro(t);return Ti.und(e.default)&&(e.default=gs(e)),e}function oo(t,e){xi(t,((t,n)=>null!=t&&e.add(n)))}const ao=["onStart","onRest","onChange","onPause","onResume"];function lo(t,e,n){t.animation[n]=e[n]!==ps(e,n)?ds(e[n],t.key):void 0}function uo(t,e){for(var n,i,r,s,o=arguments.length,a=new Array(o>2?o-2:0),l=2;l<o;l++)a[l-2]=arguments[l];null==(n=(i=t.animation)[e])||n.call(i,...a),null==(r=(s=t.defaultProps)[e])||r.call(s,...a)}const co=["onStart","onChange","onRest"];let ho=1;class fo{constructor(t,e){this.id=ho++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start(cs({default:!0},t))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((t=>t.idle&&!t.isDelayed&&!t.isPaused))}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each(((e,n)=>t[n]=e.get())),t}set(t){for(const e in t){const n=t[e];Ti.und(n)||this.springs[e].set(n)}}update(t){return t&&this.queue.push(ro(t)),this}start(t){let{queue:e}=this;return t?e=Mi(t).map(ro):this.queue=[],this._flush?this._flush(this,e):(bo(this,e),po(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const n=this.springs;Ii(Mi(e),(e=>n[e].stop(!!t)))}else Ws(this._state,this._lastAsyncId),this.each((e=>e.stop(!!t)));return this}pause(t){if(Ti.und(t))this.start({pause:!0});else{const e=this.springs;Ii(Mi(t),(t=>e[t].pause()))}return this}resume(t){if(Ti.und(t))this.start({pause:!1});else{const e=this.springs;Ii(Mi(t),(t=>e[t].resume()))}return this}each(t){xi(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:n}=this._events,i=this._active.size>0,r=this._changed.size>0;(i&&!this._started||r&&!this._started)&&(this._started=!0,Ni(t,(t=>{let[e,n]=t;n.value=this.get(),e(n,this,this._item)})));const s=!i&&this._started,o=r||s&&n.size?this.get():null;r&&e.size&&Ni(e,(t=>{let[e,n]=t;n.value=o,e(n,this,this._item)})),s&&(this._started=!1,Ni(n,(t=>{let[e,n]=t;n.value=o,e(n,this,this._item)})))}eventObserved(t){if("change"==t.type)this._changed.add(t.parent),t.idle||this._active.add(t.parent);else{if("idle"!=t.type)return;this._active.delete(t.parent)}ai.onFrame(this._onFrame)}}function po(t,e){return Promise.all(e.map((e=>mo(t,e)))).then((e=>Fs(t,e)))}async function mo(t,e,n){const{keys:i,to:r,from:s,loop:o,onRest:a,onResolve:l}=e,u=Ti.obj(e.default)&&e.default;o&&(e.loop=!1),!1===r&&(e.to=null),!1===s&&(e.from=null);const c=Ti.arr(r)||Ti.fun(r)?r:void 0;c?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):Ii(co,(n=>{const i=e[n];if(Ti.fun(i)){const r=t._events[n];e[n]=t=>{let{finished:e,cancelled:n}=t;const s=r.get(i);s?(e||(s.finished=!1),n&&(s.cancelled=!0)):r.set(i,{value:null,finished:e||!1,cancelled:n||!1})},u&&(u[n]=e[n])}}));const h=t._state;e.pause===!h.paused?(h.paused=e.pause,Oi(e.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(e.pause=!0);const f=(i||Object.keys(t.springs)).map((n=>t.springs[n].start(e))),d=!0===e.cancel||!0===ps(e,"cancel");(c||d&&h.asyncId)&&f.push(js(++t._lastAsyncId,{props:e,state:h,actions:{pause:ki,resume:ki,start(e,n){d?(Ws(h,t._lastAsyncId),n(Us(t))):(e.onRest=a,n(Bs(c,e,h,t)))}}})),h.paused&&await new Promise((t=>{h.resumeQueue.add(t)}));const p=Fs(t,await Promise.all(f));if(o&&p.finished&&(!n||!p.noop)){const n=io(e,o,r);if(n)return bo(t,[n]),mo(t,n,!0)}return l&&ai.batchedUpdates((()=>l(p,t,t.item))),p}function go(t,e){const n=cs({},t.springs);return e&&Ii(Mi(e),(t=>{Ti.und(t.keys)&&(t=ro(t)),Ti.obj(t.to)||(t=cs({},t,{to:void 0})),wo(n,t,(t=>yo(t)))})),vo(t,n),n}function vo(t,e){xi(e,((e,n)=>{t.springs[n]||(t.springs[n]=e,Er(e,t))}))}function yo(t,e){const n=new eo;return n.key=t,e&&Er(n,e),n}function wo(t,e,n){e.keys&&Ii(e.keys,(i=>{(t[i]||(t[i]=n(i)))._prepareNode(e)}))}function bo(t,e){Ii(e,(e=>{wo(t.springs,e,(e=>yo(e,t)))}))}function _o(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}const So=["children"],Eo=t=>{let{children:n}=t,i=_o(t,So);const r=(0,e.useContext)(ko),s=i.pause||!!r.pause,o=i.immediate||!!r.immediate;i=function(t,n){const[i]=(0,e.useState)((()=>({inputs:n,result:t()}))),r=(0,e.useRef)(),s=r.current;let o=s;if(o){const e=Boolean(n&&o.inputs&&function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(n,o.inputs));e||(o={inputs:n,result:t()})}else o=i;return(0,e.useEffect)((()=>{r.current=o,s==i&&(i.inputs=i.result=void 0)}),[o]),o.result}((()=>({pause:s,immediate:o})),[s,o]);const{Provider:a}=ko;return e.createElement(a,{value:i},n)},ko=(To=Eo,Co={},Object.assign(To,e.createContext(Co)),To.Provider._context=To,To.Consumer._context=To,To);var To,Co;Eo.Provider=ko.Provider,Eo.Consumer=ko.Consumer;const Io=()=>{const t=[],e=function(e){Vr("".concat(Lr,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));const i=[];return Ii(t,((t,r)=>{if(Ti.und(e))i.push(t.start());else{const s=n(e,t,r);s&&i.push(t.start(s))}})),i};e.current=t,e.add=function(e){t.includes(e)||t.push(e)},e.delete=function(e){const n=t.indexOf(e);~n&&t.splice(n,1)},e.pause=function(){return Ii(t,(t=>t.pause(...arguments))),this},e.resume=function(){return Ii(t,(t=>t.resume(...arguments))),this},e.set=function(e){Ii(t,(t=>t.set(e)))},e.start=function(e){const n=[];return Ii(t,((t,i)=>{if(Ti.und(e))n.push(t.start());else{const r=this._getProps(e,t,i);r&&n.push(t.start(r))}})),n},e.stop=function(){return Ii(t,(t=>t.stop(...arguments))),this},e.update=function(e){return Ii(t,((t,n)=>t.update(this._getProps(e,t,n)))),this};const n=function(t,e,n){return Ti.fun(t)?t(n,e):t};return e._getProps=n,e};function xo(t,n,i){const r=Ti.fun(n)&&n;r&&!i&&(i=[]);const s=(0,e.useMemo)((()=>r||3==arguments.length?Io():void 0),[]),o=(0,e.useRef)(0),a=Wr(),l=(0,e.useMemo)((()=>({ctrls:[],queue:[],flush(t,e){const n=go(t,e);return o.current>0&&!l.queue.length&&!Object.keys(n).some((e=>!t.springs[e]))?po(t,e):new Promise((i=>{vo(t,n),l.queue.push((()=>{i(po(t,e))})),a()}))}})),[]),u=(0,e.useRef)([...l.ctrls]),c=[],h=Gr(t)||0;function f(t,e){for(let i=t;i<e;i++){const t=u.current[i]||(u.current[i]=new fo(null,l.flush)),e=r?r(i,t):n[i];e&&(c[i]=so(e))}}(0,e.useMemo)((()=>{Ii(u.current.slice(t,h),(t=>{Es(t,s),t.stop(!0)})),u.current.length=t,f(h,t)}),[t]),(0,e.useMemo)((()=>{f(0,Math.min(h,t))}),i);const d=u.current.map(((t,e)=>go(t,c[e]))),p=(0,e.useContext)(Eo),m=Gr(p),g=p!==m&&_s(p);Ur((()=>{o.current++,l.ctrls=u.current;const{queue:t}=l;t.length&&(l.queue=[],Ii(t,(t=>t()))),Ii(u.current,((t,e)=>{null==s||s.add(t),g&&t.start({default:p});const n=c[e];n&&(ks(t,n.ref),t.ref?t.queue.push(n):t.start(n))}))})),qr((()=>()=>{Ii(l.ctrls,(t=>t.stop(!0)))}));const v=d.map((t=>cs({},t)));return s?[v,s]:v}function Mo(t,e){const n=Ti.fun(t),[[i],r]=xo(1,n?t:[t],n?e||[]:e);return n||2==arguments.length?[i,r]:i}let No;!function(t){t.MOUNT="mount",t.ENTER="enter",t.UPDATE="update",t.LEAVE="leave"}(No||(No={}));class Oo extends Qs{constructor(t,e){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=t,this.calc=dr(...e);const n=this._get(),i=rs(n);Xr(this,i.create(n))}advance(t){const e=this._get();Ci(e,this.get())||(Qr(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&Ao(this._active)&&Do(this)}_get(){const t=Ti.arr(this.source)?this.source.map(yr):Mi(yr(this.source));return this.calc(...t)}_start(){this.idle&&!Ao(this._active)&&(this.idle=!1,Ii($r(this),(t=>{t.done=!1})),Vi.skipAnimation?(ai.batchedUpdates((()=>this.advance())),Do(this)):qi.start(this))}_attach(){let t=1;Ii(Mi(this.source),(e=>{vr(e)&&Er(e,this),Gs(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))})),this.priority=t,this._start()}_detach(){Ii(Mi(this.source),(t=>{vr(t)&&kr(t,this)})),this._active.clear(),Do(this)}eventObserved(t){"change"==t.type?t.idle?this.advance():(this._active.add(t.parent),this._start()):"idle"==t.type?this._active.delete(t.parent):"priority"==t.type&&(this.priority=Mi(this.source).reduce(((t,e)=>Math.max(t,(Gs(e)?e.priority:0)+1)),0))}}function Po(t){return!1!==t.idle}function Ao(t){return!t.size||Array.from(t).every(Po)}function Do(t){t.idle||(t.idle=!0,Ii($r(t),(t=>{t.done=!0})),br(t,{type:"idle",parent:t}))}Vi.assign({createStringInterpolator:Rr,to:(t,e)=>new Oo(t,e)});qi.advance;function Ro(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}const Lo=["style","children","scrollTop","scrollLeft"],jo=/^--/;function Fo(t,e){return null==e||"boolean"===typeof e||""===e?"":"number"!==typeof e||0===e||jo.test(t)||zo.hasOwnProperty(t)&&zo[t]?(""+e).trim():e+"px"}const Vo={};let zo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const Uo=["Webkit","Ms","Moz","O"];zo=Object.keys(zo).reduce(((t,e)=>(Uo.forEach((n=>t[((t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1))(n,e)]=t[e])),t)),zo);const Bo=["x","y","z"],Wo=/^(matrix|translate|scale|rotate|skew)/,qo=/^(translate)/,Ho=/^(rotate|skew)/,Go=(t,e)=>Ti.num(t)&&0!==t?t+e:t,Ko=(t,e)=>Ti.arr(t)?t.every((t=>Ko(t,e))):Ti.num(t)?t===e:parseFloat(t)===e;class Qo extends es{constructor(t){let{x:e,y:n,z:i}=t,r=Ro(t,Bo);const s=[],o=[];(e||n||i)&&(s.push([e||0,n||0,i||0]),o.push((t=>["translate3d(".concat(t.map((t=>Go(t,"px"))).join(","),")"),Ko(t,0)]))),xi(r,((t,e)=>{if("transform"===e)s.push([t||""]),o.push((t=>[t,""===t]));else if(Wo.test(e)){if(delete r[e],Ti.und(t))return;const n=qo.test(e)?"px":Ho.test(e)?"deg":"";s.push(Mi(t)),o.push("rotate3d"===e?t=>{let[e,i,r,s]=t;return["rotate3d(".concat(e,",").concat(i,",").concat(r,",").concat(Go(s,n),")"),Ko(s,0)]}:t=>["".concat(e,"(").concat(t.map((t=>Go(t,n))).join(","),")"),Ko(t,e.startsWith("scale")?1:0)])}})),s.length&&(r.transform=new Xo(s,o)),super(r)}}class Xo extends _r{constructor(t,e){super(),this._value=null,this.inputs=t,this.transforms=e}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return Ii(this.inputs,((n,i)=>{const r=yr(n[0]),[s,o]=this.transforms[i](Ti.arr(r)?r:n.map(yr));t+=" "+s,e=e&&o})),e?"none":t}observerAdded(t){1==t&&Ii(this.inputs,(t=>Ii(t,(t=>vr(t)&&Er(t,this)))))}observerRemoved(t){0==t&&Ii(this.inputs,(t=>Ii(t,(t=>vr(t)&&kr(t,this)))))}eventObserved(t){"change"==t.type&&(this._value=null),br(this,t)}}const $o=["scrollTop","scrollLeft"];Vi.assign({batchedUpdates:te.unstable_batchedUpdates,createStringInterpolator:Rr,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});const Yo=function(t){let{applyAnimatedValues:e=(()=>!1),createAnimatedStyle:n=(t=>new es(t)),getComponentProps:i=(t=>t)}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:i},s=t=>{const e=us(t)||"Anonymous";return(t=Ti.str(t)?s[t]||(s[t]=os(t,r)):t[ls]||(t[ls]=os(t,r))).displayName="Animated(".concat(e,")"),t};return xi(t,((e,n)=>{Ti.arr(t)&&(n=us(e)),s[n]=s(e)})),{animated:s}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n="filter"===t.nodeName||t.parentNode&&"filter"===t.parentNode.nodeName,i=e,{style:r,children:s,scrollTop:o,scrollLeft:a}=i,l=Ro(i,Lo),u=Object.values(l),c=Object.keys(l).map((e=>n||t.hasAttribute(e)?e:Vo[e]||(Vo[e]=e.replace(/([A-Z])/g,(t=>"-"+t.toLowerCase())))));void 0!==s&&(t.textContent=s);for(let h in r)if(r.hasOwnProperty(h)){const e=Fo(h,r[h]);jo.test(h)?t.style.setProperty(h,e):t.style[h]=e}c.forEach(((e,n)=>{t.setAttribute(e,u[n])})),void 0!==o&&(t.scrollTop=o),void 0!==a&&(t.scrollLeft=a)},createAnimatedStyle:t=>new Qo(t),getComponentProps:t=>Ro(t,$o)}),Jo=Yo.animated,Zo=Yn({name:"cryptoCoin",initialState:{value:{cryptoCoin:Xt[0].cryptoName,cryptoImage:Xt[0].cryptoImage}},reducers:{setCoin:(t,e)=>{t.value=e.payload}}}),{setCoin:ta}=Zo.actions,ea=Zo.reducer,na=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},ia={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const e=t[r],s=r+1<t.length,o=s?t[r+1]:0,a=r+2<t.length,l=a?t[r+2]:0,u=e>>2,c=(3&e)<<4|o>>4;let h=(15&o)<<2|l>>6,f=63&l;a||(f=64,s||(h=64)),i.push(n[u],n[c],n[h],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(na(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const e=n[t.charAt(r++)],s=r<t.length?n[t.charAt(r)]:0;++r;const o=r<t.length?n[t.charAt(r)]:64;++r;const a=r<t.length?n[t.charAt(r)]:64;if(++r,null==e||null==s||null==o||null==a)throw Error();const l=e<<2|s>>4;if(i.push(l),64!==o){const t=s<<4&240|o>>2;if(i.push(t),64!==a){const t=o<<6&192|a;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ra=function(t){return function(t){const e=na(t);return ia.encodeByteArray(e,!0)}(t).replace(/\./g,"")},sa=function(t){try{return ia.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};class oa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function aa(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function la(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(aa())}function ua(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function ca(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ha(){const t=aa();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fa(){return"object"===typeof indexedDB}function da(){return new Promise(((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}))}class pa extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,pa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ma.prototype.create)}}class ma{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),i=this.errors[t],r=i?function(t,e){return t.replace(ga,((t,n)=>{const i=e[n];return null!=i?String(i):"<".concat(n,"?>")}))}(i,e):"Error",s="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new pa(n,s,e)}}const ga=/\{\$([^}]+)}/g;function va(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],s=e[r];if(ya(n)&&ya(s)){if(!va(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function ya(t){return null!==t&&"object"===typeof t}function wa(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ba(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,i]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(i)}})),e}function _a(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Sa{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let i;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");i=function(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=Ea),void 0===i.error&&(i.error=Ea),void 0===i.complete&&(i.complete=Ea);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(t){}})),this.observers.push(i),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Ea(){}const ka=1e3,Ta=2,Ca=144e5,Ia=.5;function xa(t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ta;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ka)*Math.pow(e,t),i=Math.round(Ia*n*(Math.random()-.5)*2);return Math.min(Ca,n+i)}function Ma(t){return t&&t._delegate?t._delegate:t}class Na{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Oa="[DEFAULT]";class Pa{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new oa;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Oa})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:i});n.resolve(t)}catch(e){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(xE){}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Oa?void 0:r),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(xE){}var r;return i||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa;return this.component?this.component.multipleInstances?t:Oa:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Aa{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Pa(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const Da=[];var Ra;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Ra||(Ra={}));const La={debug:Ra.DEBUG,verbose:Ra.VERBOSE,info:Ra.INFO,warn:Ra.WARN,error:Ra.ERROR,silent:Ra.SILENT},ja=Ra.INFO,Fa={[Ra.DEBUG]:"log",[Ra.VERBOSE]:"log",[Ra.INFO]:"info",[Ra.WARN]:"warn",[Ra.ERROR]:"error"},Va=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),i=Fa[e];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];console[i]("[".concat(n,"]  ").concat(t.name,":"),...s)};class za{constructor(t){this.name=t,this._logLevel=ja,this._logHandler=Va,this._userLogHandler=null,Da.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ra))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?La[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ra.DEBUG,...e),this._logHandler(this,Ra.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ra.VERBOSE,...e),this._logHandler(this,Ra.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ra.INFO,...e),this._logHandler(this,Ra.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ra.WARN,...e),this._logHandler(this,Ra.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ra.ERROR,...e),this._logHandler(this,Ra.ERROR,...e)}}const Ua=(t,e)=>e.some((e=>t instanceof e));let Ba,Wa;const qa=new WeakMap,Ha=new WeakMap,Ga=new WeakMap,Ka=new WeakMap,Qa=new WeakMap;let Xa={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Ha.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Ga.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ja(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function $a(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Wa||(Wa=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(Za(this),n),Ja(qa.get(this))}:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Ja(t.apply(Za(this),n))}:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const s=t.call(Za(this),e,...i);return Ga.set(s,e.sort?e.sort():[e]),Ja(s)}}function Ya(t){return"function"===typeof t?$a(t):(t instanceof IDBTransaction&&function(t){if(Ha.has(t))return;const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{e(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)}));Ha.set(t,e)}(t),Ua(t,Ba||(Ba=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,Xa):t)}function Ja(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{e(Ja(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&qa.set(e,t)})).catch((()=>{})),Qa.set(e,t),e}(t);if(Ka.has(t))return Ka.get(t);const e=Ya(t);return e!==t&&(Ka.set(t,e),Qa.set(e,t)),e}const Za=t=>Qa.get(t);function tl(t,e){let{blocked:n,upgrade:i,blocking:r,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(t,e),a=Ja(o);return i&&o.addEventListener("upgradeneeded",(t=>{i(Ja(o.result),t.oldVersion,t.newVersion,Ja(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),a.then((t=>{s&&t.addEventListener("close",(()=>s())),r&&t.addEventListener("versionchange",(()=>r()))})).catch((()=>{})),a}const el=["get","getKey","getAll","getAllKeys","count"],nl=["put","add","delete","clear"],il=new Map;function rl(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(il.get(e))return il.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=nl.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!el.includes(n))return;const s=async function(t){const e=this.transaction(t,r?"readwrite":"readonly");let s=e.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return i&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),r&&e.done]))[0]};return il.set(e,s),s}var sl;sl=t=>({...t,get:(e,n,i)=>rl(e,n)||t.get(e,n,i),has:(e,n)=>!!rl(e,n)||t.has(e,n)}),Xa=sl(Xa);class ol{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null})).filter((t=>t)).join(" ")}}const al="@firebase/app",ll="0.7.26",ul=new za("@firebase/app"),cl="[DEFAULT]",hl={[al]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},fl=new Map,dl=new Map;function pl(t,e){try{t.container.addComponent(e)}catch(n){ul.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function ml(t){const e=t.name;if(dl.has(e))return ul.debug("There were multiple attempts to register component ".concat(e,".")),!1;dl.set(e,t);for(const n of fl.values())pl(n,t);return!0}function gl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const vl=new ma("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class yl{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Na("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw vl.create("app-deleted",{appName:this._name})}}const wl="9.8.3";function bl(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl;const e=fl.get(t);if(!e)throw vl.create("no-app",{appName:t});return e}function _l(t,e,n){var i;let r=null!==(i=hl[t])&&void 0!==i?i:t;n&&(r+="-".concat(n));const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=['Unable to register library "'.concat(r,'" with version "').concat(e,'":')];return s&&t.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),s&&o&&t.push("and"),o&&t.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void ul.warn(t.join(" "))}ml(new Na("".concat(r,"-version"),(()=>({library:r,version:e})),"VERSION"))}const Sl="firebase-heartbeat-database",El=1,kl="firebase-heartbeat-store";let Tl=null;function Cl(){return Tl||(Tl=tl(Sl,El,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(kl)}}).catch((t=>{throw vl.create("storage-open",{originalErrorMessage:t.message})}))),Tl}async function Il(t,e){var n;try{const n=(await Cl()).transaction(kl,"readwrite"),i=n.objectStore(kl);return await i.put(e,xl(t)),n.done}catch(i){throw vl.create("storage-set",{originalErrorMessage:null===(n=i)||void 0===n?void 0:n.message})}}function xl(t){return"".concat(t.name,"!").concat(t.options.appId)}class Ml{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Ol(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=Nl();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some((t=>t.date===e)))return this._heartbeatsCache.heartbeats.push({date:e,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=Nl(),{heartbeatsToSend:e,unsentEntries:n}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=t.slice();for(const r of t){const t=n.find((t=>t.agent===r.agent));if(t){if(t.dates.push(r.date),Pl(n)>e){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Pl(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=ra(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Nl(){return(new Date).toISOString().substring(0,10)}class Ol{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!fa()&&da().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){var e;try{return(await Cl()).transaction(kl).objectStore(kl).get(xl(t))}catch(n){throw vl.create("storage-get",{originalErrorMessage:null===(e=n)||void 0===e?void 0:e.message})}}(this.app);return t||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Il(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Il(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function Pl(t){return ra(JSON.stringify({version:2,heartbeats:t})).length}var Al;Al="",ml(new Na("platform-logger",(t=>new ol(t)),"PRIVATE")),ml(new Na("heartbeat",(t=>new Ml(t)),"PRIVATE")),_l(al,ll,Al),_l(al,ll,"esm2017"),_l("fire-js","");_l("firebase","9.8.3","app");function Dl(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Rl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ll=Rl,jl=new ma("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fl=new za("@firebase/auth");function Vl(t){if(Fl.logLevel<=Ra.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];Fl.error("Auth (".concat(wl,"): ").concat(t),...n)}}function zl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw ql(t,...n)}function Ul(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return ql(t,...n)}function Bl(t,e,n){const i=Object.assign(Object.assign({},Ll()),{[e]:n});return new ma("auth","Firebase",i).create(e,{appName:t.name})}function Wl(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&zl(t,"argument-error"),Bl(t,"argument-error","Type of ".concat(e.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ql(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if("string"!==typeof t){const e=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(e,...i)}return jl.create(t,...n)}function Hl(t,e){if(!t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];throw ql(e,...i)}}function Gl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vl(e),new Error(e)}function Kl(t,e){t||Gl(e)}const Ql=new Map;function Xl(t){Kl(t instanceof Function,"Expected a class definition");let e=Ql.get(t);return e?(Kl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ql.set(t,e),e)}function $l(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function Yl(){return"http:"===Jl()||"https:"===Jl()}function Jl(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Zl{constructor(t,e){this.shortDelay=t,this.longDelay=e,Kl(e>t,"Short delay should be less than long delay!"),this.isMobile=la()||ca()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Yl()||ua()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function tu(t,e){Kl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}class eu{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Gl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Gl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Gl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nu={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},iu=new Zl(3e4,6e4);function ru(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function su(t,e,n,i){return ou(t,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let r={},s={};i&&("GET"===e?s=i:r={body:JSON.stringify(i)});const o=wa(Object.assign({key:t.config.apiKey},s)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),eu.fetch()(lu(t,t.config.apiHost,n,o),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},r))}))}async function ou(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},nu),e);try{const e=new uu(t),r=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw cu(t,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const e=r.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw cu(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw cu(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw cu(t,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Bl(t,a,o);zl(t,a)}}catch(r){if(r instanceof pa)throw r;zl(t,"network-request-failed")}}async function au(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await su(t,e,n,i,r);return"mfaPendingCredential"in s&&zl(t,"multi-factor-auth-required",{_serverResponse:s}),s}function lu(t,e,n,i){const r="".concat(e).concat(n,"?").concat(i);return t.config.emulator?tu(t.config,r):"".concat(t.config.apiScheme,"://").concat(r)}class uu{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(Ul(this.auth,"network-request-failed"))),iu.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function cu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Ul(t,e,i);return r.customData._tokenResponse=n,r}function hu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function fu(t){return 1e3*Number(t)}function du(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return Vl("JWT malformed, contained fewer than 3 sections"),null;try{const t=sa(n);return t?JSON.parse(t):(Vl("Failed to decode base64 JWT payload"),null)}catch(r){return Vl("Caught error parsing JWT payload as JSON",r),null}}async function pu(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return e;try{return await e}catch(n){throw n instanceof pa&&function(t){let{code:e}=t;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}class mu{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void(t.code==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class gu{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vu(t){var e;const n=t.auth,i=await t.getIdToken(),r=await pu(t,async function(t,e){return su(t,"POST","/v1/accounts:lookup",e)}(n,{idToken:i}));Hl(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?s.providerUserInfo.map((t=>{var{providerId:e}=t,n=Dl(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=function(t,e){const n=t.filter((t=>!e.some((e=>e.providerId===t.providerId))));return[...n,...e]}(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),c=!!l&&u,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new gu(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}class yu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Hl(t.idToken,"internal-error"),Hl("undefined"!==typeof t.idToken,"internal-error"),Hl("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):function(t){const e=du(t);return Hl(e,"internal-error"),Hl("undefined"!==typeof e.exp,"internal-error"),Hl("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Hl(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(t,e){const n=await ou(t,{},(async()=>{const n=wa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,s=lu(t,i,"/v1/token","key=".concat(r)),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",eu.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:r}=e,s=new yu;return n&&(Hl("string"===typeof n,"internal-error",{appName:t}),s.refreshToken=n),i&&(Hl("string"===typeof i,"internal-error",{appName:t}),s.accessToken=i),r&&(Hl("number"===typeof r,"internal-error",{appName:t}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new yu,this.toJSON())}_performRefresh(){return Gl("not implemented")}}function wu(t,e){Hl("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class bu{constructor(t){var{uid:e,auth:n,stsTokenManager:i}=t,r=Dl(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new gu(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await pu(this,this.stsTokenManager.getToken(this.auth,t));return Hl(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ma(t),i=await n.getIdToken(e),r=du(i);Hl(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"===typeof r.firebase?r.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:hu(fu(r.auth_time)),issuedAtTime:hu(fu(r.iat)),expirationTime:hu(fu(r.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=Ma(t);await vu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(Hl(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new bu(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){Hl(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await vu(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await pu(this,async function(t,e){return su(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,r,s,o,a,l,u;const c=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(i=e.email)&&void 0!==i?i:void 0,f=null!==(r=e.phoneNumber)&&void 0!==r?r:void 0,d=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=e.createdAt)&&void 0!==l?l:void 0,v=null!==(u=e.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:S}=e;Hl(y&&S,t,"internal-error");const E=yu.fromJSON(this.name,S);Hl("string"===typeof y,t,"internal-error"),wu(c,t.name),wu(h,t.name),Hl("boolean"===typeof w,t,"internal-error"),Hl("boolean"===typeof b,t,"internal-error"),wu(f,t.name),wu(d,t.name),wu(p,t.name),wu(m,t.name),wu(g,t.name),wu(v,t.name);const k=new bu({uid:y,auth:t,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:d,phoneNumber:f,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(k.providerData=_.map((t=>Object.assign({},t)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=new yu;i.updateFromServerResponse(e);const r=new bu({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await vu(r),r}}class _u{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}_u.type="NONE";const Su=_u;function Eu(t,e,n){return"firebase".concat(":",t,":").concat(e,":").concat(n)}class ku{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=Eu(this.userKey,i.apiKey,r),this.fullPersistenceKey=Eu("persistence",i.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?bu._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!e.length)return new ku(Xl(Su),t,n);const i=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let r=i[0]||Xl(Su);const s=Eu(n,t.config.apiKey,t.name);let o=null;for(const l of e)try{const e=await l._get(s);if(e){const n=bu._fromJSON(t,e);l!==r&&(o=n),r=l;break}}catch(xE){}const a=i.filter((t=>t._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(e.map((async t=>{if(t!==r)try{await t._remove(s)}catch(xE){}}))),new ku(r,t,n)):new ku(r,t,n)}}function Tu(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mu(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Cu(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ou(e))return"Blackberry";if(Pu(e))return"Webos";if(Iu(e))return"Safari";if((e.includes("chrome/")||xu(e))&&!e.includes("edge/"))return"Chrome";if(Nu(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Cu(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa();return/firefox\//i.test(t)}function Iu(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa()).toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xu(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa();return/crios\//i.test(t)}function Mu(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa();return/iemobile/i.test(t)}function Nu(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa();return/android/i.test(t)}function Ou(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa();return/blackberry/i.test(t)}function Pu(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa();return/webos/i.test(t)}function Au(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa();return/iphone|ipad|ipod/i.test(t)}function Du(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa();return Au(t)||Nu(t)||Pu(t)||Ou(t)||/windows phone/i.test(t)||Mu(t)}function Ru(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(t){case"Browser":e=Tu(aa());break;case"Worker":e="".concat(Tu(aa()),"-").concat(t);break;default:e=t}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(e,"/","JsCore","/").concat(wl,"/").concat(i)}class Lu{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,i)=>{try{n(t(e))}catch(r){i(r)}}));n.onAbort=e,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){var e;if(this.auth.currentUser===t)return;const n=[];try{for(const e of this.queue)await e(t),e.onAbort&&n.push(e.onAbort)}catch(i){n.reverse();for(const t of n)try{t()}catch(je){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(e=i)||void 0===e?void 0:e.message})}}}class ju{constructor(t,e,n){this.app=t,this.heartbeatServiceProvider=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vu(this),this.idTokenSubscription=new Vu(this),this.beforeStateQueue=new Lu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jl,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Xl(e)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await ku.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUser(t){var e;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(t);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Hl(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(n){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await vu(t)}catch(e){if(e.code!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?Ma(t):null;return e&&Hl(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return t&&Hl(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Xl(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ma("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Xl(t)||this._popupRedirectResolver;Hl(e,this,"argument-error"),this.redirectPersistenceManager=await ku.create(this,[Xl(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const r="function"===typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Hl(s,this,"internal-error"),s.then((()=>r(this.currentUser))),"function"===typeof e?t.addObserver(e,n,i):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Hl(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ru(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());return n&&(e["X-Firebase-Client"]=n),e}}function Fu(t){return Ma(t)}class Vu{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const n=new Sa(t,e);return n.subscribe.bind(n)}((t=>this.observer=t))}get next(){return Hl(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class zu{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Gl("not implemented")}_getIdTokenResponse(t){return Gl("not implemented")}_linkToIdToken(t,e){return Gl("not implemented")}_getReauthenticationResolver(t){return Gl("not implemented")}}async function Uu(t,e){return su(t,"POST","/v1/accounts:update",e)}class Bu extends zu{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new Bu(t,e,"password")}static _fromEmailAndCode(t,e){return new Bu(t,e,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return async function(t,e){return au(t,"POST","/v1/accounts:signInWithPassword",ru(t,e))}(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return au(t,"POST","/v1/accounts:signInWithEmailLink",ru(t,e))}(t,{email:this._email,oobCode:this._password});default:zl(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return Uu(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return au(t,"POST","/v1/accounts:signInWithEmailLink",ru(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:zl(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Wu(t,e){return au(t,"POST","/v1/accounts:signInWithIdp",ru(t,e))}class qu extends zu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new qu(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):zl("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:i}=e,r=Dl(e,["providerId","signInMethod"]);if(!n||!i)return null;const s=new qu(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(t){return Wu(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Wu(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Wu(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=wa(e)}return t}}const Hu={USER_NOT_FOUND:"user-not-found"};class Gu extends zu{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new Gu({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new Gu({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return au(t,"POST","/v1/accounts:signInWithPhoneNumber",ru(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await au(t,"POST","/v1/accounts:signInWithPhoneNumber",ru(t,e));if(n.temporaryProof)throw cu(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return au(t,"POST","/v1/accounts:signInWithPhoneNumber",ru(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),Hu)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:i}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:i}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}=t;return n||e||i||r?new Gu({verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class Ku{constructor(t){var e,n,i,r,s,o;const a=ba(_a(t)),l=null!==(e=a.apiKey)&&void 0!==e?e:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);Hl(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(t){const e=function(t){const e=ba(_a(t)).link,n=e?ba(_a(e)).deep_link_id:null,i=ba(_a(t)).deep_link_id;return(i?ba(_a(i)).link:null)||i||n||e||t}(t);try{return new Ku(e)}catch(xE){return null}}}class Qu{constructor(){this.providerId=Qu.PROVIDER_ID}static credential(t,e){return Bu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=Ku.parseLink(e);return Hl(n,"argument-error"),Bu._fromEmailAndCode(t,n.code,n.tenantId)}}Qu.PROVIDER_ID="password",Qu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Qu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Xu{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $u extends Xu{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Yu extends $u{constructor(){super("facebook.com")}static credential(t){return qu._fromParams({providerId:Yu.PROVIDER_ID,signInMethod:Yu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yu.credentialFromTaggedObject(t)}static credentialFromError(t){return Yu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Yu.credential(e.oauthAccessToken)}catch(xE){return null}}}Yu.FACEBOOK_SIGN_IN_METHOD="facebook.com",Yu.PROVIDER_ID="facebook.com";class Ju extends $u{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return qu._fromParams({providerId:Ju.PROVIDER_ID,signInMethod:Ju.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ju.credentialFromTaggedObject(t)}static credentialFromError(t){return Ju.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ju.credential(n,i)}catch(xE){return null}}}Ju.GOOGLE_SIGN_IN_METHOD="google.com",Ju.PROVIDER_ID="google.com";class Zu extends $u{constructor(){super("github.com")}static credential(t){return qu._fromParams({providerId:Zu.PROVIDER_ID,signInMethod:Zu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zu.credentialFromTaggedObject(t)}static credentialFromError(t){return Zu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Zu.credential(e.oauthAccessToken)}catch(xE){return null}}}Zu.GITHUB_SIGN_IN_METHOD="github.com",Zu.PROVIDER_ID="github.com";class tc extends $u{constructor(){super("twitter.com")}static credential(t,e){return qu._fromParams({providerId:tc.PROVIDER_ID,signInMethod:tc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return tc.credentialFromTaggedObject(t)}static credentialFromError(t){return tc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return tc.credential(n,i)}catch(xE){return null}}}async function ec(t,e){return au(t,"POST","/v1/accounts:signUp",ru(t,e))}tc.TWITTER_SIGN_IN_METHOD="twitter.com",tc.PROVIDER_ID="twitter.com";class nc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await bu._fromIdTokenResponse(t,n,i),s=ic(n);return new nc({user:r,providerId:s,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const i=ic(n);return new nc({user:t,providerId:i,_tokenResponse:n,operationType:e})}}function ic(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class rc extends pa{constructor(t,e,n,i){var r;super(e.code,e.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,rc.prototype),this.customData={appName:t.name,tenantId:null!==(r=t.tenantId)&&void 0!==r?r:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,i){return new rc(t,e,n,i)}}function sc(t,e,n,i){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw rc._fromErrorAndOperation(t,n,e,i);throw n}))}async function oc(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await pu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return nc._forOperation(t,"link",i)}async function ac(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=t,r="reauthenticate";try{const s=await pu(t,sc(i,r,e,t),n);Hl(s.idToken,i,"internal-error");const o=du(s.idToken);Hl(o,i,"internal-error");const{sub:a}=o;return Hl(t.uid===a,i,"user-mismatch"),nc._forOperation(t,r,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&zl(i,"user-mismatch"),s}}async function lc(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i="signIn",r=await sc(t,i,e),s=await nc._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function uc(t,e){return lc(Fu(t),e)}new WeakMap;const cc="__sak";class hc{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(cc,"1"),this.storage.removeItem(cc),Promise.resolve(!0)):Promise.resolve(!1)}catch(xE){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class fc extends hc{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=aa();return Iu(t)||Au(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=Du(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),i=this.localCache[e];n!==i&&t(e,i,n)}}onStorageEvent(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(t.newValue!==i)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const i=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},r=this.storage.getItem(n);ha()&&10===document.documentMode&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,10):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}fc.type="LOCAL";const dc=fc;class pc extends hc{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}pc.type="SESSION";const mc=pc;class gc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new gc(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:i,data:r}=e.data,s=this.handlersMap[i];if(!(null===s||void 0===s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map((async t=>t(e.origin,r))),a=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function vc(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let i=0;i<e;i++)n+=Math.floor(10*Math.random());return t+n}gc.receivers=[];class yc{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((o,a)=>{const l=vc("",20);i.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(t){const e=t;if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(u),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),o(e.data.response);break;default:clearTimeout(u),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function wc(){return window}function bc(){return"undefined"!==typeof wc().WorkerGlobalScope&&"function"===typeof wc().importScripts}const _c="firebaseLocalStorageDb",Sc="firebaseLocalStorage",Ec="fbase_key";class kc{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function Tc(t,e){return t.transaction([Sc],e?"readwrite":"readonly").objectStore(Sc)}function Cc(){const t=indexedDB.open(_c,1);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(Sc,{keyPath:Ec})}catch(i){n(i)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(Sc)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(_c);return new kc(t).toPromise()}(),e(await Cc()))}))}))}async function Ic(t,e,n){const i=Tc(t,!0).put({[Ec]:e,value:n});return new kc(i).toPromise()}function xc(t,e){const n=Tc(t,!0).delete(e);return new kc(n).toPromise()}class Mc{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Cc()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(n){if(e++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gc._getInstance(bc()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new yc(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(xE){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Cc();return await Ic(t,cc,"1"),await xc(t,cc),!0}catch(xE){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ic(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const n=Tc(t,!1).get(e),i=await new kc(n).toPromise();return void 0===i?null:i.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>xc(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=Tc(t,!1).getAll();return new kc(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;for(const{fbase_key:i,value:r}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),e.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),e.push(i));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Mc.type="LOCAL";const Nc=Mc;function Oc(t){return new Promise(((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=t=>{const e=Ul("internal-error");e.customData=t,n(e)},i.type="text/javascript",i.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(i)}))}function Pc(t){return"__".concat(t).concat(Math.floor(1e6*Math.random()))}Pc("rcb"),new Zl(3e4,6e4);const Ac="recaptcha";async function Dc(t,e,n){var i;const r=await n.verify();try{let s;if(Hl("string"===typeof r,t,"argument-error"),Hl(n.type===Ac,t,"argument-error"),s="string"===typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s){Hl("enroll"===e.type,t,"internal-error");const n=await function(t,e){return su(t,"POST","/v2/accounts/mfaEnrollment:start",ru(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{Hl("signin"===e.type,t,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;Hl(n,t,"missing-multi-factor-info");const o=await function(t,e){return su(t,"POST","/v2/accounts/mfaSignIn:start",ru(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return su(t,"POST","/v1/accounts:sendVerificationCode",ru(t,e))}(t,{phoneNumber:s.phoneNumber,recaptchaToken:r});return e}}finally{n._reset()}}class Rc{constructor(t){this.providerId=Rc.PROVIDER_ID,this.auth=Fu(t)}verifyPhoneNumber(t,e){return Dc(this.auth,t,Ma(e))}static credential(t,e){return Gu._fromVerification(t,e)}static credentialFromResult(t){const e=t;return Rc.credentialFromTaggedObject(e)}static credentialFromError(t){return Rc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{phoneNumber:n,temporaryProof:i}=e;return n&&i?Gu._fromTokenResponse(n,i):null}}function Lc(t,e){return e?Xl(e):(Hl(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}Rc.PROVIDER_ID="phone",Rc.PHONE_SIGN_IN_METHOD="phone";class jc extends zu{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wu(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Wu(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Wu(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Fc(t){return lc(t.auth,new jc(t),t.bypassAuthState)}function Vc(t){const{auth:e,user:n}=t;return Hl(n,e,"internal-error"),ac(n,new jc(t),t.bypassAuthState)}async function zc(t){const{auth:e,user:n}=t;return Hl(n,e,"internal-error"),oc(n,new jc(t),t.bypassAuthState)}class Uc{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Fc;case"linkViaPopup":case"linkViaRedirect":return zc;case"reauthViaPopup":case"reauthViaRedirect":return Vc;default:zl(this.auth,"internal-error")}}resolve(t){Kl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Kl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bc=new Zl(2e3,1e4);async function Wc(t,e,n){const i=Fu(t);Wl(t,e,Xu);const r=Lc(i,n);return new qc(i,"signInViaPopup",e,r).executeNotNull()}class qc extends Uc{constructor(t,e,n,i,r){super(t,e,i,r),this.provider=n,this.authWindow=null,this.pollId=null,qc.currentPopupAction&&qc.currentPopupAction.cancel(),qc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Hl(t,this.auth,"internal-error"),t}async onExecution(){Kl(1===this.filter.length,"Popup operations only handle one event");const t=vc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(Ul(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Ul(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ul(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(t,Bc.get())};t()}}qc.currentPopupAction=null;const Hc="pendingRedirect",Gc=new Map;class Kc extends Uc{constructor(t,e){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let t=Gc.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=$c(e),i=Xc(t);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth),n=e?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}Gc.set(this.auth._key(),t)}return this.bypassAuthState||Gc.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Qc(t,e){Gc.set(t._key(),e)}function Xc(t){return Xl(t._redirectPersistence)}function $c(t){return Eu(Hc,t.config.apiKey,t.name)}async function Yc(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=Fu(t),r=Lc(i,e),s=new Kc(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}class Jc{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return th(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!th(t)){const i=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(Ul(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zc(t))}saveEventToCache(t){this.cachedEventUids.add(Zc(t)),this.lastProcessedEventTime=Date.now()}}function Zc(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function th(t){let{type:e,error:n}=t;return"unknown"===e&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const eh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nh=/^https?/;async function ih(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t){return su(t,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(t);for(const n of e)try{if(rh(n))return}catch(xE){}zl(t,"unauthorized-domain")}function rh(t){const e=$l(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return""===r.hostname&&""===i?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!nh.test(n))return!1;if(eh.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const sh=new Zl(3e4,6e4);function oh(){const t=wc().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let ah=null;function lh(t){return ah=ah||function(t){return new Promise(((e,n)=>{var i,r,s;function o(){oh(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oh(),n(Ul(t,"network-request-failed"))},timeout:sh.get()})}if(null===(r=null===(i=wc().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=wc().gapi)||void 0===s?void 0:s.load)){const e=Pc("iframefcb");return wc()[e]=()=>{gapi.load?o():n(Ul(t,"network-request-failed"))},Oc("https://apis.google.com/js/api.js?onload=".concat(e)).catch((t=>n(t)))}o()}})).catch((t=>{throw ah=null,t}))}(t),ah}const uh=new Zl(5e3,15e3),ch="__/auth/iframe",hh="emulator/auth/iframe",fh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ph(t){const e=t.config;Hl(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tu(e,hh):"https://".concat(t.config.authDomain,"/").concat(ch),i={apiKey:e.apiKey,appName:t.name,v:wl},r=dh.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),"".concat(n,"?").concat(wa(i).slice(1))}const mh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gh{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function vh(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},mh),{width:i.toString(),height:r.toString(),top:s,left:o}),u=aa().toLowerCase();n&&(a=xu(u)?"_blank":n),Cu(u)&&(e=e||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((t,e)=>{let[n,i]=e;return"".concat(t).concat(n,"=").concat(i,",")}),"");if(function(){var t;return Au(arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa())&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(e||"",a),new gh(null);const h=window.open(e||"",a,c);Hl(h,t,"popup-blocked");try{h.focus()}catch(f){}return new gh(h)}const yh="__/auth/handler",wh="emulator/auth/handler";function bh(t,e,n,i,r,s){Hl(t.config.authDomain,t,"auth-domain-config-required"),Hl(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:wl,eventId:r};if(e instanceof Xu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(s||{}))o[t]=e}if(e instanceof $u){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(o.scopes=t.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return"".concat(function(t){let{config:e}=t;if(!e.emulator)return"https://".concat(e.authDomain,"/").concat(yh);return tu(e,wh)}(t),"?").concat(wa(a).slice(1))}const _h="webStorageSupport";const Sh=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mc,this._completeRedirectFn=Yc,this._overrideRedirectResult=Qc}async _openPopup(t,e,n,i){var r;Kl(null===(r=this.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return vh(t,bh(t,e,n,$l(),i),vc())}async _openRedirect(t,e,n,i){var r;return await this._originValidation(t),r=bh(t,e,n,$l(),i),wc().location.href=r,new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(Kl(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await async function(t){const e=await lh(t),n=wc().gapi;return Hl(n,t,"internal-error"),e.open({where:document.body,url:ph(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fh,dontclear:!0},(e=>new Promise((async(n,i)=>{await e.restyle({setHideOnLeave:!1});const r=Ul(t,"network-request-failed"),s=wc().setTimeout((()=>{i(r)}),uh.get());function o(){wc().clearTimeout(s),n(e)}e.ping(o).then(o,(()=>{i(r)}))}))))}(t),n=new Jc(t);return e.register("authEvent",(e=>{Hl(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");return{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(_h,{type:_h},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[_h];void 0!==r&&e(!!r),zl(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=ih(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Du()||Iu()||Au()}};var Eh,kh="@firebase/auth",Th="0.20.3";class Ch{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{var n;t((null===(n=e)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Hl(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Eh="Browser",ml(new Na("auth",((t,e)=>{let{options:n}=e;const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),{apiKey:s,authDomain:o}=i.options;return((t,e)=>{Hl(s&&!s.includes(":"),"invalid-api-key",{appName:t.name}),Hl(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:t.name});const i={apiKey:s,authDomain:o,clientPlatform:Eh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ru(Eh)},r=new ju(t,e,i);return function(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Xl);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,null===e||void 0===e?void 0:e.popupRedirectResolver)}(r,n),r})(i,r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{t.getProvider("auth-internal").initialize()}))),ml(new Na("auth-internal",(t=>(t=>new Ch(t))(Fu(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),_l(kh,Th,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Eh)),_l(kh,Th,"esm2017");const Ih="@firebase/installations",xh="0.5.10",Mh=1e4,Nh="w:".concat(xh),Oh="FIS_v2",Ph="https://firebaseinstallations.googleapis.com/v1",Ah=36e5,Dh=new ma("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Rh(t){return t instanceof pa&&t.code.includes("request-failed")}function Lh(t){let{projectId:e}=t;return"".concat(Ph,"/projects/").concat(e,"/installations")}function jh(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function Fh(t,e){const n=(await e.json()).error;return Dh.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Vh(t){let{apiKey:e}=t;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function zh(t,e){let{refreshToken:n}=e;const i=Vh(t);return i.append("Authorization",function(t){return"".concat(Oh," ").concat(t)}(n)),i}async function Uh(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Bh(t){return new Promise((e=>{setTimeout(e,t)}))}const Wh=/^[cdef][\w-]{21}$/,qh="";function Hh(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){const e=(n=t,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return e.substr(0,22)}(t);return Wh.test(e)?e:qh}catch(xE){return qh}}function Gh(t){return"".concat(t.appName,"!").concat(t.appId)}const Kh=new Map;function Qh(t,e){const n=Gh(t);Xh(n,e),function(t,e){const n=Yh();n&&n.postMessage({key:t,fid:e});Jh()}(n,e)}function Xh(t,e){const n=Kh.get(t);if(n)for(const i of n)i(e)}let $h=null;function Yh(){return!$h&&"BroadcastChannel"in self&&($h=new BroadcastChannel("[Firebase] FID Change"),$h.onmessage=t=>{Xh(t.data.key,t.data.fid)}),$h}function Jh(){0===Kh.size&&$h&&($h.close(),$h=null)}const Zh="firebase-installations-database",tf=1,ef="firebase-installations-store";let nf=null;function rf(){return nf||(nf=tl(Zh,tf,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(ef)}})),nf}async function sf(t,e){const n=Gh(t),i=(await rf()).transaction(ef,"readwrite"),r=i.objectStore(ef),s=await r.get(n);return await r.put(e,n),await i.done,s&&s.fid===e.fid||Qh(t,e.fid),e}async function of(t){const e=Gh(t),n=(await rf()).transaction(ef,"readwrite");await n.objectStore(ef).delete(e),await n.done}async function af(t,e){const n=Gh(t),i=(await rf()).transaction(ef,"readwrite"),r=i.objectStore(ef),s=await r.get(n),o=e(s);return void 0===o?await r.delete(n):await r.put(o,n),await i.done,!o||s&&s.fid===o.fid||Qh(t,o.fid),o}async function lf(t){let e;const n=await af(t.appConfig,(n=>{const i=function(t){const e=t||{fid:Hh(),registrationStatus:0};return hf(e)}(n),r=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){return{installationEntry:e,registrationPromise:Promise.reject(Dh.create("app-offline"))}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=async function(t,e){try{const n=await async function(t,e){let{appConfig:n,heartbeatServiceProvider:i}=t,{fid:r}=e;const s=Lh(n),o=Vh(n),a=i.getImmediate({optional:!0});if(a){const t=await a.getHeartbeatsHeader();t&&o.append("x-firebase-client",t)}const l={fid:r,authVersion:Oh,appId:n.appId,sdkVersion:Nh},u={method:"POST",headers:o,body:JSON.stringify(l)},c=await Uh((()=>fetch(s,u)));if(c.ok){const t=await c.json();return{fid:t.fid||r,registrationStatus:2,refreshToken:t.refreshToken,authToken:jh(t.authToken)}}throw await Fh("Create Installation",c)}(t,e);return sf(t.appConfig,n)}catch(n){throw Rh(n)&&409===n.customData.serverCode?await of(t.appConfig):await sf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}(t,n);return{installationEntry:n,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:uf(t)}:{installationEntry:e}}(t,i);return e=r.registrationPromise,r.installationEntry}));return n.fid===qh?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}async function uf(t){let e=await cf(t.appConfig);for(;1===e.registrationStatus;)await Bh(100),e=await cf(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=await lf(t);return n||e}return e}function cf(t){return af(t,(t=>{if(!t)throw Dh.create("installation-not-found");return hf(t)}))}function hf(t){return 1===(e=t).registrationStatus&&e.registrationTime+Mh<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}async function ff(t,e){let{appConfig:n,heartbeatServiceProvider:i}=t;const r=function(t,e){let{fid:n}=e;return"".concat(Lh(t),"/").concat(n,"/authTokens:generate")}(n,e),s=zh(n,e),o=i.getImmediate({optional:!0});if(o){const t=await o.getHeartbeatsHeader();t&&s.append("x-firebase-client",t)}const a={installation:{sdkVersion:Nh,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},u=await Uh((()=>fetch(r,l)));if(u.ok){return jh(await u.json())}throw await Fh("Generate Auth Token",u)}async function df(t){let e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=await af(t.appConfig,(i=>{if(!mf(i))throw Dh.create("not-registered");const r=i.authToken;if(!n&&function(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Ah}(t)}(r))return i;if(1===r.requestStatus)return e=async function(t,e){let n=await pf(t.appConfig);for(;1===n.authToken.requestStatus;)await Bh(100),n=await pf(t.appConfig);const i=n.authToken;return 0===i.requestStatus?df(t,e):i}(t,n),i;{if(!navigator.onLine)throw Dh.create("app-offline");const n=function(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(i);return e=async function(t,e){try{const n=await ff(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await sf(t.appConfig,i),n}catch(n){if(!Rh(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await sf(t.appConfig,n)}else await of(t.appConfig);throw n}}(t,n),n}}));return e?await e:i.authToken}function pf(t){return af(t,(t=>{if(!mf(t))throw Dh.create("not-registered");const e=t.authToken;return 1===(n=e).requestStatus&&n.requestTime+Mh<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var n}))}function mf(t){return void 0!==t&&2===t.registrationStatus}async function gf(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t;await async function(t){const{registrationPromise:e}=await lf(t);e&&await e}(n);return(await df(n,e)).token}function vf(t){return Dh.create("missing-app-config-values",{valueName:t})}const yf="installations",wf=t=>{const e=t.getProvider("app").getImmediate(),n=function(t){if(!t||!t.options)throw vf("App Configuration");if(!t.name)throw vf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw vf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:gl(e,"heartbeat"),_delete:()=>Promise.resolve()}},bf=t=>{const e=gl(t.getProvider("app").getImmediate(),yf).getImmediate();return{getId:()=>async function(t){const e=t,{installationEntry:n,registrationPromise:i}=await lf(e);return i?i.catch(console.error):df(e).catch(console.error),n.fid}(e),getToken:t=>gf(e,t)}};ml(new Na(yf,wf,"PUBLIC")),ml(new Na("installations-internal",bf,"PRIVATE")),_l(Ih,xh),_l(Ih,xh,"esm2017");const _f="analytics",Sf="firebase_id",Ef="origin",kf=6e4,Tf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cf="https://www.googletagmanager.com/gtag/js",If=new za("@firebase/analytics");function xf(t){return Promise.all(t.map((t=>t.catch((t=>t)))))}function Mf(t,e,n,i){return async function(r,s,o){try{"event"===r?await async function(t,e,n,i,r){try{let s=[];if(r&&r.send_to){let t=r.send_to;Array.isArray(t)||(t=[t]);const i=await xf(n);for(const n of t){const t=i.find((t=>t.measurementId===n)),r=t&&e[t.appId];if(!r){s=[];break}s.push(r)}}0===s.length&&(s=Object.values(e)),await Promise.all(s),t("event",i,r||{})}catch(s){If.error(s)}}(t,e,n,s,o):"config"===r?await async function(t,e,n,i,r,s){const o=i[r];try{if(o)await e[o];else{const t=(await xf(n)).find((t=>t.measurementId===r));t&&await e[t.appId]}}catch(a){If.error(a)}t("config",r,s)}(t,e,n,i,s,o):t("set",s)}catch(a){If.error(a)}}}const Nf=new ma("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Of=30;const Pf=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function Af(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Df(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pf,n=arguments.length>2?arguments[2]:void 0;const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw Nf.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw Nf.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Lf;return setTimeout((async()=>{a.abort()}),void 0!==n?n:kf),Rf({appId:i,apiKey:r,measurementId:s},o,a,e)}async function Rf(t,e,n){let{throttleEndTimeMillis:i,backoffCount:r}=e,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pf;const{appId:o,measurementId:a}=t;try{await function(t,e){return new Promise(((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener((()=>{clearTimeout(s),i(Nf.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}(n,i)}catch(l){if(a)return If.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(l.message,"]")),{appId:o,measurementId:a};throw l}try{const e=await async function(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:Af(i)},s=Tf.replace("{app-id}",n),o=await fetch(s,r);if(200!==o.status&&304!==o.status){let t="";try{const n=await o.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(a){}throw Nf.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()}(t);return s.deleteThrottleMetadata(o),e}catch(l){if(!function(t){if(!(t instanceof pa)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(s.deleteThrottleMetadata(o),a)return If.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(l.message,"]")),{appId:o,measurementId:a};throw l}const e=503===Number(l.customData.httpStatus)?xa(r,s.intervalMillis,Of):xa(r,s.intervalMillis),i={throttleEndTimeMillis:Date.now()+e,backoffCount:r+1};return s.setThrottleMetadata(o,i),If.debug("Calling attemptFetch again in ".concat(e," millis")),Rf(t,i,n,s)}}class Lf{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach((t=>t()))}}async function jf(t,e,n,i,r,s,o){var a;const l=Df(t);l.then((e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&If.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((t=>If.error(t))),e.push(l);const u=async function(){if(!fa())return If.warn(Nf.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await da()}catch(t){return If.warn(Nf.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0}().then((t=>t?i.getId():void 0)),[c,h]=await Promise.all([l,u]);(function(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Cf))return e;return null})()||function(t,e){const n=document.createElement("script");n.src="".concat(Cf,"?l=").concat(t,"&id=").concat(e),n.async=!0,document.head.appendChild(n)}(s,c.measurementId),r("js",new Date);const f=null!==(a=null===o||void 0===o?void 0:o.config)&&void 0!==a?a:{};return f[Ef]="firebase",f.update=!0,null!=h&&(f[Sf]=h),r("config",c.measurementId,f),c.measurementId}class Ff{constructor(t){this.app=t}_delete(){return delete Vf[this.app.options.appId],Promise.resolve()}}let Vf={},zf=[];const Uf={};let Bf,Wf,qf="dataLayer",Hf="gtag",Gf=!1;function Kf(){const t=[];if(ua()&&t.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||t.push("Cookies are not available."),t.length>0){const e=t.map(((t,e)=>"(".concat(e+1,") ").concat(t))).join(" "),n=Nf.create("invalid-analytics-context",{errorInfo:e});If.warn(n.message)}}function Qf(t,e,n){Kf();const i=t.options.appId;if(!i)throw Nf.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Nf.create("no-api-key");If.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Vf[i])throw Nf.create("already-exists",{id:i});if(!Gf){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(qf);const{wrappedGtag:t,gtagCore:e}=function(t,e,n,i,r){let s=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];window[i].push(arguments)};return window[r]&&"function"===typeof window[r]&&(s=window[r]),window[r]=Mf(s,t,e,n),{gtagCore:s,wrappedGtag:window[r]}}(Vf,zf,Uf,qf,Hf);Wf=t,Bf=e,Gf=!0}Vf[i]=jf(t,zf,Uf,e,Bf,qf,n);return new Ff(t)}function Xf(t,e,n,i){t=Ma(t),async function(t,e,n,i,r){if(r&&r.global)t("event",n,i);else{const r=await e;t("event",n,Object.assign(Object.assign({},i),{send_to:r}))}}(Wf,Vf[t.app.options.appId],e,n,i).catch((t=>If.error(t)))}const $f="@firebase/analytics",Yf="0.7.10";ml(new Na(_f,((t,e)=>{let{options:n}=e;return Qf(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),ml(new Na("analytics-internal",(function(t){try{const e=t.getProvider(_f).getImmediate();return{logEvent:(t,n,i)=>Xf(e,t,n,i)}}catch(e){throw Nf.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),_l($f,Yf),_l($f,Yf,"esm2017");var Jf,Zf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},td={},ed=ed||{},nd=Zf||self;function id(){}function rd(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function sd(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var od="closure_uid_"+(1e9*Math.random()>>>0),ad=0;function ld(t,e,n){return t.call.apply(t.bind,arguments)}function ud(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function cd(t,e,n){return(cd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ld:ud).apply(null,arguments)}function hd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function fd(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function dd(){this.s=this.s,this.o=this.o}var pd={};dd.prototype.s=!1,dd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,od)&&t[od]||(t[od]=++ad)}(this);delete pd[t]}},dd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const md=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},gd=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const i=t.length,r="string"===typeof t?t.split(""):t;for(let s=0;s<i;s++)s in r&&e.call(n,r[s],s,t)};function vd(t){return Array.prototype.concat.apply([],arguments)}function yd(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function wd(t){return/^[\s\xa0]*$/.test(t)}var bd,_d=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Sd(t,e){return-1!=t.indexOf(e)}function Ed(t,e){return t<e?-1:t>e?1:0}t:{var kd=nd.navigator;if(kd){var Td=kd.userAgent;if(Td){bd=Td;break t}}bd=""}function Cd(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function Id(t){const e={};for(const n in t)e[n]=t[n];return e}var xd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Md(t,e){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)t[n]=i[n];for(let e=0;e<xd.length;e++)n=xd[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Nd(t){return Nd[" "](t),t}Nd[" "]=id;var Od,Pd=Sd(bd,"Opera"),Ad=Sd(bd,"Trident")||Sd(bd,"MSIE"),Dd=Sd(bd,"Edge"),Rd=Dd||Ad,Ld=Sd(bd,"Gecko")&&!(Sd(bd.toLowerCase(),"webkit")&&!Sd(bd,"Edge"))&&!(Sd(bd,"Trident")||Sd(bd,"MSIE"))&&!Sd(bd,"Edge"),jd=Sd(bd.toLowerCase(),"webkit")&&!Sd(bd,"Edge");function Fd(){var t=nd.document;return t?t.documentMode:void 0}t:{var Vd="",zd=function(){var t=bd;return Ld?/rv:([^\);]+)(\)|;)/.exec(t):Dd?/Edge\/([\d\.]+)/.exec(t):Ad?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):jd?/WebKit\/(\S+)/.exec(t):Pd?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(zd&&(Vd=zd?zd[1]:""),Ad){var Ud=Fd();if(null!=Ud&&Ud>parseFloat(Vd)){Od=String(Ud);break t}}Od=Vd}var Bd,Wd={};function qd(){return function(t){var e=Wd;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){let t=0;const e=_d(String(Od)).split("."),n=_d("9").split("."),i=Math.max(e.length,n.length);for(let o=0;0==t&&o<i;o++){var r=e[o]||"",s=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;t=Ed(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||Ed(0==r[2].length,0==s[2].length)||Ed(r[2],s[2]),r=r[3],s=s[3]}while(0==t)}return 0<=t}))}if(nd.document&&Ad){var Hd=Fd();Bd=Hd||(parseInt(Od,10)||void 0)}else Bd=void 0;var Gd=Bd,Kd=function(){if(!nd.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{nd.addEventListener("test",id,e),nd.removeEventListener("test",id,e)}catch(Ie){}return t}();function Qd(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Xd(t,e){if(Qd.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Ld){t:{try{Nd(e.nodeName);var r=!0;break t}catch(Ce){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:$d[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Xd.Z.h.call(this)}}Qd.prototype.h=function(){this.defaultPrevented=!0},fd(Xd,Qd);var $d={2:"touch",3:"pen",4:"mouse"};Xd.prototype.h=function(){Xd.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Yd="closure_listenable_"+(1e6*Math.random()|0),Jd=0;function Zd(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=r,this.key=++Jd,this.ca=this.fa=!1}function tp(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function ep(t){this.src=t,this.g={},this.h=0}function np(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],s=md(r,e);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(tp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ip(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==i)return r}return-1}ep.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=ip(t,e,i,r);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new Zd(e,this.src,s,!!i,r)).fa=n,t.push(e)),e};var rp="closure_lm_"+(1e6*Math.random()|0),sp={};function op(t,e,n,i,r){if(i&&i.once)return lp(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)op(t,e[s],n,i,r);return null}return n=mp(n),t&&t[Yd]?t.N(e,n,sd(i)?!!i.capture:!!i,r):ap(t,e,n,!1,i,r)}function ap(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=sd(r)?!!r.capture:!!r,a=dp(t);if(a||(t[rp]=a=new ep(t)),(n=a.add(e,n,i,o,s)).proxy)return n;if(i=function(){function t(n){return e.call(t.src,t.listener,n)}var e=fp;return t}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Kd||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(hp(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function lp(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)lp(t,e[s],n,i,r);return null}return n=mp(n),t&&t[Yd]?t.O(e,n,sd(i)?!!i.capture:!!i,r):ap(t,e,n,!0,i,r)}function up(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)up(t,e[s],n,i,r);else i=sd(i)?!!i.capture:!!i,n=mp(n),t&&t[Yd]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=ip(s=t.g[e],n,i,r))&&(tp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=dp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ip(e,n,i,r)),(n=-1<t?e[t]:null)&&cp(n))}function cp(t){if("number"!==typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Yd])np(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(hp(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=dp(e))?(np(n,t),0==n.h&&(n.src=null,e[rp]=null)):tp(t)}}}function hp(t){return t in sp?sp[t]:sp[t]="on"+t}function fp(t,e){if(t.ca)t=!0;else{e=new Xd(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&cp(t),t=n.call(i,e)}return t}function dp(t){return(t=t[rp])instanceof ep?t:null}var pp="__closure_events_fn_"+(1e9*Math.random()>>>0);function mp(t){return"function"===typeof t?t:(t[pp]||(t[pp]=function(e){return t.handleEvent(e)}),t[pp])}function gp(){dd.call(this),this.i=new ep(this),this.P=this,this.I=null}function vp(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,"string"===typeof e)e=new Qd(e,t);else if(e instanceof Qd)e.target=e.target||t;else{var r=e;Md(e=new Qd(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=yp(o,i,!0,e)&&r}if(r=yp(o=e.g=t,i,!0,e)&&r,r=yp(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=yp(o=e.g=n[s],i,!1,e)&&r}function yp(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&np(t.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}fd(gp,dd),gp.prototype[Yd]=!0,gp.prototype.removeEventListener=function(t,e,n,i){up(this,t,e,n,i)},gp.prototype.M=function(){if(gp.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)tp(n[i]);delete e.g[t],e.h--}}this.I=null},gp.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},gp.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var wp=nd.JSON.stringify;function bp(){var t=Ip;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var _p,Sp=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new Ep),(t=>t.reset()));class Ep{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function kp(t){nd.setTimeout((()=>{throw t}),0)}function Tp(t,e){_p||function(){var t=nd.Promise.resolve(void 0);_p=function(){t.then(xp)}}(),Cp||(_p(),Cp=!0),Ip.add(t,e)}var Cp=!1,Ip=new class{constructor(){this.h=this.g=null}add(t,e){const n=Sp.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function xp(){for(var t;t=bp();){try{t.h.call(t.g)}catch(Ie){kp(Ie)}var e=Sp;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Cp=!1}function Mp(t,e){gp.call(this),this.h=t||1,this.g=e||nd,this.j=cd(this.kb,this),this.l=Date.now()}function Np(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Op(t,e,n){if("function"===typeof t)n&&(t=cd(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=cd(t.handleEvent,t)}return 2147483647<Number(e)?-1:nd.setTimeout(t,e||0)}function Pp(t){t.g=Op((()=>{t.g=null,t.i&&(t.i=!1,Pp(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}fd(Mp,gp),(Jf=Mp.prototype).da=!1,Jf.S=null,Jf.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vp(this,"tick"),this.da&&(Np(this),this.start()))}},Jf.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Jf.M=function(){Mp.Z.M.call(this),Np(this),delete this.g};class Ap extends dd{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Pp(this)}M(){super.M(),this.g&&(nd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dp(t){dd.call(this),this.h=t,this.g={}}fd(Dp,dd);var Rp=[];function Lp(t,e,n,i){Array.isArray(n)||(n&&(Rp[0]=n.toString()),n=Rp);for(var r=0;r<n.length;r++){var s=op(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function jp(t){Cd(t.g,(function(t,e){this.g.hasOwnProperty(e)&&cp(t)}),t),t.g={}}function Fp(){this.g=!0}function Vp(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return wp(n)}catch(we){return e}}(t,n)+(i?" "+i:"")}))}Dp.prototype.M=function(){Dp.Z.M.call(this),jp(this)},Dp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fp.prototype.Aa=function(){this.g=!1},Fp.prototype.info=function(){};var zp={},Up=null;function Bp(){return Up=Up||new gp}function Wp(t){Qd.call(this,zp.Ma,t)}function qp(t){const e=Bp();vp(e,new Wp(e,t))}function Hp(t,e){Qd.call(this,zp.STAT_EVENT,t),this.stat=e}function Gp(t){const e=Bp();vp(e,new Hp(e,t))}function Kp(t,e){Qd.call(this,zp.Na,t),this.size=e}function Qp(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return nd.setTimeout((function(){t()}),e)}zp.Ma="serverreachability",fd(Wp,Qd),zp.STAT_EVENT="statevent",fd(Hp,Qd),zp.Na="timingevent",fd(Kp,Qd);var Xp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$p={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Yp(){}function Jp(t){return t.h||(t.h=t.i())}function Zp(){}Yp.prototype.h=null;var tm,em={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function nm(){Qd.call(this,"d")}function im(){Qd.call(this,"c")}function rm(){}function sm(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new Dp(this),this.P=am,t=Rd?125:void 0,this.W=new Mp(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new om}function om(){this.i=null,this.g="",this.h=!1}fd(nm,Qd),fd(im,Qd),fd(rm,Yp),rm.prototype.g=function(){return new XMLHttpRequest},rm.prototype.i=function(){return{}},tm=new rm;var am=45e3,lm={},um={};function cm(t,e,n){t.K=1,t.v=Am(Im(e)),t.s=n,t.U=!0,hm(t,null)}function hm(t,e){t.F=Date.now(),mm(t),t.A=Im(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),Gm(n.h,"t",i),t.C=0,n=t.l.H,t.h=new om,t.g=Kg(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Ap(cd(t.Ia,t,t.g),t.O)),Lp(t.V,t.g,"readystatechange",t.gb),e=t.H?Id(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),qp(1),function(t,e,n,i,r,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function fm(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function dm(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=pm(t,n),i==um){4==e&&(t.o=4,Gp(14),r=!1),Vp(t.j,t.m,null,"[Incomplete Response]");break}if(i==lm){t.o=4,Gp(15),Vp(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Vp(t.j,t.m,i,null),bm(t,i)}fm(t)&&i!=um&&i!=lm&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Gp(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vg(e),e.L=!0,Gp(11))):(Vp(t.j,t.m,n,"[Invalid Chunked Response]"),wm(t),ym(t))}function pm(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?um:(n=Number(e.substring(n,i)),isNaN(n)?lm:(i+=1)+n>e.length?um:(e=e.substr(i,n),t.C=i+n,e))}function mm(t){t.Y=Date.now()+t.P,gm(t,t.P)}function gm(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Qp(cd(t.eb,t),e)}function vm(t){t.B&&(nd.clearTimeout(t.B),t.B=null)}function ym(t){0==t.l.G||t.I||Bg(t.l,t)}function wm(t){vm(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Np(t.W),jp(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function bm(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Zm(n.i,t)))if(n.I=t.N,!t.J&&Zm(n.i,t)&&3==n.G){try{var i=n.Ca.g.parse(e)}catch(Le){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Ug(n),Ng(n)}Fg(n),Gp(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&0==n.A&&!n.v&&(n.v=Qp(cd(n.ab,n),6e3));if(1>=Jm(n.i)&&n.ka){try{n.ka()}catch(Le){}n.ka=void 0}}else qg(n,11)}else if((t.J||n.g==t)&&Ug(n),!wd(e))for(r=n.Ca.g.parse(e),e=0;e<r.length;e++){let u=r[e];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const e=u[3];null!=e&&(n.ma=e,n.h.info("VER="+n.ma));const r=u[4];null!=r&&(n.za=r,n.h.info("SVER="+n.za));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(i=1.5*c,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=i.i;!s.g&&(Sd(t,"spdy")||Sd(t,"quic")||Sd(t,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(tg(s,s.h),s.h=null))}if(i.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.sa=t,Pm(i.F,i.D,t))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((i=n).oa=Gg(i,i.H?i.la:null,i.W),o.J){eg(i.i,o);var a=o,l=i.K;l&&a.setTimeout(l),a.B&&(vm(a),mm(a)),i.g=o}else jg(i);0<n.l.length&&Ag(n)}else"stop"!=u[0]&&"close"!=u[0]||qg(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?qg(n,7):Mg(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}qp(4)}catch(Le){}}function _m(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(rd(t)||"string"===typeof t)gd(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(rd(t)||"string"===typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;i=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"===typeof t)return t.split("");if(rd(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length;for(var s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}}function Sm(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Sm)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Em(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];km(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var r={};for(n=e=0;e<t.g.length;)km(r,i=t.g[e])||(t.g[n++]=i,r[i]=1),e++;t.g.length=n}}function km(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Jf=sm.prototype).setTimeout=function(t){this.P=t},Jf.gb=function(t){t=t.target;const e=this.L;e&&3==kg(t)?e.l():this.Ia(t)},Jf.Ia=function(t){try{if(t==this.g)t:{const c=kg(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>c)&&(3!=c||Rd||this.g&&(this.h.h||this.g.ga()||Tg(this.g)))){this.I||4!=c||7==e||qp(8==e||0>=h?3:2),vm(this);var n=this.g.ba();this.N=n;e:if(fm(this)){var i=Tg(this.g);t="";var r=i.length,s=4==kg(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){wm(this),ym(this);var o="";break e}this.h.i=new nd.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,i,r,s,o){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wd(a)){var u=a;break e}}u=null}if(!(n=u)){this.i=!1,this.o=3,Gp(12),wm(this),ym(this);break t}Vp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bm(this,n)}this.U?(dm(this,c,o),Rd&&this.i&&3==c&&(Lp(this.V,this.W,"tick",this.fb),this.W.start())):(Vp(this.j,this.m,o,null),bm(this,o)),4==c&&wm(this),this.i&&!this.I&&(4==c?Bg(this.l,this):(this.i=!1,mm(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Gp(12)):(this.o=0,Gp(13)),wm(this),ym(this)}}}catch(be){}},Jf.fb=function(){if(this.g){var t=kg(this.g),e=this.g.ga();this.C<e.length&&(vm(this),dm(this,t,e),this.i&&4!=t&&mm(this))}},Jf.cancel=function(){this.I=!0,wm(this)},Jf.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(qp(3),Gp(17)),wm(this),this.o=2,ym(this)):gm(this,this.Y-t)},(Jf=Sm.prototype).R=function(){Em(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Jf.T=function(){return Em(this),this.g.concat()},Jf.get=function(t,e){return km(this.h,t)?this.h[t]:e},Jf.set=function(t,e){km(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Jf.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);t.call(e,s,r,this)}};var Tm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cm(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Cm){this.g=void 0!==e?e:t.g,xm(this,t.j),this.s=t.s,Mm(this,t.i),Nm(this,t.m),this.l=t.l,e=t.h;var n=new Bm;n.i=e.i,e.g&&(n.g=new Sm(e.g),n.h=e.h),Om(this,n),this.o=t.o}else t&&(n=String(t).match(Tm))?(this.g=!!e,xm(this,n[1]||"",!0),this.s=Dm(n[2]||""),Mm(this,n[3]||"",!0),Nm(this,n[4]),this.l=Dm(n[5]||"",!0),Om(this,n[6]||"",!0),this.o=Dm(n[7]||"")):(this.g=!!e,this.h=new Bm(null,this.g))}function Im(t){return new Cm(t)}function xm(t,e,n){t.j=n?Dm(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Mm(t,e,n){t.i=n?Dm(e,!0):e}function Nm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Om(t,e,n){e instanceof Bm?(t.h=e,function(t,e){e&&!t.j&&(Wm(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(qm(this,e),Gm(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=Rm(e,zm)),t.h=new Bm(e,t.g))}function Pm(t,e,n){t.h.set(e,n)}function Am(t){return Pm(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Dm(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Rm(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Lm),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Lm(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Cm.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Rm(e,jm,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Rm(e,jm,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Rm(n,"/"==n.charAt(0)?Vm:Fm,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Rm(n,Um)),t.join("")};var jm=/[#\/\?@]/g,Fm=/[#\?:]/g,Vm=/[#\?]/g,zm=/[#\?@]/g,Um=/#/g;function Bm(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Wm(t){t.g||(t.g=new Sm,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function qm(t,e){Wm(t),e=Km(t,e),km(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,km((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Em(t)))}function Hm(t,e){return Wm(t),e=Km(t,e),km(t.g.h,e)}function Gm(t,e,n){qm(t,e),0<n.length&&(t.i=null,t.g.set(Km(t,e),yd(n)),t.h+=n.length)}function Km(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Jf=Bm.prototype).add=function(t,e){Wm(this),this.i=null,t=Km(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Jf.forEach=function(t,e){Wm(this),this.g.forEach((function(n,i){gd(n,(function(n){t.call(e,n,i,this)}),this)}),this)},Jf.T=function(){Wm(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var r=t[i],s=0;s<r.length;s++)n.push(e[i]);return n},Jf.R=function(t){Wm(this);var e=[];if("string"===typeof t)Hm(this,t)&&(e=vd(e,this.g.get(Km(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=vd(e,t[n])}return e},Jf.set=function(t,e){return Wm(this),this.i=null,Hm(this,t=Km(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Jf.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Jf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),t.push(o)}}return this.i=t.join("&")};var Qm=class{constructor(t,e){this.h=t,this.g=e}};function Xm(t){this.l=t||$m,nd.PerformanceNavigationTiming?t=0<(t=nd.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(nd.g&&nd.g.Ea&&nd.g.Ea()&&nd.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $m=10;function Ym(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Jm(t){return t.h?1:t.g?t.g.size:0}function Zm(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function tg(t,e){t.g?t.g.add(e):t.h=e}function eg(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ng(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return yd(t.i)}function ig(){}function rg(){this.g=new ig}function sg(t,e,n){const i=n||"";try{_m(t,(function(t,n){let r=t;sd(t)&&(r=wp(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function og(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(Ce){}}function ag(t){this.l=t.$b||null,this.j=t.ib||!1}function lg(t,e){gp.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=ug,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xm.prototype.cancel=function(){if(this.i=ng(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},ig.prototype.stringify=function(t){return nd.JSON.stringify(t,void 0)},ig.prototype.parse=function(t){return nd.JSON.parse(t,void 0)},fd(ag,Yp),ag.prototype.g=function(){return new lg(this.l,this.j)},ag.prototype.i=function(t){return function(){return t}}({}),fd(lg,gp);var ug=0;function cg(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function hg(t){t.readyState=4,t.l=null,t.j=null,t.A=null,fg(t)}function fg(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Jf=lg.prototype).open=function(t,e){if(this.readyState!=ug)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,fg(this)},Jf.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||nd).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Jf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hg(this)),this.readyState=ug},Jf.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,fg(this)),this.g&&(this.readyState=3,fg(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof nd.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cg(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Jf.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?hg(this):fg(this),3==this.readyState&&cg(this)}},Jf.Ua=function(t){this.g&&(this.response=this.responseText=t,hg(this))},Jf.Ta=function(t){this.g&&(this.response=t,hg(this))},Jf.ha=function(){this.g&&hg(this)},Jf.setRequestHeader=function(t,e){this.v.append(t,e)},Jf.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Jf.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(lg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var dg=nd.JSON.parse;function pg(t){gp.call(this),this.headers=new Sm,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mg,this.K=this.L=!1}fd(pg,gp);var mg="",gg=/^https?$/i,vg=["POST","PUT"];function yg(t){return"content-type"==t.toLowerCase()}function wg(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,bg(t),Sg(t)}function bg(t){t.D||(t.D=!0,vp(t,"complete"),vp(t,"error"))}function _g(t){if(t.h&&"undefined"!=typeof ed&&(!t.C[1]||4!=kg(t)||2!=t.ba()))if(t.v&&4==kg(t))Op(t.Fa,0,t);else if(vp(t,"readystatechange"),4==kg(t)){t.h=!1;try{const a=t.ba();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var i;if(i=0===a){var r=String(t.H).match(Tm)[1]||null;if(!r&&nd.self&&nd.self.location){var s=nd.self.location.protocol;r=s.substr(0,s.length-1)}i=!gg.test(r?r.toLowerCase():"")}n=i}if(n)vp(t,"complete"),vp(t,"success");else{t.m=6;try{var o=2<kg(t)?t.g.statusText:""}catch(ke){o=""}t.j=o+" ["+t.ba()+"]",bg(t)}}finally{Sg(t)}}}function Sg(t,e){if(t.g){Eg(t);const i=t.g,r=t.C[0]?id:null;t.g=null,t.C=null,e||vp(t,"ready");try{i.onreadystatechange=r}catch(n){}}}function Eg(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(nd.clearTimeout(t.A),t.A=null)}function kg(t){return t.g?t.g.readyState:0}function Tg(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case mg:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(Re){return null}}function Cg(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){let e="";return Cd(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Pm(t,e,n))}function Ig(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xg(t){this.za=0,this.l=[],this.h=new Fp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ig("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ig("baseRetryDelayMs",5e3,t),this.$a=Ig("retryDelaySeedMs",1e4,t),this.Ya=Ig("forwardChannelMaxRetries",2,t),this.ra=Ig("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Xm(t&&t.concurrentRequestLimit),this.Ca=new rg,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Mg(t){if(Og(t),3==t.G){var e=t.V++,n=Im(t.F);Pm(n,"SID",t.J),Pm(n,"RID",e),Pm(n,"TYPE","terminate"),Rg(t,n),(e=new sm(t,t.h,e,void 0)).K=2,e.v=Am(Im(n)),n=!1,nd.navigator&&nd.navigator.sendBeacon&&(n=nd.navigator.sendBeacon(e.v.toString(),"")),!n&&nd.Image&&((new Image).src=e.v,n=!0),n||(e.g=Kg(e.l,null),e.g.ea(e.v)),e.F=Date.now(),mm(e)}Hg(t)}function Ng(t){t.g&&(Vg(t),t.g.cancel(),t.g=null)}function Og(t){Ng(t),t.u&&(nd.clearTimeout(t.u),t.u=null),Ug(t),t.i.cancel(),t.m&&("number"===typeof t.m&&nd.clearTimeout(t.m),t.m=null)}function Pg(t,e){t.l.push(new Qm(t.Za++,e)),3==t.G&&Ag(t)}function Ag(t){Ym(t.i)||t.m||(t.m=!0,Tp(t.Ha,t),t.C=0)}function Dg(t,e){var n;n=e?e.m:t.V++;const i=Im(t.F);Pm(i,"SID",t.J),Pm(i,"RID",n),Pm(i,"AID",t.U),Rg(t,i),t.o&&t.s&&Cg(i,t.o,t.s),n=new sm(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Lg(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),tg(t.i,n),cm(n,i,e)}function Rg(t,e){t.j&&_m({},(function(t,n){Pm(e,n,t)}))}function Lg(t,e,n){n=Math.min(t.l.length,n);var i=t.j?cd(t.j.Oa,t.j,t):null;t:{var r=t.l;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=r[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let o=0;o<n;o++){let n=r[o].h;const a=r[o].g;if(n-=e,0>n)e=Math.max(0,r[o].h-100),s=!1;else try{sg(a,t,"req"+n+"_")}catch(en){i&&i(a)}}if(s){i=t.join("&");break t}}}return t=t.l.splice(0,n),e.D=t,i}function jg(t){t.g||t.u||(t.Y=1,Tp(t.Ga,t),t.A=0)}function Fg(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=Qp(cd(t.Ga,t),Wg(t,t.A)),t.A++,!0)}function Vg(t){null!=t.B&&(nd.clearTimeout(t.B),t.B=null)}function zg(t){t.g=new sm(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Im(t.oa);Pm(e,"RID","rpc"),Pm(e,"SID",t.J),Pm(e,"CI",t.N?"0":"1"),Pm(e,"AID",t.U),Rg(t,e),Pm(e,"TYPE","xmlhttp"),t.o&&t.s&&Cg(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Am(Im(e)),n.s=null,n.U=!0,hm(n,t)}function Ug(t){null!=t.v&&(nd.clearTimeout(t.v),t.v=null)}function Bg(t,e){var n=null;if(t.g==e){Ug(t),Vg(t),t.g=null;var i=2}else{if(!Zm(t.i,e))return;n=e.D,eg(t.i,e),i=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;vp(i=Bp(),new Kp(i,n,e,r)),Ag(t)}else jg(t);else if(3==(r=e.o)||0==r&&0<t.I||!(1==i&&function(t,e){return!(Jm(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=Qp(cd(t.Ha,t,e),Wg(t,t.C)),t.C++,!0))}(t,e)||2==i&&Fg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:qg(t,5);break;case 4:qg(t,10);break;case 3:qg(t,6);break;default:qg(t,2)}}function Wg(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function qg(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var i=cd(t.jb,t);n||(n=new Cm("//www.google.com/images/cleardot.gif"),nd.location&&"http"==nd.location.protocol||xm(n,"https"),Am(n)),function(t,e){const n=new Fp;if(nd.Image){const i=new Image;i.onload=hd(og,n,i,"TestLoadImage: loaded",!0,e),i.onerror=hd(og,n,i,"TestLoadImage: error",!1,e),i.onabort=hd(og,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=hd(og,n,i,"TestLoadImage: timeout",!1,e),nd.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else Gp(2);t.G=0,t.j&&t.j.va(e),Hg(t),Og(t)}function Hg(t){t.G=0,t.I=-1,t.j&&(0==ng(t.i).length&&0==t.l.length||(t.i.i.length=0,yd(t.l),t.l.length=0),t.j.ua())}function Gg(t,e,n){let i=function(t){return t instanceof Cm?Im(t):new Cm(t,void 0)}(n);if(""!=i.i)e&&Mm(i,e+"."+i.i),Nm(i,i.m);else{const t=nd.location;i=function(t,e,n,i){var r=new Cm(null,void 0);return t&&xm(r,t),e&&Mm(r,e),n&&Nm(r,n),i&&(r.l=i),r}(t.protocol,e?e+"."+t.hostname:t.hostname,+t.port,n)}return t.aa&&Cd(t.aa,(function(t,e){Pm(i,e,t)})),e=t.D,n=t.sa,e&&n&&Pm(i,e,n),Pm(i,"VER",t.ma),Rg(t,i),i}function Kg(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new pg(new ag({ib:!0})):new pg(t.qa)).L=t.H,e}function Qg(){}function Xg(){if(Ad&&!(10<=Number(Gd)))throw Error("Environmental error: no available transport.")}function $g(t,e){gp.call(this),this.g=new xg(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!wd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wd(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new Zg(this)}function Yg(t){nm.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Jg(){im.call(this),this.status=1}function Zg(t){this.g=t}(Jf=pg.prototype).ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():tm.g(),this.C=this.u?Jp(this.u):Jp(tm),this.g.onreadystatechange=cd(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(Ce){return void wg(this,Ce)}t=n||"";const r=new Sm(this.headers);i&&_m(i,(function(t,e){r.set(e,t)})),i=function(t){t:{var e=yg;const n=t.length,i="string"===typeof t?t.split(""):t;for(let r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(r.T()),n=nd.FormData&&t instanceof nd.FormData,!(0<=md(vg,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Eg(this),0<this.B&&((this.K=function(t){return Ad&&qd()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cd(this.pa,this)):this.A=Op(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(Ce){wg(this,Ce)}},Jf.pa=function(){"undefined"!=typeof ed&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vp(this,"timeout"),this.abort(8))},Jf.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,vp(this,"complete"),vp(this,"abort"),Sg(this))},Jf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sg(this,!0)),pg.Z.M.call(this)},Jf.Fa=function(){this.s||(this.F||this.v||this.l?_g(this):this.cb())},Jf.cb=function(){_g(this)},Jf.ba=function(){try{return 2<kg(this)?this.g.status:-1}catch(Te){return-1}},Jf.ga=function(){try{return this.g?this.g.responseText:""}catch(Te){return""}},Jf.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),dg(e)}},Jf.Da=function(){return this.m},Jf.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Jf=xg.prototype).ma=8,Jf.G=1,Jf.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(Re){}},Jf.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const r=new sm(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=Id(s),Md(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)t:{for(var e=0,n=0;n<this.l.length;n++){var i=this.l[n];if(void 0===(i="__data__"in i.g&&"string"===typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break t}if(4096===e||n===this.l.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=Lg(this,r,e),Pm(n=Im(this.F),"RID",t),Pm(n,"CVER",22),this.D&&Pm(n,"X-HTTP-Session-Id",this.D),Rg(this,n),this.o&&s&&Cg(n,this.o,s),tg(this.i,r),this.Ra&&Pm(n,"TYPE","init"),this.ja?(Pm(n,"$req",e),Pm(n,"SID","null"),r.$=!0,cm(r,n,null)):cm(r,n,e),this.G=2}}else 3==this.G&&(t?Dg(this,t):0==this.l.length||Ym(this.i)||Dg(this))},Jf.Ga=function(){if(this.u=null,zg(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Qp(cd(this.bb,this),t)}},Jf.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gp(10),Ng(this),zg(this))},Jf.ab=function(){null!=this.v&&(this.v=null,Ng(this),Fg(this),Gp(19))},Jf.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Gp(2)):(this.h.info("Failed to ping google.com"),Gp(1))},(Jf=Qg.prototype).xa=function(){},Jf.wa=function(){},Jf.va=function(){},Jf.ua=function(){},Jf.Oa=function(){},Xg.prototype.g=function(t,e){return new $g(t,e)},fd($g,gp),$g.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Tp(cd(t.hb,t,e))),Gp(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Gg(t,null,t.W),Ag(t)},$g.prototype.close=function(){Mg(this.g)},$g.prototype.u=function(t){if("string"===typeof t){var e={};e.__data__=t,Pg(this.g,e)}else this.v?((e={}).__data__=wp(t),Pg(this.g,e)):Pg(this.g,t)},$g.prototype.M=function(){this.g.j=null,delete this.j,Mg(this.g),delete this.g,$g.Z.M.call(this)},fd(Yg,nm),fd(Jg,im),fd(Zg,Qg),Zg.prototype.xa=function(){vp(this.g,"a")},Zg.prototype.wa=function(t){vp(this.g,new Yg(t))},Zg.prototype.va=function(t){vp(this.g,new Jg(t))},Zg.prototype.ua=function(){vp(this.g,"b")},Xg.prototype.createWebChannel=Xg.prototype.g,$g.prototype.send=$g.prototype.u,$g.prototype.open=$g.prototype.m,$g.prototype.close=$g.prototype.close,Xp.NO_ERROR=0,Xp.TIMEOUT=8,Xp.HTTP_ERROR=6,$p.COMPLETE="complete",Zp.EventType=em,em.OPEN="a",em.CLOSE="b",em.ERROR="c",em.MESSAGE="d",gp.prototype.listen=gp.prototype.N,pg.prototype.listenOnce=pg.prototype.O,pg.prototype.getLastError=pg.prototype.La,pg.prototype.getLastErrorCode=pg.prototype.Da,pg.prototype.getStatus=pg.prototype.ba,pg.prototype.getResponseJson=pg.prototype.Qa,pg.prototype.getResponseText=pg.prototype.ga,pg.prototype.send=pg.prototype.ea;var tv=td.createWebChannelTransport=function(){return new Xg},ev=td.getStatEventTarget=function(){return Bp()},nv=td.ErrorCode=Xp,iv=td.EventType=$p,rv=td.Event=zp,sv=td.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ov=td.FetchXmlHttpFactory=ag,av=td.WebChannel=Zp,lv=td.XhrIo=pg;const uv="@firebase/firestore";class cv{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cv.UNAUTHENTICATED=new cv(null),cv.GOOGLE_CREDENTIALS=new cv("google-credentials-uid"),cv.FIRST_PARTY=new cv("first-party-uid"),cv.MOCK_USER=new cv("mock-user");let hv="9.8.3";const fv=new za("@firebase/firestore");function dv(){return fv.logLevel}function pv(t){if(fv.logLevel<=Ra.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(vv);fv.debug("Firestore (".concat(hv,"): ").concat(t),...r)}}function mv(t){if(fv.logLevel<=Ra.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(vv);fv.error("Firestore (".concat(hv,"): ").concat(t),...r)}}function gv(t){if(fv.logLevel<=Ra.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(vv);fv.warn("Firestore (".concat(hv,"): ").concat(t),...r)}}function vv(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function yv(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const e="FIRESTORE (".concat(hv,") INTERNAL ASSERTION FAILED: ")+t;throw mv(e),new Error(e)}function wv(t,e){t||yv()}function bv(t,e){return t}const _v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Sv extends pa{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Ev{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class kv{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))}}class Tv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(cv.UNAUTHENTICATED)))}shutdown(){}}class Cv{constructor(t){this.t=t,this.currentUser=cv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const i=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let r=new Ev;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Ev,t.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const e=r;t.enqueueRetryable((async()=>{await e.promise,await i(this.currentUser)}))},o=t=>{pv("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(pv("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Ev)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(pv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(wv("string"==typeof e.accessToken),new kv(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return wv(null===t||"string"==typeof t),new cv(t)}}class Iv{constructor(t,e,n){this.type="FirstParty",this.user=cv.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class xv{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new Iv(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable((()=>e(cv.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Mv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nv{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const n=t=>{null!=t.error&&pv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message));const n=t.token!==this.p;return this.p=t.token,pv("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const i=t=>{pv("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.g.onInit((t=>i(t))),setTimeout((()=>{if(!this.appCheck){const t=this.g.getImmediate({optional:!0});t?i(t):pv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(wv("string"==typeof t.token),this.p=t.token,new Mv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ov(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class Pv{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let n="";for(;n.length<20;){const i=Ov(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%62))}return n}}function Av(t,e){return t<e?-1:t>e?1:0}function Dv(t,e,n){return t.length===e.length&&t.every(((t,i)=>n(t,e[i])))}class Rv{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Sv(_v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Sv(_v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Sv(_v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Sv(_v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Rv.fromMillis(Date.now())}static fromDate(t){return Rv.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Rv(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Av(this.nanoseconds,t.nanoseconds):Av(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lv{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Lv(t)}static min(){return new Lv(new Rv(0,0))}static max(){return new Lv(new Rv(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jv{constructor(t,e,n){void 0===e?e=0:e>t.length&&yv(),void 0===n?n=t.length-e:n>t.length-e&&yv(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===jv.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof jv?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.get(i),r=e.get(i);if(n<r)return-1;if(n>r)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Fv extends jv{construct(t,e,n){return new Fv(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const t=[];for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n){if(r.indexOf("//")>=0)throw new Sv(_v.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));t.push(...r.split("/").filter((t=>t.length>0)))}return new Fv(t)}static emptyPath(){return new Fv([])}}const Vv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zv extends jv{construct(t,e,n){return new zv(t,e,n)}static isValidIdentifier(t){return Vv.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zv.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zv(["__name__"])}static fromServerFormat(t){const e=[];let n="",i=0;const r=()=>{if(0===n.length)throw new Sv(_v.INVALID_ARGUMENT,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(n),n=""};let s=!1;for(;i<t.length;){const e=t[i];if("\\"===e){if(i+1===t.length)throw new Sv(_v.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[i+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Sv(_v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,i+=2}else"`"===e?(s=!s,i++):"."!==e||s?(n+=e,i++):(r(),i++)}if(r(),s)throw new Sv(_v.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new zv(e)}static emptyPath(){return new zv([])}}class Uv{constructor(t){this.path=t}static fromPath(t){return new Uv(Fv.fromString(t))}static fromName(t){return new Uv(Fv.fromString(t).popFirst(5))}static empty(){return new Uv(Fv.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Fv.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Fv.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Uv(new Fv(t.slice()))}}class Bv{constructor(t,e,n,i){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=i}}Bv.UNKNOWN_ID=-1;function Wv(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Lv.fromTimestamp(1e9===i?new Rv(n+1,0):new Rv(n,i));return new Hv(r,Uv.empty(),e)}function qv(t){return new Hv(t.readTime,t.key,-1)}class Hv{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Hv(Lv.min(),Uv.empty(),-1)}static max(){return new Hv(Lv.max(),Uv.empty(),-1)}}function Gv(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Uv.comparator(t.documentKey,e.documentKey),0!==n?n:Av(t.largestBatchId,e.largestBatchId))}const Kv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Xv(t){if(t.code!==_v.FAILED_PRECONDITION||t.message!==Kv)throw t;pv("LocalStore","Unexpectedly lost primary lease")}class $v{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&yv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new $v(((n,i)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,i)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,i)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof $v?e:$v.resolve(e)}catch(t){return $v.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):$v.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):$v.reject(e)}static resolve(t){return new $v(((e,n)=>{e(t)}))}static reject(t){return new $v(((e,n)=>{n(t)}))}static waitFor(t){return new $v(((e,n)=>{let i=0,r=0,s=!1;t.forEach((t=>{++i,t.next((()=>{++r,s&&r===i&&e()}),(t=>n(t)))})),s=!0,r===i&&e()}))}static or(t){let e=$v.resolve(!1);for(const n of t)e=e.next((t=>t?$v.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,i)=>{n.push(e.call(this,t,i))})),this.waitFor(n)}static mapArray(t,e){return new $v(((n,i)=>{const r=t.length,s=new Array(r);let o=0;for(let a=0;a<r;a++){const l=a;e(t[l]).next((t=>{s[l]=t,++o,o===r&&n(s)}),(t=>i(t)))}}))}static doWhile(t,e){return new $v(((n,i)=>{const r=()=>{!0===t()?e().next((()=>{r()}),i):n()};r()}))}}function Yv(t){return"IndexedDbTransactionError"===t.name}class Jv{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.it(t),this.rt=t=>e.writeSequenceNumber(t))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function Zv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ty(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ey(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}Jv.ot=-1;class ny{constructor(t,e){this.comparator=t,this.root=e||ry.EMPTY}insert(t,e){return new ny(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ry.BLACK,null,null))}remove(t){return new ny(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ry.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push("".concat(e,":").concat(n)),!1))),"{".concat(t.join(", "),"}")}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new iy(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new iy(this.root,t,this.comparator,!1)}getReverseIterator(){return new iy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new iy(this.root,t,this.comparator,!0)}}class iy{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?n(t.key,e):1,e&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ry{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:ry.RED,this.left=null!=i?i:ry.EMPTY,this.right=null!=r?r:ry.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new ry(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ry.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return ry.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ry.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ry.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yv();if(this.right.isRed())throw yv();const t=this.left.check();if(t!==this.right.check())throw yv();return t+(this.isRed()?0:1)}}ry.EMPTY=null,ry.RED=!0,ry.BLACK=!1,ry.EMPTY=new class{constructor(){this.size=0}get key(){throw yv()}get value(){throw yv()}get color(){throw yv()}get left(){throw yv()}get right(){throw yv()}copy(t,e,n,i,r){return this}insert(t,e,n){return new ry(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sy{constructor(t){this.comparator=t,this.data=new ny(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new oy(this.data.getIterator())}getIteratorFrom(t){return new oy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof sy))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new sy(this.comparator);return e.data=t,e}}class oy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ay{constructor(t){this.fields=t,t.sort(zv.comparator)}static empty(){return new ay([])}unionWith(t){let e=new sy(zv.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new ay(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Dv(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class ly{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ly(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new ly(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Av(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ly.EMPTY_BYTE_STRING=new ly("");const uy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cy(t){if(wv(!!t),"string"==typeof t){let e=0;const n=uy.exec(t);if(wv(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:hy(t.seconds),nanos:hy(t.nanos)}}function hy(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function fy(t){return"string"==typeof t?ly.fromBase64String(t):ly.fromUint8Array(t)}function dy(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function py(t){const e=t.mapValue.fields.__previous_value__;return dy(e)?py(e):e}function my(t){const e=cy(t.mapValue.fields.__local_write_time__.timestampValue);return new Rv(e.seconds,e.nanos)}class gy{constructor(t,e,n,i,r,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class vy{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new vy("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof vy&&t.projectId===this.projectId&&t.database===this.database}}function yy(t){return null==t}function wy(t){return 0===t&&1/t==-1/0}function by(t){return"number"==typeof t&&Number.isInteger(t)&&!wy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const _y={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Sy(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dy(t)?4:Ly(t)?9007199254740991:10:yv()}function Ey(t,e){if(t===e)return!0;const n=Sy(t);if(n!==Sy(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return my(t).isEqual(my(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=cy(t.timestampValue),i=cy(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return fy(t.bytesValue).isEqual(fy(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return hy(t.geoPointValue.latitude)===hy(e.geoPointValue.latitude)&&hy(t.geoPointValue.longitude)===hy(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return hy(t.integerValue)===hy(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=hy(t.doubleValue),i=hy(e.doubleValue);return n===i?wy(n)===wy(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return Dv(t.arrayValue.values||[],e.arrayValue.values||[],Ey);case 10:return function(t,e){const n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(Zv(n)!==Zv(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Ey(n[r],i[r])))return!1;return!0}(t,e);default:return yv()}}function ky(t,e){return void 0!==(t.values||[]).find((t=>Ey(t,e)))}function Ty(t,e){if(t===e)return 0;const n=Sy(t),i=Sy(e);if(n!==i)return Av(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Av(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=hy(t.integerValue||t.doubleValue),i=hy(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return Cy(t.timestampValue,e.timestampValue);case 4:return Cy(my(t),my(e));case 5:return Av(t.stringValue,e.stringValue);case 6:return function(t,e){const n=fy(t),i=fy(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),i=e.split("/");for(let r=0;r<n.length&&r<i.length;r++){const t=Av(n[r],i[r]);if(0!==t)return t}return Av(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=Av(hy(t.latitude),hy(e.latitude));return 0!==n?n:Av(hy(t.longitude),hy(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const t=Ty(n[r],i[r]);if(t)return t}return Av(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===_y.mapValue&&e===_y.mapValue)return 0;if(t===_y.mapValue)return 1;if(e===_y.mapValue)return-1;const n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let o=0;o<i.length&&o<s.length;++o){const t=Av(i[o],s[o]);if(0!==t)return t;const e=Ty(n[i[o]],r[s[o]]);if(0!==e)return e}return Av(i.length,s.length)}(t.mapValue,e.mapValue);default:throw yv()}}function Cy(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Av(t,e);const n=cy(t),i=cy(e),r=Av(n.seconds,i.seconds);return 0!==r?r:Av(n.nanos,i.nanos)}function Iy(t){return xy(t)}function xy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=cy(t);return"time(".concat(e.seconds,",").concat(e.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?fy(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Uv.fromName(n).toString()):"geoPointValue"in t?"geo(".concat((e=t.geoPointValue).latitude,",").concat(e.longitude,")"):"arrayValue"in t?function(t){let e="[",n=!0;for(const i of t.values||[])n?n=!1:e+=",",e+=xy(i);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",i=!0;for(const r of e)i?i=!1:n+=",",n+="".concat(r,":").concat(xy(t.fields[r]));return n+"}"}(t.mapValue):yv();var e,n}function My(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function Ny(t){return!!t&&"integerValue"in t}function Oy(t){return!!t&&"arrayValue"in t}function Py(t){return!!t&&"nullValue"in t}function Ay(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dy(t){return!!t&&"mapValue"in t}function Ry(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ty(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Ry(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ry(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ly(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class jy{constructor(t){this.value=t}static empty(){return new jy({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Dy(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ry(e)}setAll(t){let e=zv.emptyPath(),n={},i=[];t.forEach(((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,n,i),n={},i=[],e=r.popLast()}t?n[r.lastSegment()]=Ry(t):i.push(r.lastSegment())}));const r=this.getFieldsMap(e);this.applyChanges(r,n,i)}delete(t){const e=this.field(t.popLast());Dy(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ey(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];Dy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){ty(e,((e,n)=>t[e]=n));for(const i of n)delete t[i]}clone(){return new jy(Ry(this.value))}}function Fy(t){const e=[];return ty(t.fields,((t,n)=>{const i=new zv([t]);if(Dy(n)){const t=Fy(n.mapValue).fields;if(0===t.length)e.push(i);else for(const n of t)e.push(i.child(n))}else e.push(i)})),new ay(e)}class Vy{constructor(t,e,n,i,r,s){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.data=r,this.documentState=s}static newInvalidDocument(t){return new Vy(t,0,Lv.min(),Lv.min(),jy.empty(),0)}static newFoundDocument(t,e,n){return new Vy(t,1,e,Lv.min(),n,0)}static newNoDocument(t,e){return new Vy(t,2,e,Lv.min(),jy.empty(),0)}static newUnknownDocument(t,e){return new Vy(t,3,e,Lv.min(),jy.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=jy.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=jy.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lv.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Vy&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Vy(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class zy{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.ut=null}}function Uy(t){return new zy(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function By(t){const e=bv(t);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>{return(e=t).field.canonicalString()+e.op.toString()+Iy(e.value);var e})).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),yy(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>Iy(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>Iy(t))).join(",")),e.ut=t}return e.ut}function Wy(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!nw(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(n=t.filters[r],i=e.filters[r],n.op!==i.op||!n.field.isEqual(i.field)||!Ey(n.value,i.value))return!1;var n,i;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rw(t.startAt,e.startAt)&&rw(t.endAt,e.endAt)}function qy(t){return Uv.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Hy extends class{}{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,n):new Gy(t,e,n):"array-contains"===e?new $y(t,n):"in"===e?new Yy(t,n):"not-in"===e?new Jy(t,n):"array-contains-any"===e?new Zy(t,n):new Hy(t,e,n)}static ct(t,e,n){return"in"===e?new Ky(t,n):new Qy(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(Ty(e,this.value)):null!==e&&Sy(this.value)===Sy(e)&&this.at(Ty(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return yv()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Gy extends Hy{constructor(t,e,n){super(t,e,n),this.key=Uv.fromName(n.referenceValue)}matches(t){const e=Uv.comparator(t.key,this.key);return this.at(e)}}class Ky extends Hy{constructor(t,e){super(t,"in",e),this.keys=Xy("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Qy extends Hy{constructor(t,e){super(t,"not-in",e),this.keys=Xy("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Xy(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>Uv.fromName(t.referenceValue)))}class $y extends Hy{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Oy(e)&&ky(e.arrayValue,this.value)}}class Yy extends Hy{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&ky(this.value.arrayValue,e)}}class Jy extends Hy{constructor(t,e){super(t,"not-in",e)}matches(t){if(ky(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!ky(this.value.arrayValue,e)}}class Zy extends Hy{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Oy(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>ky(this.value.arrayValue,t)))}}class tw{constructor(t,e){this.position=t,this.inclusive=e}}class ew{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=t,this.dir=e}}function nw(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function iw(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(i=s.field.isKeyField()?Uv.comparator(Uv.fromName(o.referenceValue),n.key):Ty(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function rw(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ey(t.position[n],e.position[n]))return!1;return!0}class sw{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.lt=null,this.ft=null,this.startAt,this.endAt}}function ow(t,e,n,i,r,s,o,a){return new sw(t,e,n,i,r,s,o,a)}function aw(t){return new sw(t)}function lw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function uw(t){for(const e of t.filters)if(e.ht())return e.field;return null}function cw(t){return null!==t.collectionGroup}function hw(t){const e=bv(t);if(null===e.lt){e.lt=[];const t=uw(e),n=lw(e);if(null!==t&&null===n)t.isKeyField()||e.lt.push(new ew(t)),e.lt.push(new ew(zv.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.lt.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new ew(zv.keyField(),t))}}}return e.lt}function fw(t){const e=bv(t);if(!e.ft)if("F"===e.limitType)e.ft=Uy(e.path,e.collectionGroup,hw(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const r of hw(e)){const e="desc"===r.dir?"asc":"desc";t.push(new ew(r.field,e))}const n=e.endAt?new tw(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new tw(e.startAt.position,e.startAt.inclusive):null;e.ft=Uy(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}return e.ft}function dw(t,e,n){return new sw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pw(t,e){return Wy(fw(t),fw(e))&&t.limitType===e.limitType}function mw(t){return"".concat(By(fw(t)),"|lt:").concat(t.limitType)}function gw(t){return"Query(target=".concat(function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: [".concat(t.filters.map((t=>{return"".concat((e=t).field.canonicalString()," ").concat(e.op," ").concat(Iy(e.value));var e})).join(", "),"]")),yy(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: [".concat(t.orderBy.map((t=>function(t){return"".concat(t.field.canonicalString()," (").concat(t.dir,")")}(t))).join(", "),"]")),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>Iy(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>Iy(t))).join(",")),"Target(".concat(e,")")}(fw(t)),"; limitType=").concat(t.limitType,")")}function vw(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Uv.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of t.explicitOrderBy)if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const i=iw(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,hw(t),e))&&!(t.endAt&&!function(t,e,n){const i=iw(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,hw(t),e))}(t,e)}function yw(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ww(t){return(e,n)=>{let i=!1;for(const r of hw(t)){const t=bw(r,e,n);if(0!==t)return t;i=i||r.field.isKeyField()}return 0}}function bw(t,e,n){const i=t.field.isKeyField()?Uv.comparator(e.key,n.key):function(t,e,n){const i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?Ty(i,r):yv()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return yv()}}function _w(t,e){if(t.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wy(e)?"-0":e}}function Sw(t){return{integerValue:""+t}}function Ew(t,e){return by(e)?Sw(e):_w(t,e)}class kw{constructor(){this._=void 0}}function Tw(t,e,n){return t instanceof xw?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Mw?Nw(t,e):t instanceof Ow?Pw(t,e):function(t,e){const n=Iw(t,e),i=Dw(n)+Dw(t._t);return Ny(n)&&Ny(t._t)?Sw(i):_w(t.wt,i)}(t,e)}function Cw(t,e,n){return t instanceof Mw?Nw(t,e):t instanceof Ow?Pw(t,e):n}function Iw(t,e){return t instanceof Aw?Ny(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class xw extends kw{}class Mw extends kw{constructor(t){super(),this.elements=t}}function Nw(t,e){const n=Rw(e);for(const i of t.elements)n.some((t=>Ey(t,i)))||n.push(i);return{arrayValue:{values:n}}}class Ow extends kw{constructor(t){super(),this.elements=t}}function Pw(t,e){let n=Rw(e);for(const i of t.elements)n=n.filter((t=>!Ey(t,i)));return{arrayValue:{values:n}}}class Aw extends kw{constructor(t,e){super(),this.wt=t,this._t=e}}function Dw(t){return hy(t.integerValue||t.doubleValue)}function Rw(t){return Oy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Lw{constructor(t,e){this.version=t,this.transformResults=e}}class jw{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new jw}static exists(t){return new jw(void 0,t)}static updateTime(t){return new jw(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fw(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Vw{}function zw(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new $w(t.key,jw.none()):new Hw(t.key,t.data,jw.none());{const n=t.data,i=jy.empty();let r=new sy(zv.comparator);for(let t of e.fields)if(!r.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?i.delete(t):i.set(t,e),r=r.add(t)}return new Gw(t.key,i,new ay(r.toArray()),jw.none())}}function Uw(t,e,n){t instanceof Hw?function(t,e,n){const i=t.value.clone(),r=Qw(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof Gw?function(t,e,n){if(!Fw(t.precondition,e))return void e.convertToUnknownDocument(n.version);const i=Qw(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(Kw(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Bw(t,e,n,i){return t instanceof Hw?function(t,e,n,i){if(!Fw(t.precondition,e))return n;const r=t.value.clone(),s=Xw(t.fieldTransforms,i,e);return r.setAll(s),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,n,i):t instanceof Gw?function(t,e,n,i){if(!Fw(t.precondition,e))return n;const r=Xw(t.fieldTransforms,i,e),s=e.data;return s.setAll(Kw(t)),s.setAll(r),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,i):function(t,e,n){return Fw(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function Ww(t,e){let n=null;for(const i of t.fieldTransforms){const t=e.data.field(i.field),r=Iw(i.transform,t||null);null!=r&&(null===n&&(n=jy.empty()),n.set(i.field,r))}return n||null}function qw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Dv(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Mw&&e instanceof Mw||t instanceof Ow&&e instanceof Ow?Dv(t.elements,e.elements,Ey):t instanceof Aw&&e instanceof Aw?Ey(t._t,e._t):t instanceof xw&&e instanceof xw}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hw extends Vw{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gw extends Vw{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Kw(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function Qw(t,e,n){const i=new Map;wv(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,Cw(o,a,n[r]))}return i}function Xw(t,e,n){const i=new Map;for(const r of t){const t=r.transform,s=n.data.field(r.field);i.set(r.field,Tw(t,s,e))}return i}class $w extends Vw{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yw extends Vw{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jw{constructor(t){this.count=t}}var Zw,tb;function eb(t){switch(t){default:return yv();case _v.CANCELLED:case _v.UNKNOWN:case _v.DEADLINE_EXCEEDED:case _v.RESOURCE_EXHAUSTED:case _v.INTERNAL:case _v.UNAVAILABLE:case _v.UNAUTHENTICATED:return!1;case _v.INVALID_ARGUMENT:case _v.NOT_FOUND:case _v.ALREADY_EXISTS:case _v.PERMISSION_DENIED:case _v.FAILED_PRECONDITION:case _v.ABORTED:case _v.OUT_OF_RANGE:case _v.UNIMPLEMENTED:case _v.DATA_LOSS:return!0}}function nb(t){if(void 0===t)return mv("GRPC error has no .code"),_v.UNKNOWN;switch(t){case Zw.OK:return _v.OK;case Zw.CANCELLED:return _v.CANCELLED;case Zw.UNKNOWN:return _v.UNKNOWN;case Zw.DEADLINE_EXCEEDED:return _v.DEADLINE_EXCEEDED;case Zw.RESOURCE_EXHAUSTED:return _v.RESOURCE_EXHAUSTED;case Zw.INTERNAL:return _v.INTERNAL;case Zw.UNAVAILABLE:return _v.UNAVAILABLE;case Zw.UNAUTHENTICATED:return _v.UNAUTHENTICATED;case Zw.INVALID_ARGUMENT:return _v.INVALID_ARGUMENT;case Zw.NOT_FOUND:return _v.NOT_FOUND;case Zw.ALREADY_EXISTS:return _v.ALREADY_EXISTS;case Zw.PERMISSION_DENIED:return _v.PERMISSION_DENIED;case Zw.FAILED_PRECONDITION:return _v.FAILED_PRECONDITION;case Zw.ABORTED:return _v.ABORTED;case Zw.OUT_OF_RANGE:return _v.OUT_OF_RANGE;case Zw.UNIMPLEMENTED:return _v.UNIMPLEMENTED;case Zw.DATA_LOSS:return _v.DATA_LOSS;default:return yv()}}(tb=Zw||(Zw={}))[tb.OK=0]="OK",tb[tb.CANCELLED=1]="CANCELLED",tb[tb.UNKNOWN=2]="UNKNOWN",tb[tb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tb[tb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tb[tb.NOT_FOUND=5]="NOT_FOUND",tb[tb.ALREADY_EXISTS=6]="ALREADY_EXISTS",tb[tb.PERMISSION_DENIED=7]="PERMISSION_DENIED",tb[tb.UNAUTHENTICATED=16]="UNAUTHENTICATED",tb[tb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tb[tb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tb[tb.ABORTED=10]="ABORTED",tb[tb.OUT_OF_RANGE=11]="OUT_OF_RANGE",tb[tb.UNIMPLEMENTED=12]="UNIMPLEMENTED",tb[tb.INTERNAL=13]="INTERNAL",tb[tb.UNAVAILABLE=14]="UNAVAILABLE",tb[tb.DATA_LOSS=15]="DATA_LOSS";class ib{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ty(this.inner,((e,n)=>{for(const[i,r]of n)t(i,r)}))}isEmpty(){return ey(this.inner)}size(){return this.innerSize}}const rb=new ny(Uv.comparator);function sb(){return rb}const ob=new ny(Uv.comparator);function ab(){let t=ob;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n)t=t.insert(r.key,r);return t}function lb(t){let e=ob;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function ub(){return hb()}function cb(){return hb()}function hb(){return new ib((t=>t.toString()),((t,e)=>t.isEqual(e)))}const fb=new ny(Uv.comparator),db=new sy(Uv.comparator);function pb(){let t=db;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n)t=t.add(r);return t}const mb=new sy(Av);function gb(){return mb}class vb{constructor(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e){const n=new Map;return n.set(t,yb.createSynthesizedTargetChangeForCurrentChange(t,e)),new vb(Lv.min(),n,gb(),sb(),pb())}}class yb{constructor(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e){return new yb(ly.EMPTY_BYTE_STRING,e,pb(),pb(),pb())}}class wb{constructor(t,e,n,i){this.gt=t,this.removedTargetIds=e,this.key=n,this.yt=i}}class bb{constructor(t,e){this.targetId=t,this.It=e}}class _b{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ly.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class Sb{constructor(){this.Tt=0,this.Et=Tb(),this.At=ly.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=pb(),e=pb(),n=pb();return this.Et.forEach(((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:yv()}})),new yb(this.At,this.Rt,t,e,n)}Dt(){this.bt=!1,this.Et=Tb()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Eb{constructor(t){this.Mt=t,this.Ft=new Map,this.$t=sb(),this.Bt=kb(),this.Lt=new sy(Av)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,(e=>{const n=this.Qt(e);switch(t.state){case 0:this.jt(e)&&n.Vt(t.resumeToken);break;case 1:n.kt(),n.Pt||n.Dt(),n.Vt(t.resumeToken);break;case 2:n.kt(),n.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(n.Ot(),n.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),n.Vt(t.resumeToken));break;default:yv()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach(((t,n)=>{this.jt(n)&&e(n)}))}zt(t){const e=t.targetId,n=t.It.count,i=this.Ht(e);if(i){const t=i.target;if(qy(t))if(0===n){const n=new Uv(t.path);this.Kt(e,n,Vy.newNoDocument(n,Lv.min()))}else wv(1===n);else this.Jt(e)!==n&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach(((n,i)=>{const r=this.Ht(i);if(r){if(n.current&&qy(r.target)){const e=new Uv(r.target.path);null!==this.$t.get(e)||this.Xt(i,e)||this.Kt(i,e,Vy.newNoDocument(e,t))}n.vt&&(e.set(i,n.St()),n.Dt())}}));let n=pb();this.Bt.forEach(((t,e)=>{let i=!0;e.forEachWhile((t=>{const e=this.Ht(t);return!e||2===e.purpose||(i=!1,!1)})),i&&(n=n.add(t))})),this.$t.forEach(((e,n)=>n.setReadTime(t)));const i=new vb(t,e,this.Lt,this.$t,n);return this.$t=sb(),this.Bt=kb(),this.Lt=new sy(Av),i}qt(t,e){if(!this.jt(t))return;const n=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,n),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,n){if(!this.jt(t))return;const i=this.Qt(t);this.Xt(t,e)?i.Ct(e,1):i.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),n&&(this.$t=this.$t.insert(e,n))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Mt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new Sb,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new sy(Av),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||pv("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Mt.te(t)}Wt(t){this.Ft.set(t,new Sb),this.Mt.getRemoteKeysForTarget(t).forEach((e=>{this.Kt(t,e,null)}))}Xt(t,e){return this.Mt.getRemoteKeysForTarget(t).has(e)}}function kb(){return new ny(Uv.comparator)}function Tb(){return new ny(Uv.comparator)}const Cb={asc:"ASCENDING",desc:"DESCENDING"},Ib={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class xb{constructor(t,e){this.databaseId=t,this.dt=e}}function Mb(t,e){return t.dt?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nb(t,e){return t.dt?e.toBase64():e.toUint8Array()}function Ob(t,e){return Mb(t,e.toTimestamp())}function Pb(t){return wv(!!t),Lv.fromTimestamp(function(t){const e=cy(t);return new Rv(e.seconds,e.nanos)}(t))}function Ab(t,e){return function(t){return new Fv(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Db(t){const e=Fv.fromString(t);return wv(t_(e)),e}function Rb(t,e){return Ab(t.databaseId,e.path)}function Lb(t,e){const n=Db(e);if(n.get(1)!==t.databaseId.projectId)throw new Sv(_v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Sv(_v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Uv(zb(n))}function jb(t,e){return Ab(t.databaseId,e)}function Fb(t){const e=Db(t);return 4===e.length?Fv.emptyPath():zb(e)}function Vb(t){return new Fv(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zb(t){return wv(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ub(t,e,n){return{name:Rb(t,e),fields:n.value.mapValue.fields}}function Bb(t,e){let n;if(e instanceof Hw)n={update:Ub(t,e.key,e.value)};else if(e instanceof $w)n={delete:Rb(t,e.key)};else if(e instanceof Gw)n={update:Ub(t,e.key,e.data),updateMask:Zb(e.fieldMask)};else{if(!(e instanceof Yw))return yv();n={verify:Rb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof xw)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Mw)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ow)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Aw)return{fieldPath:e.field.canonicalString(),increment:n._t};throw yv()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ob(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:yv()}(t,e.precondition)),n}function Wb(t,e){return{documents:[jb(t,e.path)]}}function qb(t,e){const n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=jb(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=jb(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(t){if(0===t.length)return;const e=t.map((t=>function(t){if("=="===t.op){if(Ay(t.value))return{unaryFilter:{field:Xb(t.field),op:"IS_NAN"}};if(Py(t.value))return{unaryFilter:{field:Xb(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ay(t.value))return{unaryFilter:{field:Xb(t.field),op:"IS_NOT_NAN"}};if(Py(t.value))return{unaryFilter:{field:Xb(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xb(t.field),op:Qb(t.op),value:t.value}}}(t)));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);r&&(n.structuredQuery.where=r);const s=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:Xb(t.field),direction:Kb(t.dir)}}(t)))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(t,e){return t.dt||yy(e)?e:{value:e}}(t,e.limit);var a;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function Hb(t){let e=Fb(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){wv(1===i);const t=n.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=Gb(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((t=>function(t){return new ew($b(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,yy(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new tw(n,e)}(n.startAt));let u=null;return n.endAt&&(u=function(t){const e=!t.before,n=t.values||[];return new tw(n,e)}(n.endAt)),ow(e,r,o,s,a,"F",l,u)}function Gb(t){return t?void 0!==t.unaryFilter?[Jb(t)]:void 0!==t.fieldFilter?[Yb(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((t=>Gb(t))).reduce(((t,e)=>t.concat(e))):yv():[]}function Kb(t){return Cb[t]}function Qb(t){return Ib[t]}function Xb(t){return{fieldPath:t.canonicalString()}}function $b(t){return zv.fromServerFormat(t.fieldPath)}function Yb(t){return Hy.create($b(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yv()}}(t.fieldFilter.op),t.fieldFilter.value)}function Jb(t){switch(t.unaryFilter.op){case"IS_NAN":const e=$b(t.unaryFilter.field);return Hy.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=$b(t.unaryFilter.field);return Hy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$b(t.unaryFilter.field);return Hy.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=$b(t.unaryFilter.field);return Hy.create(r,"!=",{nullValue:"NULL_VALUE"});default:return yv()}}function Zb(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function t_(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}const e_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],n_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],i_=n_;class r_{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const e=this.mutations[i];e.key.isEqual(t.key)&&Uw(e,t,n[i])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Bw(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Bw(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=cb();return this.mutations.forEach((i=>{const r=t.get(i.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=e.has(i.key)?null:o;const a=zw(s,o);null!==a&&n.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(Lv.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),pb())}isEqual(t){return this.batchId===t.batchId&&Dv(this.mutations,t.mutations,((t,e)=>qw(t,e)))&&Dv(this.baseMutations,t.baseMutations,((t,e)=>qw(t,e)))}}class s_{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){wv(t.mutations.length===n.length);let i=fb;const r=t.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new s_(t,e,n,i)}}class o_{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class a_{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lv.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Lv.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ly.EMPTY_BYTE_STRING;this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(t){return new a_(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new a_(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new a_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class l_{constructor(t){this.ne=t}}function u_(t){const e=Hb({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?dw(e,e.limit,"L"):e}class c_{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(hy(t.integerValue));else if("doubleValue"in t){const n=hy(t.doubleValue);isNaN(n)?this.ce(e,13):(this.ce(e,15),wy(n)?e.ae(0):e.ae(n))}else if("timestampValue"in t){const n=t.timestampValue;this.ce(e,20),"string"==typeof n?e.he(n):(e.he("".concat(n.seconds||"")),e.ae(n.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(fy(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.ce(e,45),e.ae(n.latitude||0),e.ae(n.longitude||0)}else"mapValue"in t?Ly(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):yv()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const n=t.fields||{};this.ce(e,55);for(const i of Object.keys(n))this.le(i,e),this.oe(n[i],e)}me(t,e){const n=t.values||[];this.ce(e,50);for(const i of n)this.oe(i,e)}_e(t,e){this.ce(e,37),Uv.fromName(t).path.forEach((t=>{this.ce(e,60),this.ge(t,e)}))}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}c_.ye=new c_;class h_{constructor(){this.ze=new f_}addToCollectionParentIndex(t,e){return this.ze.add(e),$v.resolve()}getCollectionParents(t,e){return $v.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return $v.resolve()}deleteFieldIndex(t,e){return $v.resolve()}getDocumentsMatchingTarget(t,e){return $v.resolve(null)}getIndexType(t,e){return $v.resolve(0)}getFieldIndexes(t,e){return $v.resolve([])}getNextCollectionGroupToUpdate(t){return $v.resolve(null)}getMinOffset(t,e){return $v.resolve(Hv.min())}getMinOffsetFromCollectionGroup(t,e){return $v.resolve(Hv.min())}updateCollectionGroup(t,e,n){return $v.resolve()}updateIndexEntries(t,e){return $v.resolve()}}class f_{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new sy(Fv.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new sy(Fv.comparator)).toArray()}}new Uint8Array(0);class d_{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new d_(t,d_.DEFAULT_COLLECTION_PERCENTILE,d_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}d_.DEFAULT_COLLECTION_PERCENTILE=10,d_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,d_.DEFAULT=new d_(41943040,d_.DEFAULT_COLLECTION_PERCENTILE,d_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),d_.DISABLED=new d_(-1,0,0);class p_{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new p_(0)}static Rn(){return new p_(-1)}}class m_{constructor(){this.changes=new ib((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Vy.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?$v.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class g_{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class v_{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((i=>(n=i,this.getBaseDocument(t,e,n)))).next((t=>(null!==n&&Bw(n.mutation,t,ay.empty(),Rv.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,pb()).next((()=>e))))}getLocalViewOfDocuments(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pb();const i=ub();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,n).next((t=>{let e=ab();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=ub();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,pb())))}populateOverlays(t,e,n){const i=[];return n.forEach((t=>{e.has(t)||i.push(t)})),this.documentOverlayCache.getOverlays(t,i).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,i){let r=sb();const s=hb(),o=hb();return e.forEach(((t,e)=>{const o=n.get(e.key);i.has(e.key)&&(void 0===o||o.mutation instanceof Gw)?r=r.insert(e.key,e):void 0!==o&&(s.set(e.key,o.mutation.getFieldMask()),Bw(o.mutation,e,o.mutation.getFieldMask(),Rv.now()))})),this.recalculateAndSaveOverlays(t,r).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var n;return o.set(t,new g_(e,null!==(n=s.get(t))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(t,e){const n=hb();let i=new ny(((t,e)=>t-e)),r=pb();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const r of t)r.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||ay.empty();o=r.applyToLocalView(s,o),n.set(t,o);const a=(i.get(r.batchId)||pb()).add(t);i=i.insert(r.batchId,a)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const i=o.getNext(),a=i.key,l=i.value,u=cb();l.forEach((t=>{if(!r.has(t)){const i=zw(e.get(t),n.get(t));null!==i&&u.set(t,i),r=r.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,u))}return $v.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n){return function(t){return Uv.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):cw(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next((r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-r.size):$v.resolve(ub());let o=-1,a=r;return s.next((e=>$v.forEach(e,((e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),r.get(e)?$v.resolve():this.getBaseDocument(t,e,n).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,r))).next((()=>this.computeViews(t,a,e,pb()))).next((t=>({batchId:o,changes:lb(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Uv(e)).next((t=>{let e=ab();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n){const i=e.collectionGroup;let r=ab();return this.indexManager.getCollectionParents(t,i).next((s=>$v.forEach(s,(s=>{const o=function(t,e){return new sw(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return this.getDocumentsMatchingCollectionQuery(t,o,n).next((t=>{t.forEach(((t,e)=>{r=r.insert(t,e)}))}))})).next((()=>r))))}getDocumentsMatchingCollectionQuery(t,e,n){let i;return this.remoteDocumentCache.getAllFromCollection(t,e.path,n).next((r=>(i=r,this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId)))).next((t=>{t.forEach(((t,e)=>{const n=e.getKey();null===i.get(n)&&(i=i.insert(n,Vy.newInvalidDocument(n)))}));let n=ab();return i.forEach(((i,r)=>{const s=t.get(i);void 0!==s&&Bw(s.mutation,r,ay.empty(),Rv.now()),vw(e,r)&&(n=n.insert(i,r))})),n}))}getBaseDocument(t,e,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(t,e):$v.resolve(Vy.newInvalidDocument(e))}}class y_{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return $v.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:Pb(n.createTime)}),$v.resolve()}getNamedQuery(t,e){return $v.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:u_(t.bundledQuery),readTime:Pb(t.readTime)}}(e)),$v.resolve()}}class w_{constructor(){this.overlays=new ny(Uv.comparator),this.Xn=new Map}getOverlay(t,e){return $v.resolve(this.overlays.get(e))}getOverlays(t,e){const n=ub();return $v.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,i)=>{this.ie(t,e,i)})),$v.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.Xn.get(n);return void 0!==i&&(i.forEach((t=>this.overlays=this.overlays.remove(t))),this.Xn.delete(n)),$v.resolve()}getOverlaysForCollection(t,e,n){const i=ub(),r=e.length+1,s=new Uv(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===r&&t.largestBatchId>n&&i.set(t.getKey(),t)}return $v.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let r=new ny(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=r.get(t.largestBatchId);null===e&&(e=ub(),r=r.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=ub(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=i)););return $v.resolve(o)}ie(t,e,n){const i=this.overlays.get(n.key);if(null!==i){const t=this.Xn.get(i.largestBatchId).delete(n.key);this.Xn.set(i.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new o_(e,n));let r=this.Xn.get(e);void 0===r&&(r=pb(),this.Xn.set(e,r)),this.Xn.set(e,r.add(n.key))}}class b_{constructor(){this.Zn=new sy(__.ts),this.es=new sy(__.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const n=new __(t,e);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.rs(new __(t,e))}os(t,e){t.forEach((t=>this.removeReference(t,e)))}us(t){const e=new Uv(new Fv([])),n=new __(e,t),i=new __(e,t+1),r=[];return this.es.forEachInRange([n,i],(t=>{this.rs(t),r.push(t.key)})),r}cs(){this.Zn.forEach((t=>this.rs(t)))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new Uv(new Fv([])),n=new __(e,t),i=new __(e,t+1);let r=pb();return this.es.forEachInRange([n,i],(t=>{r=r.add(t.key)})),r}containsKey(t){const e=new __(t,0),n=this.Zn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class __{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return Uv.comparator(t.key,e.key)||Av(t.ls,e.ls)}static ns(t,e){return Av(t.ls,e.ls)||Uv.comparator(t.key,e.key)}}class S_{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new sy(__.ts)}checkEmpty(t){return $v.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,i){const r=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new r_(r,e,n,i);this.mutationQueue.push(s);for(const o of i)this.ds=this.ds.add(new __(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return $v.resolve(s)}lookupMutationBatch(t,e){return $v.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.ws(n),r=i<0?0:i;return $v.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return $v.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return $v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new __(e,0),i=new __(e,Number.POSITIVE_INFINITY),r=[];return this.ds.forEachInRange([n,i],(t=>{const e=this._s(t.ls);r.push(e)})),$v.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new sy(Av);return e.forEach((t=>{const e=new __(t,0),i=new __(t,Number.POSITIVE_INFINITY);this.ds.forEachInRange([e,i],(t=>{n=n.add(t.ls)}))})),$v.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let r=n;Uv.isDocumentKey(r)||(r=r.child(""));const s=new __(new Uv(r),0);let o=new sy(Av);return this.ds.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(o=o.add(t.ls)),!0)}),s),$v.resolve(this.gs(o))}gs(t){const e=[];return t.forEach((t=>{const n=this._s(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){wv(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let n=this.ds;return $v.forEach(e.mutations,(i=>{const r=new __(i.key,e.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.ds=n}))}In(t){}containsKey(t,e){const n=new __(e,0),i=this.ds.firstAfterOrEqual(n);return $v.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,$v.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class E_{constructor(t){this.ps=t,this.docs=new ny(Uv.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),r=i?i.size:0,s=this.ps(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return $v.resolve(n?n.document.mutableCopy():Vy.newInvalidDocument(e))}getEntries(t,e){let n=sb();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Vy.newInvalidDocument(t))})),$v.resolve(n)}getAllFromCollection(t,e,n){let i=sb();const r=new Uv(e.child("")),s=this.docs.getIteratorFrom(r);for(;s.hasNext();){const{key:t,value:{document:r}}=s.getNext();if(!e.isPrefixOf(t.path))break;t.path.length>e.length+1||Gv(qv(r),n)<=0||(i=i.insert(r.key,r.mutableCopy()))}return $v.resolve(i)}getAllFromCollectionGroup(t,e,n,i){yv()}Is(t,e){return $v.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new k_(this)}getSize(t){return $v.resolve(this.size)}}class k_ extends m_{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?e.push(this.zn.addEntry(t,i)):this.zn.removeEntry(n)})),$v.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class T_{constructor(t){this.persistence=t,this.Ts=new ib((t=>By(t)),Wy),this.lastRemoteSnapshotVersion=Lv.min(),this.highestTargetId=0,this.Es=0,this.As=new b_,this.targetCount=0,this.Rs=p_.An()}forEachTarget(t,e){return this.Ts.forEach(((t,n)=>e(n))),$v.resolve()}getLastRemoteSnapshotVersion(t){return $v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $v.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),$v.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Es&&(this.Es=e),$v.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new p_(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,$v.resolve()}updateTargetData(t,e){return this.vn(e),$v.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,$v.resolve()}removeTargets(t,e,n){let i=0;const r=[];return this.Ts.forEach(((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Ts.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)})),$v.waitFor(r).next((()=>i))}getTargetCount(t){return $v.resolve(this.targetCount)}getTargetData(t,e){const n=this.Ts.get(e)||null;return $v.resolve(n)}addMatchingKeys(t,e,n){return this.As.ss(e,n),$v.resolve()}removeMatchingKeys(t,e,n){this.As.os(e,n);const i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((e=>{r.push(i.markPotentiallyOrphaned(t,e))})),$v.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),$v.resolve()}getMatchingKeysForTargetId(t,e){const n=this.As.hs(e);return $v.resolve(n)}containsKey(t,e){return $v.resolve(this.As.containsKey(e))}}class C_{constructor(t,e){this.bs={},this.overlays={},this.Ps=new Jv(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new T_(this),this.indexManager=new h_,this.remoteDocumentCache=function(t){return new E_(t)}((t=>this.referenceDelegate.Ss(t))),this.wt=new l_(e),this.Ds=new y_(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new w_,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.bs[t.toKey()];return n||(n=new S_(e,this.referenceDelegate),this.bs[t.toKey()]=n),n}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,n){pv("MemoryPersistence","Starting transaction:",t);const i=new I_(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((t=>this.referenceDelegate.xs(i).next((()=>t)))).toPromise().then((t=>(i.raiseOnCommittedEvent(),t)))}Ns(t,e){return $v.or(Object.values(this.bs).map((n=>()=>n.containsKey(t,e))))}}class I_ extends Qv{constructor(t){super(),this.currentSequenceNumber=t}}class x_{constructor(t){this.persistence=t,this.ks=new b_,this.Os=null}static Ms(t){return new x_(t)}get Fs(){if(this.Os)return this.Os;throw yv()}addReference(t,e,n){return this.ks.addReference(n,e),this.Fs.delete(n.toString()),$v.resolve()}removeReference(t,e,n){return this.ks.removeReference(n,e),this.Fs.add(n.toString()),$v.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),$v.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach((t=>this.Fs.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Fs.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Cs(){this.Os=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $v.forEach(this.Fs,(n=>{const i=Uv.fromPath(n);return this.$s(t,i).next((t=>{t||e.removeEntry(i,Lv.min())}))})).next((()=>(this.Os=null,e.apply(t))))}updateLimboDocument(t,e){return this.$s(t,e).next((t=>{t?this.Fs.delete(e.toString()):this.Fs.add(e.toString())}))}Ss(t){return 0}$s(t,e){return $v.or([()=>$v.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class M_{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.Pi=n,this.vi=i}static Vi(t,e){let n=pb(),i=pb();for(const r of e.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new M_(t,e.fromCache,n,i)}}class N_{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,n,i){return this.Ci(t,e).next((r=>r||this.xi(t,e,i,n))).next((n=>n||this.Ni(t,e)))}Ci(t,e){return $v.resolve(null)}xi(t,e,n,i){return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||i.isEqual(Lv.min())?this.Ni(t,e):this.Di.getDocuments(t,n).next((r=>{const s=this.ki(e,r);return this.Oi(e,s,n,i)?this.Ni(t,e):(dv()<=Ra.DEBUG&&pv("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gw(e)),this.Mi(t,s,e,Wv(i,-1)))}))}ki(t,e){let n=new sy(ww(t));return e.forEach(((e,i)=>{vw(t,i)&&(n=n.add(i))})),n}Oi(t,e,n,i){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ni(t,e){return dv()<=Ra.DEBUG&&pv("QueryEngine","Using full collection scan to execute query:",gw(e)),this.Di.getDocumentsMatchingQuery(t,e,Hv.min())}Mi(t,e,n,i){return this.Di.getDocumentsMatchingQuery(t,n,i).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class O_{constructor(t,e,n,i){this.persistence=t,this.Fi=e,this.wt=i,this.$i=new ny(Av),this.Bi=new ib((t=>By(t)),Wy),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(n)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new v_(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.$i)))}}function P_(t,e,n,i){return new O_(t,e,n,i)}async function A_(t,e){const n=bv(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let i;return n.mutationQueue.getAllMutationBatches(t).next((r=>(i=r,n.qi(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const r=[],s=[];let o=pb();for(const t of i){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next((t=>({Ki:t,removedBatchIds:r,addedBatchIds:s})))}))}))}function D_(t){const e=bv(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Vs.getLastRemoteSnapshotVersion(t)))}function R_(t,e,n){let i=pb(),r=pb();return n.forEach((t=>i=i.add(t))),e.getEntries(t,i).next((t=>{let i=sb();return n.forEach(((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(Lv.min())?(e.removeEntry(n,s.readTime),i=i.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),i=i.insert(n,s)):pv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Gi:i,Qi:r}}))}function L_(t,e){const n=bv(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function j_(t,e){const n=bv(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let i;return n.Vs.getTargetData(t,e).next((r=>r?(i=r,$v.resolve(i)):n.Vs.allocateTargetId(t).next((r=>(i=new a_(e,r,0,t.currentSequenceNumber),n.Vs.addTargetData(t,i).next((()=>i)))))))})).then((t=>{const i=n.$i.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.$i=n.$i.insert(t.targetId,t),n.Bi.set(e,t.targetId)),t}))}async function F_(t,e,n){const i=bv(t),r=i.$i.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,(t=>i.persistence.referenceDelegate.removeTarget(t,r)))}catch(t){if(!Yv(t))throw t;pv("LocalStore","Failed to update sequence numbers for target ".concat(e,": ").concat(t))}i.$i=i.$i.remove(e),i.Bi.delete(r.target)}function V_(t,e,n){const i=bv(t);let r=Lv.min(),s=pb();return i.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,n){const i=bv(t),r=i.Bi.get(n);return void 0!==r?$v.resolve(i.$i.get(r)):i.Vs.getTargetData(e,n)}(i,t,fw(e)).next((e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>i.Fi.getDocumentsMatchingQuery(t,e,n?r:Lv.min(),n?s:pb()))).next((t=>(z_(i,yw(e),t),{documents:t,ji:s})))))}function z_(t,e,n){let i=Lv.min();n.forEach(((t,e)=>{e.readTime.compareTo(i)>0&&(i=e.readTime)})),t.Li.set(e,i)}class U_{constructor(){this.activeTargetIds=gb()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class B_{constructor(){this.Fr=new U_,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,n){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new U_,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class W_{Br(t){}shutdown(){}}class q_{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){pv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){pv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const H_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class G_{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class K_ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.so=e+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,n,i,r){const s=this.oo(t,e);pv("RestConnection","Sending: ",s,n);const o={};return this.uo(o,i,r),this.co(t,s,o,n).then((t=>(pv("RestConnection","Received: ",t),t)),(e=>{throw gv("RestConnection","".concat(t," failed with error: "),e,"url: ",s,"request:",n),e}))}ao(t,e,n,i,r){return this.ro(t,e,n,i,r)}uo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+hv,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}oo(t,e){const n=H_[t];return"".concat(this.so,"/v1/").concat(e,":").concat(n)}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,n,i){return new Promise(((r,s)=>{const o=new lv;o.listenOnce(iv.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case nv.NO_ERROR:const e=o.getResponseJson();pv("Connection","XHR received:",JSON.stringify(e)),r(e);break;case nv.TIMEOUT:pv("Connection",'RPC "'+t+'" timed out'),s(new Sv(_v.DEADLINE_EXCEEDED,"Request time out"));break;case nv.HTTP_ERROR:const n=o.getStatus();if(pv("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const t=o.getResponseJson().error;if(t&&t.status&&t.message){const e=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(_v).indexOf(e)>=0?e:_v.UNKNOWN}(t.status);s(new Sv(e,t.message))}else s(new Sv(_v.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Sv(_v.UNAVAILABLE,"Connection failed."));break;default:yv()}}finally{pv("Connection",'RPC "'+t+'" completed.')}}));const a=JSON.stringify(i);o.send(e,"POST",a,n,15)}))}ho(t,e,n){const i=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=tv(),s=ev(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ov({})),this.uo(o.initMessageHeaders,e,n),la()||ca()||aa().indexOf("Electron/")>=0||ha()||aa().indexOf("MSAppHost/")>=0||ua()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=i.join("");pv("Connection","Creating WebChannel: "+a,o);const l=r.createWebChannel(a,o);let u=!1,c=!1;const h=new G_({jr:t=>{c?pv("Connection","Not sending because WebChannel is closed:",t):(u||(pv("Connection","Opening WebChannel transport."),l.open(),u=!0),pv("Connection","WebChannel sending:",t),l.send(t))},Wr:()=>l.close()}),f=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return f(l,av.EventType.OPEN,(()=>{c||pv("Connection","WebChannel transport opened.")})),f(l,av.EventType.CLOSE,(()=>{c||(c=!0,pv("Connection","WebChannel transport closed"),h.eo())})),f(l,av.EventType.ERROR,(t=>{c||(c=!0,gv("Connection","WebChannel transport errored:",t),h.eo(new Sv(_v.UNAVAILABLE,"The operation could not be completed")))})),f(l,av.EventType.MESSAGE,(t=>{var e;if(!c){const n=t.data[0];wv(!!n);const i=n,r=i.error||(null===(e=i[0])||void 0===e?void 0:e.error);if(r){pv("Connection","WebChannel received error:",r);const t=r.status;let e=function(t){const e=Zw[t];if(void 0!==e)return nb(e)}(t),n=r.message;void 0===e&&(e=_v.INTERNAL,n="Unknown error status: "+t+" with message "+r.message),c=!0,h.eo(new Sv(e,n)),l.close()}else pv("Connection","WebChannel received:",n),h.no(n)}})),f(s,rv.STAT_EVENT,(t=>{t.stat===sv.PROXY?pv("Connection","Detected buffering proxy"):t.stat===sv.NOPROXY&&pv("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.Zr()}),0),h}}function Q_(){return"undefined"!=typeof document?document:null}function X_(t){return new xb(t,!0)}class $_{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.js=t,this.timerId=e,this.lo=n,this.fo=i,this._o=r,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),n=Math.max(0,Date.now()-this.yo),i=Math.max(0,e-n);i>0&&pv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(e," ms, last attempt: ").concat(n," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(()=>(this.yo=Date.now(),t()))),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Y_{constructor(t,e,n,i,r,s,o,a){this.js=t,this.Ao=n,this.Ro=i,this.bo=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new $_(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(()=>this.Oo())))}Mo(t){this.Fo(),this.stream.send(t)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(t,e){this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():e&&e.code===_v.RESOURCE_EXHAUSTED?(mv(e.toString()),mv("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):e&&e.code===_v.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Jr(e)}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((t=>{let[n,i]=t;this.Po===e&&this.Uo(n,i)}),(e=>{t((()=>{const t=new Sv(_v.UNKNOWN,"Fetching auth token failed: "+e.message);return this.qo(t)}))}))}Uo(t,e){const n=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr((()=>{n((()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,(()=>(this.Co()&&(this.state=3),Promise.resolve()))),this.listener.zr())))})),this.stream.Jr((t=>{n((()=>this.qo(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}xo(){this.state=5,this.So.Io((async()=>{this.state=0,this.start()}))}qo(t){return pv("PersistentStream","close with error: ".concat(t)),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget((()=>this.Po===t?e():(pv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class J_ extends Y_{constructor(t,e,n,i,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,s),this.wt=r}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:yv()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.dt?(wv(void 0===e||"string"==typeof e),ly.fromBase64String(e||"")):(wv(void 0===e||e instanceof Uint8Array),ly.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?_v.UNKNOWN:nb(t.code);return new Sv(e,t.message||"")}(o);n=new _b(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Lb(t,i.document.name),s=Pb(i.document.updateTime),o=new jy({mapValue:{fields:i.document.fields}}),a=Vy.newFoundDocument(r,s,o),l=i.targetIds||[],u=i.removedTargetIds||[];n=new wb(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Lb(t,i.document),s=i.readTime?Pb(i.readTime):Lv.min(),o=Vy.newNoDocument(r,s),a=i.removedTargetIds||[];n=new wb([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Lb(t,i.document),s=i.removedTargetIds||[];n=new wb([],s,r,null)}else{if(!("filter"in e))return yv();{e.filter;const t=e.filter;t.targetId;const i=t.count||0,r=new Jw(i),s=t.targetId;n=new bb(s,r)}}return n}(this.wt,t),n=function(t){if(!("targetChange"in t))return Lv.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Lv.min():e.readTime?Pb(e.readTime):Lv.min()}(t);return this.listener.Go(e,n)}Qo(t){const e={};e.database=Vb(this.wt),e.addTarget=function(t,e){let n;const i=e.target;return n=qy(i)?{documents:Wb(t,i)}:{query:qb(t,i)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Nb(t,e.resumeToken):e.snapshotVersion.compareTo(Lv.min())>0&&(n.readTime=Mb(t,e.snapshotVersion.toTimestamp())),n}(this.wt,t);const n=function(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yv()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,t);n&&(e.labels=n),this.Mo(e)}jo(t){const e={};e.database=Vb(this.wt),e.removeTarget=t,this.Mo(e)}}class Z_ extends Y_{constructor(t,e,n,i,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,s),this.wt=r,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(wv(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function(t,e){return t&&t.length>0?(wv(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?Pb(t.updateTime):Pb(e);return n.isEqual(Lv.min())&&(n=Pb(e)),new Lw(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=Pb(t.commitTime);return this.listener.Jo(n,e)}return wv(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=Vb(this.wt),this.Mo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>Bb(this.wt,t)))};this.Mo(e)}}class tS extends class{}{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=n,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new Sv(_v.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,n){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[r,s]=i;return this.bo.ro(t,e,n,r,s)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===_v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Sv(_v.UNKNOWN,t.toString())}))}ao(t,e,n){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[r,s]=i;return this.bo.ao(t,e,n,r,s)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===_v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Sv(_v.UNKNOWN,t.toString())}))}terminate(){this.Zo=!0}}class eS{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve()))))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(t.toString())),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e="Could not reach Cloud Firestore backend. ".concat(t,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(mv(e),this.su=!1):pv("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class nS{constructor(t,e,n,i,r){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=r,this.du.Br((t=>{n.enqueueAndForget((async()=>{hS(this)&&(pv("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=bv(t);e.lu.add(4),await rS(e),e._u.set("Unknown"),e.lu.delete(4),await iS(e)}(this))}))})),this._u=new eS(n,i)}}async function iS(t){if(hS(t))for(const e of t.fu)await e(!0)}async function rS(t){for(const e of t.fu)await e(!1)}function sS(t,e){const n=bv(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),cS(n)?uS(n):MS(n).Co()&&aS(n,e))}function oS(t,e){const n=bv(t),i=MS(n);n.hu.delete(e),i.Co()&&lS(n,e),0===n.hu.size&&(i.Co()?i.ko():hS(n)&&n._u.set("Unknown"))}function aS(t,e){t.wu.Nt(e.targetId),MS(t).Qo(e)}function lS(t,e){t.wu.Nt(e),MS(t).jo(e)}function uS(t){t.wu=new Eb({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),te:e=>t.hu.get(e)||null}),MS(t).start(),t._u.iu()}function cS(t){return hS(t)&&!MS(t).Do()&&t.hu.size>0}function hS(t){return 0===bv(t).lu.size}function fS(t){t.wu=void 0}async function dS(t){t.hu.forEach(((e,n)=>{aS(t,e)}))}async function pS(t,e){fS(t),cS(t)?(t._u.uu(e),uS(t)):t._u.set("Unknown")}async function mS(t,e,n){if(t._u.set("Online"),e instanceof _b&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const i of e.targetIds)t.hu.has(i)&&(await t.remoteSyncer.rejectListen(i,n),t.hu.delete(i),t.wu.removeTarget(i))}(t,e)}catch(n){pv("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await gS(t,n)}else if(e instanceof wb?t.wu.Ut(e):e instanceof bb?t.wu.zt(e):t.wu.Gt(e),!n.isEqual(Lv.min()))try{const e=await D_(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.wu.Yt(e);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=t.hu.get(i);r&&t.hu.set(i,r.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((e=>{const n=t.hu.get(e);if(!n)return;t.hu.set(e,n.withResumeToken(ly.EMPTY_BYTE_STRING,n.snapshotVersion)),lS(t,e);const i=new a_(n.target,e,1,n.sequenceNumber);aS(t,i)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){pv("RemoteStore","Failed to raise snapshot:",e),await gS(t,e)}}async function gS(t,e,n){if(!Yv(e))throw e;t.lu.add(1),await rS(t),t._u.set("Offline"),n||(n=()=>D_(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pv("RemoteStore","Retrying IndexedDB access"),await n(),t.lu.delete(1),await iS(t)}))}function vS(t,e){return e().catch((n=>gS(t,n,e)))}async function yS(t){const e=bv(t),n=NS(e);let i=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;wS(e);)try{const t=await L_(e.localStore,i);if(null===t){0===e.au.length&&n.ko();break}i=t.batchId,bS(e,t)}catch(t){await gS(e,t)}_S(e)&&SS(e)}function wS(t){return hS(t)&&t.au.length<10}function bS(t,e){t.au.push(e);const n=NS(t);n.Co()&&n.zo&&n.Ho(e.mutations)}function _S(t){return hS(t)&&!NS(t).Do()&&t.au.length>0}function SS(t){NS(t).start()}async function ES(t){NS(t).Xo()}async function kS(t){const e=NS(t);for(const n of t.au)e.Ho(n.mutations)}async function TS(t,e,n){const i=t.au.shift(),r=s_.from(i,e,n);await vS(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await yS(t)}async function CS(t,e){e&&NS(t).zo&&await async function(t,e){if(eb(n=e.code)&&n!==_v.ABORTED){const n=t.au.shift();NS(t).No(),await vS(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await yS(t)}var n}(t,e),_S(t)&&SS(t)}async function IS(t,e){const n=bv(t);n.asyncQueue.verifyOperationInProgress(),pv("RemoteStore","RemoteStore received new credentials");const i=hS(n);n.lu.add(3),await rS(n),i&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),await iS(n)}async function xS(t,e){const n=bv(t);e?(n.lu.delete(2),await iS(n)):e||(n.lu.add(2),await rS(n),n._u.set("Unknown"))}function MS(t){return t.mu||(t.mu=function(t,e,n){const i=bv(t);return i.tu(),new J_(e,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,n)}(t.datastore,t.asyncQueue,{zr:dS.bind(null,t),Jr:pS.bind(null,t),Go:mS.bind(null,t)}),t.fu.push((async e=>{e?(t.mu.No(),cS(t)?uS(t):t._u.set("Unknown")):(await t.mu.stop(),fS(t))}))),t.mu}function NS(t){return t.gu||(t.gu=function(t,e,n){const i=bv(t);return i.tu(),new Z_(e,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,n)}(t.datastore,t.asyncQueue,{zr:ES.bind(null,t),Jr:CS.bind(null,t),Yo:kS.bind(null,t),Jo:TS.bind(null,t)}),t.fu.push((async e=>{e?(t.gu.No(),await yS(t)):(await t.gu.stop(),t.au.length>0&&(pv("RemoteStore","Stopping write stream with ".concat(t.au.length," pending writes")),t.au=[]))}))),t.gu}class OS{constructor(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new Ev,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,i,r){const s=Date.now()+n,o=new OS(t,e,s,i,r);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Sv(_v.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function PS(t,e){if(mv("AsyncQueue","".concat(e,": ").concat(t)),Yv(t))return new Sv(_v.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}class AS{constructor(t){this.comparator=t?(e,n)=>t(e,n)||Uv.comparator(e.key,n.key):(t,e)=>Uv.comparator(t.key,e.key),this.keyedMap=ab(),this.sortedSet=new ny(this.comparator)}static emptySet(t){return new AS(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof AS))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new AS;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class DS{constructor(){this.yu=new ny(Uv.comparator)}track(t){const e=t.doc.key,n=this.yu.get(e);n?0!==t.type&&3===n.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==n.type?this.yu=this.yu.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.yu=this.yu.remove(e):1===t.type&&2===n.type?this.yu=this.yu.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):yv():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal(((e,n)=>{t.push(n)})),t}}class RS{constructor(t,e,n,i,r,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(t,e,n,i){const r=[];return e.forEach((t=>{r.push({type:0,doc:t})})),new RS(t,e,AS.emptySet(e),r,n,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&pw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}class LS{constructor(){this.Iu=void 0,this.listeners=[]}}class jS{constructor(){this.queries=new ib((t=>mw(t)),pw),this.onlineState="Unknown",this.Tu=new Set}}async function FS(t,e){const n=bv(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new LS),r)try{s.Iu=await n.onListen(i)}catch(t){const n=PS(t,"Initialization of query '".concat(gw(e.query),"' failed"));return void e.onError(n)}n.queries.set(i,s),s.listeners.push(e),e.Eu(n.onlineState),s.Iu&&e.Au(s.Iu)&&BS(n)}async function VS(t,e){const n=bv(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function zS(t,e){const n=bv(t);let i=!1;for(const r of e){const t=r.query,e=n.queries.get(t);if(e){for(const t of e.listeners)t.Au(r)&&(i=!0);e.Iu=r}}i&&BS(n)}function US(t,e,n){const i=bv(t),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(e)}function BS(t){t.Tu.forEach((t=>{t.next()}))}class WS{constructor(t,e,n){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=n||{}}Au(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new RS(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.Du||!n)&&(!t.docs.isEmpty()||"Offline"===e)}vu(t){if(t.docChanges.length>0)return!0;const e=this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}Su(t){t=RS.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class qS{constructor(t){this.key=t}}class HS{constructor(t){this.key=t}}class GS{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=pb(),this.mutatedKeys=pb(),this.Lu=ww(t),this.Uu=new AS(this.Lu)}get qu(){return this.Fu}Ku(t,e){const n=e?e.Gu:new DS,i=e?e.Uu:this.Uu;let r=e?e.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((t,e)=>{const u=i.get(t),c=vw(this.query,e)?e:null,h=!!u&&this.mutatedKeys.has(u.key),f=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let d=!1;u&&c?u.data.isEqual(c.data)?h!==f&&(n.track({type:3,doc:c}),d=!0):this.Qu(u,c)||(n.track({type:2,doc:c}),d=!0,(a&&this.Lu(c,a)>0||l&&this.Lu(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),d=!0):u&&!c&&(n.track({type:1,doc:u}),d=!0,(a||l)&&(o=!0)),d&&(c?(s=s.add(c),r=f?r.add(t):r.delete(t)):(s=s.delete(t),r=r.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),r=r.delete(t.key),n.track({type:1,doc:t})}return{Uu:s,Gu:n,Oi:o,mutatedKeys:r}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const i=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const r=t.Gu.pu();r.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yv()}};return n(t)-n(e)}(t.type,e.type)||this.Lu(t.doc,e.doc))),this.ju(n);const s=e?this.Wu():[],o=0===this.Bu.size&&this.current?1:0,a=o!==this.$u;return this.$u=o,0!==r.length||a?{snapshot:new RS(this.query,t.Uu,i,r,t.mutatedKeys,0===o,a,!1),zu:s}:{zu:s}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new DS,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach((t=>this.Fu=this.Fu.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.Fu=this.Fu.delete(t))),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=pb(),this.Uu.forEach((t=>{this.Hu(t.key)&&(this.Bu=this.Bu.add(t.key))}));const e=[];return t.forEach((t=>{this.Bu.has(t)||e.push(new HS(t))})),this.Bu.forEach((n=>{t.has(n)||e.push(new qS(n))})),e}Ju(t){this.Fu=t.ji,this.Bu=pb();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return RS.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class KS{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class QS{constructor(t){this.key=t,this.Xu=!1}}class XS{constructor(t,e,n,i,r,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Zu={},this.tc=new ib((t=>mw(t)),pw),this.ec=new Map,this.nc=new Set,this.sc=new ny(Uv.comparator),this.ic=new Map,this.rc=new b_,this.oc={},this.uc=new Map,this.cc=p_.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}async function $S(t,e){const n=pE(t);let i,r;const s=n.tc.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.Yu();else{const t=await j_(n.localStore,fw(e));n.isPrimaryClient&&sS(n.remoteStore,t);const s=n.sharedClientState.addLocalQueryTarget(t.targetId);i=t.targetId,r=await YS(n,e,i,"current"===s)}return r}async function YS(t,e,n,i){t.hc=(e,n,i)=>async function(t,e,n,i){let r=e.view.Ku(n);r.Oi&&(r=await V_(t.localStore,e.query,!1).then((t=>{let{documents:n}=t;return e.view.Ku(n,r)})));const s=i&&i.targetChanges.get(e.targetId),o=e.view.applyChanges(r,t.isPrimaryClient,s);return lE(t,e.targetId,o.zu),o.snapshot}(t,e,n,i);const r=await V_(t.localStore,e,!0),s=new GS(e,r.ji),o=s.Ku(r.documents),a=yb.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState),l=s.applyChanges(o,t.isPrimaryClient,a);lE(t,n,l.zu);const u=new KS(e,n,s);return t.tc.set(e,u),t.ec.has(n)?t.ec.get(n).push(e):t.ec.set(n,[e]),l.snapshot}async function JS(t,e){const n=bv(t),i=n.tc.get(e),r=n.ec.get(i.targetId);if(r.length>1)return n.ec.set(i.targetId,r.filter((t=>!pw(t,e)))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await F_(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),oS(n.remoteStore,i.targetId),oE(n,i.targetId)})).catch(Xv)):(oE(n,i.targetId),await F_(n.localStore,i.targetId,!0))}async function ZS(t,e){const n=bv(t);try{const t=await function(t,e){const n=bv(t),i=e.snapshotVersion;let r=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=n.Ui.newChangeBuffer({trackRemovals:!0});r=n.$i;const o=[];e.targetChanges.forEach(((s,a)=>{const l=r.get(a);if(!l)return;o.push(n.Vs.removeMatchingKeys(t,s.removedDocuments,a).next((()=>n.Vs.addMatchingKeys(t,s.addedDocuments,a))));let u=l.withSequenceNumber(t.currentSequenceNumber);e.targetMismatches.has(a)?u=u.withResumeToken(ly.EMPTY_BYTE_STRING,Lv.min()).withLastLimboFreeSnapshotVersion(Lv.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,i)),r=r.insert(a,u),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.Vs.updateTargetData(t,u))}));let a=sb(),l=pb();if(e.documentUpdates.forEach((i=>{e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))})),o.push(R_(t,s,e.documentUpdates).next((t=>{a=t.Gi,l=t.Qi}))),!i.isEqual(Lv.min())){const e=n.Vs.getLastRemoteSnapshotVersion(t).next((e=>n.Vs.setTargetsMetadata(t,t.currentSequenceNumber,i)));o.push(e)}return $v.waitFor(o).next((()=>s.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,l))).next((()=>a))})).then((t=>(n.$i=r,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const i=n.ic.get(e);i&&(wv(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.Xu=!0:t.modifiedDocuments.size>0?wv(i.Xu):t.removedDocuments.size>0&&(wv(i.Xu),i.Xu=!1))})),await hE(n,t,e)}catch(t){await Xv(t)}}function tE(t,e,n){const i=bv(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const t=[];i.tc.forEach(((n,i)=>{const r=i.view.Eu(e);r.snapshot&&t.push(r.snapshot)})),function(t,e){const n=bv(t);n.onlineState=e;let i=!1;n.queries.forEach(((t,n)=>{for(const r of n.listeners)r.Eu(e)&&(i=!0)})),i&&BS(n)}(i.eventManager,e),t.length&&i.Zu.Go(t),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function eE(t,e,n){const i=bv(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.ic.get(e),s=r&&r.key;if(s){let t=new ny(Uv.comparator);t=t.insert(s,Vy.newNoDocument(s,Lv.min()));const n=pb().add(s),r=new vb(Lv.min(),new Map,new sy(Av),t,n);await ZS(i,r),i.sc=i.sc.remove(s),i.ic.delete(e),cE(i)}else await F_(i.localStore,e,!1).then((()=>oE(i,e,n))).catch(Xv)}async function nE(t,e){const n=bv(t),i=e.batch.batchId;try{const t=await function(t,e){const n=bv(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const i=e.batch.keys(),r=n.Ui.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){const r=n.batch,s=r.keys();let o=$v.resolve();return s.forEach((t=>{o=o.next((()=>i.getEntry(e,t))).next((e=>{const s=n.docVersions.get(t);wv(null!==s),e.version.compareTo(s)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),i.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,r)))}(n,t,e,r).next((()=>r.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=pb();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,i)))}))}(n.localStore,e);sE(n,i,null),rE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await hE(n,t)}catch(t){await Xv(t)}}async function iE(t,e,n){const i=bv(t);try{const t=await function(t,e){const n=bv(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let i;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(wv(null!==e),i=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,i))).next((()=>n.localDocuments.getDocuments(t,i)))}))}(i.localStore,e);sE(i,e,n),rE(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await hE(i,t)}catch(n){await Xv(n)}}function rE(t,e){(t.uc.get(e)||[]).forEach((t=>{t.resolve()})),t.uc.delete(e)}function sE(t,e,n){const i=bv(t);let r=i.oc[i.currentUser.toKey()];if(r){const t=r.get(e);t&&(n?t.reject(n):t.resolve(),r=r.remove(e)),i.oc[i.currentUser.toKey()]=r}}function oE(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.ec.get(e))t.tc.delete(i),n&&t.Zu.lc(i,n);t.ec.delete(e),t.isPrimaryClient&&t.rc.us(e).forEach((e=>{t.rc.containsKey(e)||aE(t,e)}))}function aE(t,e){t.nc.delete(e.path.canonicalString());const n=t.sc.get(e);null!==n&&(oS(t.remoteStore,n),t.sc=t.sc.remove(e),t.ic.delete(n),cE(t))}function lE(t,e,n){for(const i of n)i instanceof qS?(t.rc.addReference(i.key,e),uE(t,i)):i instanceof HS?(pv("SyncEngine","Document no longer in limbo: "+i.key),t.rc.removeReference(i.key,e),t.rc.containsKey(i.key)||aE(t,i.key)):yv()}function uE(t,e){const n=e.key,i=n.path.canonicalString();t.sc.get(n)||t.nc.has(i)||(pv("SyncEngine","New document in limbo: "+n),t.nc.add(i),cE(t))}function cE(t){for(;t.nc.size>0&&t.sc.size<t.maxConcurrentLimboResolutions;){const e=t.nc.values().next().value;t.nc.delete(e);const n=new Uv(Fv.fromString(e)),i=t.cc.next();t.ic.set(i,new QS(n)),t.sc=t.sc.insert(n,i),sS(t.remoteStore,new a_(fw(aw(n.path)),i,2,Jv.ot))}}async function hE(t,e,n){const i=bv(t),r=[],s=[],o=[];i.tc.isEmpty()||(i.tc.forEach(((t,a)=>{o.push(i.hc(a,e,n).then((t=>{if(t){i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),r.push(t);const e=M_.Vi(a.targetId,t);s.push(e)}})))})),await Promise.all(o),i.Zu.Go(r),await async function(t,e){const n=bv(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>$v.forEach(e,(e=>$v.forEach(e.Pi,(i=>n.persistence.referenceDelegate.addReference(t,e.targetId,i))).next((()=>$v.forEach(e.vi,(i=>n.persistence.referenceDelegate.removeReference(t,e.targetId,i)))))))))}catch(t){if(!Yv(t))throw t;pv("LocalStore","Failed to update sequence numbers: "+t)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.$i.get(t),i=e.snapshotVersion,r=e.withLastLimboFreeSnapshotVersion(i);n.$i=n.$i.insert(t,r)}}}(i.localStore,s))}async function fE(t,e){const n=bv(t);if(!n.currentUser.isEqual(e)){pv("SyncEngine","User change. New user:",e.toKey());const t=await A_(n.localStore,e);n.currentUser=e,function(t,e){t.uc.forEach((t=>{t.forEach((t=>{t.reject(new Sv(_v.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.uc.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await hE(n,t.Ki)}}function dE(t,e){const n=bv(t),i=n.ic.get(e);if(i&&i.Xu)return pb().add(i.key);{let t=pb();const i=n.ec.get(e);if(!i)return t;for(const e of i){const i=n.tc.get(e);t=t.unionWith(i.view.qu)}return t}}function pE(t){const e=bv(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eE.bind(null,e),e.Zu.Go=zS.bind(null,e.eventManager),e.Zu.lc=US.bind(null,e.eventManager),e}function mE(t){const e=bv(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iE.bind(null,e),e}class gE{constructor(){this.synchronizeTabs=!1}async initialize(t){this.wt=X_(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),await this.persistence.start(),this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore)}mc(t,e){return null}gc(t,e){return null}wc(t){return P_(this.persistence,new N_,t.initialUser,this.wt)}_c(t){return new C_(x_.Ms,this.wt)}dc(t){return new B_}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class vE{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>tE(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=fE.bind(null,this.syncEngine),await xS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new jS}createDatastore(t){const e=X_(t.databaseInfo.databaseId),n=(i=t.databaseInfo,new K_(i));var i;return function(t,e,n,i){return new tS(t,e,n,i)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,i=t.asyncQueue,r=t=>tE(this.syncEngine,t,0),s=q_.V()?new q_:new W_,new nS(e,n,i,r,s);var e,n,i,r,s}createSyncEngine(t,e){return function(t,e,n,i,r,s,o){const a=new XS(t,e,n,i,r,s);return o&&(a.ac=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=bv(t);pv("RemoteStore","RemoteStore shutting down."),e.lu.add(5),await rS(e),e.du.shutdown(),e._u.set("Unknown")}(this.remoteStore)}}class yE{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}class wE{constructor(t,e,n,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=cv.UNAUTHENTICATED,this.clientId=Pv.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{pv("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(pv("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Sv(_v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ev;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=PS(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function bE(t,e){t.asyncQueue.verifyOperationInProgress(),pv("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async t=>{i.isEqual(t)||(await A_(e.localStore,t),i=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t.offlineComponents=e}async function _E(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SE(t);pv("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener((t=>IS(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>IS(e.remoteStore,n))),t.onlineComponents=e}async function SE(t){return t.offlineComponents||(pv("FirestoreClient","Using default OfflineComponentProvider"),await bE(t,new gE)),t.offlineComponents}async function EE(t){return t.onlineComponents||(pv("FirestoreClient","Using default OnlineComponentProvider"),await _E(t,new vE)),t.onlineComponents}function kE(t){return EE(t).then((t=>t.syncEngine))}async function TE(t){const e=await EE(t),n=e.eventManager;return n.onListen=$S.bind(null,e.syncEngine),n.onUnlisten=JS.bind(null,e.syncEngine),n}function CE(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new Ev;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,i,r){const s=new yE({next:s=>{e.enqueueAndForget((()=>VS(t,o)));const a=s.docs.has(n);!a&&s.fromCache?r.reject(new Sv(_v.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new Sv(_v.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:t=>r.reject(t)}),o=new WS(aw(n.path),s,{includeMetadataChanges:!0,Du:!0});return FS(t,o)}(await TE(t),t.asyncQueue,e,n,i))),i.promise}function IE(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new Ev;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,i,r){const s=new yE({next:n=>{e.enqueueAndForget((()=>VS(t,o))),n.fromCache&&"server"===i.source?r.reject(new Sv(_v.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:t=>r.reject(t)}),o=new WS(n,s,{includeMetadataChanges:!0,Du:!0});return FS(t,o)}(await TE(t),t.asyncQueue,e,n,i))),i.promise}const xE=new Map;function ME(t,e,n){if(!n)throw new Sv(_v.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function NE(t){if(!Uv.isDocumentKey(t))throw new Sv(_v.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function OE(t){if(Uv.isDocumentKey(t))throw new Sv(_v.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function PE(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return"function"==typeof t?"a function":yv()}function AE(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Sv(_v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=PE(t);throw new Sv(_v.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}class DE{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Sv(_v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Sv(_v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(t,e,n,i){if(!0===e&&!0===i)throw new Sv(_v.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class RE{constructor(t,e,n){this._authCredentials=e,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,t instanceof vy?this._databaseId=t:(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Sv(_v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vy(t.options.projectId)}(t))}get app(){if(!this._app)throw new Sv(_v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Sv(_v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Tv;switch(t.type){case"gapi":const e=t.client;return wv(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new xv(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Sv(_v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=xE.get(t);e&&(pv("ComponentProvider","Removing Datastore"),xE.delete(t),e.terminate())}(this),Promise.resolve()}}class LE{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new FE(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new LE(this.firestore,t,this._key)}}class jE{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new jE(this.firestore,t,this._query)}}class FE extends jE{constructor(t,e,n){super(t,e,aw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new LE(this.firestore,null,new Uv(t))}withConverter(t){return new FE(this.firestore,t,this._path)}}function VE(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=Ma(t),ME("collection","path",e),t instanceof RE){const n=Fv.fromString(e,...i);return OE(n),new FE(t,null,n)}{if(!(t instanceof LE||t instanceof FE))throw new Sv(_v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Fv.fromString(e,...i));return OE(n),new FE(t.firestore,null,n)}}function zE(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=Ma(t),1===arguments.length&&(e=Pv.I()),ME("doc","path",e),t instanceof RE){const n=Fv.fromString(e,...i);return NE(n),new LE(t,null,new Uv(n))}{if(!(t instanceof LE||t instanceof FE))throw new Sv(_v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Fv.fromString(e,...i));return NE(n),new LE(t.firestore,t instanceof FE?t.converter:null,new Uv(n))}}class UE{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new $_(this,"async_queue_retry"),this.Kc=()=>{const t=Q_();t&&pv("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const t=Q_();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=Q_();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise((()=>{}));const e=new Ev;return this.Qc((()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Mc.push(t),this.jc())))}async jc(){if(0!==this.Mc.length){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(_e){if(!Yv(_e))throw _e;pv("AsyncQueue","Operation failed with retryable error: "+_e)}this.Mc.length>0&&this.So.Io((()=>this.jc()))}}Qc(t){const e=this.Oc.then((()=>(this.Lc=!0,t().catch((t=>{this.Bc=t,this.Lc=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw mv("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Lc=!1,t))))));return this.Oc=e,e}enqueueAfterDelay(t,e,n){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const i=OS.createAndSchedule(this,t,e,n,(t=>this.Wc(t)));return this.$c.push(i),i}Gc(){this.Bc&&yv()}verifyOperationInProgress(){}async zc(){let t;do{t=this.Oc,await t}while(t!==this.Oc)}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then((()=>{this.$c.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()}))}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}class BE extends RE{constructor(t,e,n){super(t,e,n),this.type="firestore",this._queue=new UE,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||qE(this),this._firestoreClient.terminate()}}function WE(t){return t._firestoreClient||qE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function qE(t){var e;const n=t._freezeSettings(),i=function(t,e,n,i){return new gy(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new wE(t._authCredentials,t._appCheckCredentials,t._queue,i)}class HE{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(let i=0;i<e.length;++i)if(0===e[i].length)throw new Sv(_v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zv(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class GE{constructor(t){this._byteString=t}static fromBase64String(t){try{return new GE(ly.fromBase64String(t))}catch(t){throw new Sv(_v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new GE(ly.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class KE{constructor(t){this._methodName=t}}class QE{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Sv(_v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Sv(_v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Av(this._lat,t._lat)||Av(this._long,t._long)}}const XE=/^__.*__$/;class $E{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Gw(t,this.data,this.fieldMask,e,this.fieldTransforms):new Hw(t,this.data,e,this.fieldTransforms)}}function YE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yv()}}class JE{constructor(t,e,n,i,r,s){this.settings=t,this.databaseId=e,this.wt=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Xc(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new JE(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ta({path:n,na:!1});return i.sa(t),i}ia(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ta({path:n,na:!1});return i.Xc(),i}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return ck(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(YE(this.Zc)&&XE.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class ZE{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=n||X_(t)}aa(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new JE({Zc:t,methodName:e,ca:n,path:zv.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function tk(t){const e=t._freezeSettings(),n=X_(t._databaseId);return new ZE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ek(t,e,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=t.aa(s.merge||s.mergeFields?2:0,e,n,r);ok("Data must be an object, but it was:",o,i);const a=rk(i,o);let l,u;if(s.merge)l=new ay(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const i of s.mergeFields){const r=ak(e,i,n);if(!o.contains(r))throw new Sv(_v.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));hk(t,r)||t.push(r)}l=new ay(t),u=o.fieldTransforms.filter((t=>l.covers(t.field)))}else l=null,u=o.fieldTransforms;return new $E(new jy(a),l,u)}function nk(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ik(n,t.aa(i?4:3,e))}function ik(t,e){if(sk(t=Ma(t)))return ok("Unsupported field value:",e,t),rk(t,e);if(t instanceof KE)return function(t,e){if(!YE(e.Zc))throw e.oa("".concat(t._methodName,"() can only be used with update() and set()"));if(!e.path)throw e.oa("".concat(t._methodName,"() is not currently supported inside arrays"));const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,e){const n=[];let i=0;for(const r of t){let t=ik(r,e.ra(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Ma(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ew(e.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Rv.fromDate(t);return{timestampValue:Mb(e.wt,n)}}if(t instanceof Rv){const n=new Rv(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Mb(e.wt,n)}}if(t instanceof QE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof GE)return{bytesValue:Nb(e.wt,t._byteString)};if(t instanceof LE){const n=e.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw e.oa("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Ab(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.oa("Unsupported field value: ".concat(PE(t)))}(t,e)}function rk(t,e){const n={};return ey(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ty(t,((t,i)=>{const r=ik(i,e.ea(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function sk(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Rv||t instanceof QE||t instanceof GE||t instanceof LE||t instanceof KE)}function ok(t,e,n){if(!sk(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const i=PE(n);throw"an object"===i?e.oa(t+" a custom object"):e.oa(t+" "+i)}}function ak(t,e,n){if((e=Ma(e))instanceof HE)return e._internalPath;if("string"==typeof e)return uk(t,e);throw ck("Field path arguments must be of type string or ",t,!1,void 0,n)}const lk=new RegExp("[~\\*/\\[\\]]");function uk(t,e,n){if(e.search(lk)>=0)throw ck("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new HE(...e.split("."))._internalPath}catch(xe){throw ck("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function ck(t,e,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a="Function ".concat(e,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(i)),o&&(l+=" in document ".concat(r)),l+=")"),new Sv(_v.INVALID_ARGUMENT,a+t+l)}function hk(t,e){return t.some((t=>t.isEqual(e)))}class fk{constructor(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new LE(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new dk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(pk("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class dk extends fk{data(){return super.data()}}function pk(t,e){return"string"==typeof e?uk(t,e):e instanceof HE?e._internalPath:e._delegate._internalPath}class mk{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class gk extends fk{constructor(t,e,n,i,r,s){super(t,e,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const e=new vk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(pk("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class vk extends gk{data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(t)}}class yk{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new mk(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new vk(this._firestore,this._userDataWriter,n.key,n,new mk(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Sv(_v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>({type:"added",doc:new vk(t._firestore,t._userDataWriter,n.doc.key,n.doc,new mk(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:e++})))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const i=new vk(t._firestore,t._userDataWriter,e.doc.key,e.doc,new mk(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,s=-1;return 0!==e.type&&(r=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:wk(e.type),doc:i,oldIndex:r,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function wk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yv()}}function bk(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Sv(_v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _k{}class Sk extends _k{constructor(t,e,n){super(),this.fa=t,this.da=e,this._a=n,this.type="where"}_apply(t){const e=tk(t.firestore),n=function(t,e,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Sv(_v.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){kk(o,s);const e=[];for(const n of o)e.push(Ek(i,t,n));a={arrayValue:{values:e}}}else a=Ek(i,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||kk(o,s),a=nk(n,"where",o,"in"===s||"not-in"===s);const l=Hy.create(r,s,a);return function(t,e){if(e.ht()){const n=uw(t);if(null!==n&&!n.isEqual(e.field))throw new Sv(_v.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(e.field.toString(),"'"));const i=lw(t);null!==i&&Tk(t,e.field,i)}const n=function(t,e){for(const n of t.filters)if(e.indexOf(n.op)>=0)return n.op;return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new Sv(_v.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new Sv(_v.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}(t,l),l}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new jE(t.firestore,t.converter,function(t,e){const n=t.filters.concat([e]);return new sw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))}}function Ek(t,e,n){if("string"==typeof(n=Ma(n))){if(""===n)throw new Sv(_v.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cw(e)&&-1!==n.indexOf("/"))throw new Sv(_v.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=e.path.child(Fv.fromString(n));if(!Uv.isDocumentKey(i))throw new Sv(_v.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return My(t,new Uv(i))}if(n instanceof LE)return My(t,n._key);throw new Sv(_v.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(PE(n),"."))}function kk(t,e){if(!Array.isArray(t)||0===t.length)throw new Sv(_v.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."));if(t.length>10)throw new Sv(_v.INVALID_ARGUMENT,"Invalid Query. '".concat(e.toString(),"' filters support a maximum of 10 elements in the value array."))}function Tk(t,e,n){if(!n.isEqual(e))throw new Sv(_v.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(e.toString(),"' and so you must also use '").concat(e.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class Ck{convertValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Sy(t)){case 0:return null;case 1:return t.booleanValue;case 2:return hy(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(fy(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw yv()}}convertObject(t,e){const n={};return ty(t.fields,((t,i)=>{n[t]=this.convertValue(i,e)})),n}convertGeoPoint(t){return new QE(hy(t.latitude),hy(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=py(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(my(t));default:return null}}convertTimestamp(t){const e=cy(t);return new Rv(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Fv.fromString(t);wv(t_(n));const i=new vy(n.get(1),n.get(3)),r=new Uv(n.popFirst(5));return i.isEqual(e)||mv("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),r}}function Ik(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class xk extends Ck{constructor(t){super(),this.firestore=t}convertBytes(t){return new GE(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new LE(this.firestore,null,e)}}function Mk(t){t=AE(t,jE);const e=AE(t.firestore,BE),n=WE(e),i=new xk(e);return bk(t._query),IE(n,t._query).then((n=>new yk(e,i,t,n)))}function Nk(t,e){return function(t,e){const n=new Ev;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const i=mE(t);try{const t=await function(t,e){const n=bv(t),i=Rv.now(),r=e.reduce(((t,e)=>t.add(e.key)),pb());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=sb(),l=pb();return n.Ui.getEntries(t,r).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(l=l.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((r=>{s=r;const o=[];for(const t of e){const e=Ww(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new Gw(t.key,e,Fy(e.value.mapValue),jw.exists(!0)))}return n.mutationQueue.addMutationBatch(t,i,o,e)})).next((e=>{o=e;const i=e.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,i)}))})).then((()=>({batchId:o.batchId,changes:lb(s)})))}(i.localStore,e);i.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let i=t.oc[t.currentUser.toKey()];i||(i=new ny(Av)),i=i.insert(e,n),t.oc[t.currentUser.toKey()]=i}(i,t.batchId,n),await hE(i,t.changes),await yS(i.remoteStore)}catch(t){const e=PS(t,"Failed to persist write");n.reject(e)}}(await kE(t),e,n))),n.promise}(WE(t),e)}function Ok(t,e,n){const i=n.docs.get(e._key),r=new xk(t);return new gk(t,r,e._key,i,new mk(n.hasPendingWrites,n.fromCache),e.converter)}!function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){hv=t}(wl),ml(new Na("firestore",((t,n)=>{let{options:i}=n;const r=t.getProvider("app").getImmediate(),s=new BE(r,new Cv(t.getProvider("auth-internal")),new Nv(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s}),"PUBLIC")),_l(uv,"3.4.10",t),_l(uv,"3.4.10","esm2017")}();const Pk=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof e){e={name:e}}const n=Object.assign({name:cl,automaticDataCollectionEnabled:!1},e),i=n.name;if("string"!==typeof i||!i)throw vl.create("bad-app-name",{appName:String(i)});const r=fl.get(i);if(r){if(va(t,r.options)&&va(n,r.config))return r;throw vl.create("duplicate-app",{appName:i})}const s=new Aa(i);for(const a of dl.values())s.addComponent(a);const o=new yl(t,n,s);return fl.set(i,o),o}({apiKey:"".concat("AIzaSyDp8Yn2z7WsPJVaICzzwKLctyw1rb1oi3k"),authDomain:"".concat("crytotracker-2a85b.firebaseapp.com"),projectId:"".concat("crytotracker-2a85b"),storageBucket:"".concat("crytotracker-2a85b.appspot.com"),messagingSenderId:"".concat("861000309447"),appId:"".concat("1:861000309447:web:c97953566139440fcbfce2"),measurementId:"".concat("G-M228LWPC2M")}),Ak=function(){return gl(arguments.length>0&&void 0!==arguments[0]?arguments[0]:bl(),"firestore").getImmediate()}(Pk),Dk=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bl();const e=gl(t,"auth");return e.isInitialized()?e.getImmediate():function(t,e){const n=gl(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(va(n.getOptions(),null!==e&&void 0!==e?e:{}))return t;zl(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Sh,persistence:[Nc,dc,mc]})}(Pk);!function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bl();t=Ma(t);const e=gl(t,_f);e.isInitialized()?e.getImmediate():function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=gl(t,_f);if(n.isInitialized()){const t=n.getImmediate();if(va(e,n.getOptions()))return t;throw Nf.create("already-initialized")}const i=n.initialize({options:e})}(t)}(Pk);const Rk=async t=>{const e=zE(Ak,"user",t),n=await function(t){t=AE(t,LE);const e=AE(t.firestore,BE);return CE(WE(e),t._key).then((n=>Ok(e,t,n)))}(e);n.exists()||await function(t,e,n){t=AE(t,LE);const i=AE(t.firestore,BE),r=Ik(t.converter,e,n);return Nk(i,[ek(tk(i),"setDoc",t._key,r,null!==t.converter,n).toMutation(t._key,jw.none())])}(zE(Ak,"user",t),{})},Lk=async t=>{var e=[];const n=VE(Ak,"user",t,"trade");return(await Mk(n)).forEach((t=>{var n={tradeId:t.id,posType:t.data().posType,entryPrice:t.data().entryPrice,takeProfit:t.data().takeProfit,stopLoss:t.data().stopLoss,date:t.data().date,cryptoCoin:t.data().cryptoCoin};e.push(n)})),e=e.sort(((t,e)=>e.date-t.date)),e},jk=async(t,e)=>{await function(t,e){const n=AE(t.firestore,BE),i=zE(t),r=Ik(t.converter,e);return Nk(n,[ek(tk(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,jw.exists(!1))]).then((()=>i))}(VE(Ak,"user",e,"trade"),{posType:t.posType,entryPrice:t.entryPrice,takeProfit:t.takeProfit,stopLoss:t.stopLoss,date:t.date,cryptoCoin:t.cryptoCoin})},Fk=async(t,e)=>{const n=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const r of n)t=r._apply(t);return t}(VE(Ak,"user",e,"trade"),function(t,e,n){const i=e,r=pk("where",t);return new Sk(r,i,n)}("date","==",t));var i;(await Mk(n)).forEach((t=>{console.log(t.id," => ",t.data()),i=t.id})),await function(t){return Nk(AE(t.firestore,BE),[new $w(t._key,jw.none())])}(zE(Ak,"user",e,"trade",i))},Vk=Yn({name:"extraInfo",initialState:{value:null},reducers:{setExtraInfo:(t,e)=>{t.value=e.payload}}}),{setExtraInfo:zk}=Vk.actions,Uk=Vk.reducer;var Bk=n(184);const Wk=(0,e.memo)((()=>{const t=ve(),n=le((t=>t.userId.value)),[i,r]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[u,c]=(0,e.useState)("long"),[h,f]=(0,e.useState)("marketOrder"),[d,p]=(0,e.useState)(!1),[m,g]=(0,e.useState)(!1),[v,y]=(0,e.useState)(["",""]),w=le((t=>t.extraInfo.value)),[b,_]=(le((t=>t.userData.value)),(0,e.useState)(!1)),[S,E]=(0,e.useState)(!1);var k=le((t=>t.paramClick.value)),T=le((t=>t.cryptoCoin.value));const C=t=>{f(t.target.id)},I=t=>{c(t.target.value)};(0,e.useEffect)((()=>{l(""),r(""),o(""),y(["",""])}),[T]),(0,e.useEffect)((()=>{var e=""===i||""===s;""!==a&&""!==i&&""!==s||"limitOrder"!==h?e&&"marketOrder"===h?t(ri(null)):"marketOrder"===h?t(ri({orderType:h,stopLoss:i,takeProfit:s,price:null,positionType:u,checkBox:!1})):"limitOrder"===h&&t(ri({orderType:h,takeProfit:s,stopLoss:i,price:a,positionType:u,checkBox:m})):t(ri(null))}),[i,s,a,u,h,k,m]),(0,e.useEffect)((()=>{if(m){if(null===k||void 0===k||!k.price||null===k||void 0===k||!k.time)return l(""),void y(["",""]);l(k.price);var t=Yt(k.time);y([k.time,t])}}),[k]);const x=t=>({border:d&&""===t?"1px solid red":"1px solid black",backgroundColor:m?"#9f9f9f":"#ffffff"}),M=(0,e.useCallback)((()=>(0,Bk.jsxs)(Bk.Fragment,{children:[b?(0,Bk.jsxs)("div",{className:"calc_output_button_confirm",children:[(0,Bk.jsx)("button",{className:"calc_output_button_confirm_cancel",onClick:()=>_(!1),children:"Cancel"}),(0,Bk.jsx)("button",{className:"calc_output_button_confirm_confirm",onClick:()=>(()=>{const e=(new Date).getTime();if(w&&b&&"marketOrder"===h){const i={posType:u,entryPrice:w.price,takeProfit:w.takeProfit,stopLoss:w.stopLoss,date:e,cryptoCoin:T.cryptoCoin,cryptoImage:$t(T.cryptoCoin)};t(ti([i])),jk(i,n),t(zk(null))}else if(w&&b&&"limitOrder"===h){const i={posType:u,entryPrice:w.price,takeProfit:w.takeProfit,stopLoss:w.stopLoss,date:k?k.time:e,cryptoCoin:T.cryptoCoin,cryptoImage:$t(T.cryptoCoin)};t(ti([i])),jk(i,n),t(zk(null))}_(!1),r(""),o(""),l(""),y(["",""]),p(!1)})(),children:"Confirm!"})]}):"",(0,Bk.jsxs)("button",{className:null!==n?"calc_output_button":"calc_output_button_false",onClick:()=>null!==n?(()=>{var t=""===a||""===i||""===s,e=""===a||""===i||""===s||""===v[0];return""!==i&&""!==s||"marketOrder"!==h?t&&"limitOrder"===h&&!m||e&&"limitOrder"==h&&m?(console.log("Please Fill Limit Info"),void p(!0)):void _(!0):(console.log("Plase Fill Market Info"),void p(!0))})():E(!0),children:[(0,Bk.jsx)("p",{children:"Add Trade To Portfolio"}),n?"":(0,Bk.jsx)("i",{className:"fa-solid fa-lock fa-2x"})]}),S?(0,Bk.jsxs)("div",{className:"calc_output_button_notSignedIn",children:[(0,Bk.jsx)("i",{onClick:()=>E(!1),className:"fa-solid fa-location-crosshairs fa-2x"}),(0,Bk.jsx)("p",{children:"You need to sign in !"}),(0,Bk.jsx)("p",{children:"\u2022 Sign in to add trades"}),(0,Bk.jsx)("p",{children:"\u2022 View trades on chart "}),(0,Bk.jsx)("p",{children:"\u2022 View and track portfolio (coming soon)"})]}):""]})),[i,s,a,u,h,m,n,w,b]);return(0,Bk.jsx)(Bk.Fragment,{children:(0,Bk.jsxs)("div",{className:"calc_outer",children:[(0,Bk.jsxs)("div",{className:"calc_infoBox",children:[(0,Bk.jsx)("img",{className:"cryptoImage",src:T.cryptoImage,alt:"alternatetext"}),(0,Bk.jsx)("p",{className:"cryptoName",children:T.cryptoCoin}),(0,Bk.jsx)("i",{className:"fa-solid fa-angle-up"}),(0,Bk.jsx)("div",{className:"calc_infoBox_cryptoDropDown-content",children:Xt.map(((e,n)=>(0,Bk.jsxs)("div",{className:"calc_infoBox_cryptoDropDown-content-div",onClick:()=>t(ta({cryptoCoin:e.cryptoName,cryptoImage:e.cryptoImage})),children:[(0,Bk.jsx)("img",{className:"cryptoImage",src:e.cryptoImage,alt:"alternatetext"}),(0,Bk.jsx)("p",{children:e.cryptoName})]},n)))})]}),(0,Bk.jsx)("div",{className:"calc_Pos_Button",children:(0,Bk.jsxs)("div",{className:"calc_btn-group",children:[(0,Bk.jsx)("button",{id:"marketOrder",onClick:t=>C(t),className:"orderType",children:"Market Order"}),(0,Bk.jsx)("button",{id:"limitOrder",onClick:t=>C(t),className:"orderType",children:"Limit Order"})]})}),(0,Bk.jsx)("div",{className:"calc_inputField_outer",children:(0,Bk.jsxs)("div",{className:"calc_inputField",children:[m?(0,Bk.jsx)("div",{className:"calc_inputBox",children:"click on the chart where you would like to placed a trade !!"}):"",m?(0,Bk.jsxs)("div",{className:"calc_inputBox",style:{display:"limitOrder"===h?"block":"none"},children:[(0,Bk.jsx)("label",{className:"calc_inputLabel",style:{color:""===v[0]?"transparent":"black"},children:"Time"}),(0,Bk.jsx)("input",{style:x(v[0]),readOnly:!0,className:"calc_input",placeholder:"Time",value:v[1]})]}):"",(0,Bk.jsxs)("div",{className:"calc_inputBox",style:{display:"limitOrder"===h?"block":"none"},children:[(0,Bk.jsx)("label",{className:"calc_inputLabel",style:{color:""===a?"transparent":"black"},children:"Limit price"}),(0,Bk.jsx)("input",{readOnly:m,type:"number",onChange:t=>{l(t.target.value)},className:"calc_input",id:"LimitPrice",value:a,placeholder:"Limit Price",style:x(a)})]}),(0,Bk.jsxs)("div",{className:"calc_inputBox",children:[(0,Bk.jsx)("label",{className:"calc_inputLabel",style:{color:""===i?"transparent":"black"},children:"stop loss"}),(0,Bk.jsx)("input",{type:"number",onChange:t=>{r(t.target.value)},className:"calc_input",id:"stopLossPercent",value:i,placeholder:"Stop Loss In Percent",style:d&&""===i?{border:"1px solid red"}:{color:"1px solid black"}})]}),(0,Bk.jsxs)("div",{className:"calc_inputBox",children:[(0,Bk.jsx)("label",{className:"calc_inputLabel",style:{color:""===s?"transparent":"black"},children:"take profit"}),(0,Bk.jsx)("input",{type:"number",className:"calc_input",onChange:t=>{o(t.target.value)},id:"takeProfPercent",value:s,placeholder:"Take Profit In Percent",style:d&&""===s?{border:"1px solid red"}:{color:"1px solid black"}})]}),"limitOrder"===h?(0,Bk.jsxs)("div",{className:"calc_inputBox",children:[(0,Bk.jsx)("label",{children:"Click on the Chart  "}),(0,Bk.jsx)("input",{type:"checkbox",checked:m,onChange:()=>(g(!m),l(""),r(""),o(""),void y(["",""]))})]}):"",(0,Bk.jsxs)("div",{className:"calc_inputBox",children:[(0,Bk.jsx)("div",{className:"calc_radio",children:(0,Bk.jsxs)("label",{children:[(0,Bk.jsx)("a",{children:"Long "}),(0,Bk.jsx)("input",{type:"radio",value:"long",className:"calc_radio_check",checked:"long"===u,onChange:()=>I()})]})}),(0,Bk.jsx)("div",{className:"calc_radio",children:(0,Bk.jsxs)("label",{children:[(0,Bk.jsx)("a",{children:"Short "}),(0,Bk.jsx)("input",{type:"radio",value:"short",className:"calc_radio_check",checked:"short"===u,onChange:()=>I()})]})})]})]})}),(0,Bk.jsx)("div",{className:"calc_output",children:(0,Bk.jsx)(M,{})})]})})}));var qk={allowDownsampling:!0};var Hk,Gk,Kk=function(){function t(t,e){var n=this;this._resolutionMediaQueryList=null,this._resolutionListener=function(t){return n._onResolutionChanged()},this._canvasConfiguredListeners=[],this.canvas=t,this._canvasSize={width:this.canvas.clientWidth,height:this.canvas.clientHeight},this._options=e,this._configureCanvas(),this._installResolutionListener()}return t.prototype.destroy=function(){this._canvasConfiguredListeners.length=0,this._uninstallResolutionListener(),this.canvas=null},Object.defineProperty(t.prototype,"canvasSize",{get:function(){return{width:this._canvasSize.width,height:this._canvasSize.height}},enumerable:!0,configurable:!0}),t.prototype.resizeCanvas=function(t){this._canvasSize={width:t.width,height:t.height},this._configureCanvas()},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){var t=this.canvas.ownerDocument.defaultView;if(null==t)throw new Error("No window is associated with the canvas");return t.devicePixelRatio>1||this._options.allowDownsampling?t.devicePixelRatio:1},enumerable:!0,configurable:!0}),t.prototype.subscribeCanvasConfigured=function(t){this._canvasConfiguredListeners.push(t)},t.prototype.unsubscribeCanvasConfigured=function(t){this._canvasConfiguredListeners=this._canvasConfiguredListeners.filter((function(e){return e!=t}))},t.prototype._configureCanvas=function(){var t=this.pixelRatio;this.canvas.style.width=this._canvasSize.width+"px",this.canvas.style.height=this._canvasSize.height+"px",this.canvas.width=this._canvasSize.width*t,this.canvas.height=this._canvasSize.height*t,this._emitCanvasConfigured()},t.prototype._emitCanvasConfigured=function(){var t=this;this._canvasConfiguredListeners.forEach((function(e){return e.call(t)}))},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this.canvas.ownerDocument.defaultView;if(null==t)throw new Error("No window is associated with the canvas");var e=t.devicePixelRatio;this._resolutionMediaQueryList=t.matchMedia("all and (resolution: "+e+"dppx)"),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){this._configureCanvas(),this._reinstallResolutionListener()},t}();function Qk(t,e){var n,i=((n={})[0]=[],n[1]=[t.lineWidth,t.lineWidth],n[2]=[2*t.lineWidth,2*t.lineWidth],n[3]=[6*t.lineWidth,6*t.lineWidth],n[4]=[t.lineWidth,4*t.lineWidth],n)[e];t.setLineDash(i)}function Xk(t,e,n,i){t.beginPath();var r=t.lineWidth%2?.5:0;t.moveTo(n,e+r),t.lineTo(i,e+r),t.stroke()}function $k(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function Yk(t){if(void 0===t)throw new Error("Value is undefined");return t}function Jk(t){if(null===t)throw new Error("Value is null");return t}function Zk(t){return Jk(Yk(t))}!function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps"}(Hk||(Hk={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(Gk||(Gk={}));var tT={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function eT(t){return t<0?0:t>255?255:Math.round(t)||0}function nT(t){return t<=0||t>0?t<0?0:t>1?1:Math.round(1e4*t)/1e4:0}var iT=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,rT=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,sT=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,oT=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function aT(t){var e;if((t=t.toLowerCase())in tT&&(t=tT[t]),e=oT.exec(t)||sT.exec(t))return[eT(parseInt(e[1],10)),eT(parseInt(e[2],10)),eT(parseInt(e[3],10)),nT(e.length<5?1:parseFloat(e[4]))];if(e=rT.exec(t))return[eT(parseInt(e[1],16)),eT(parseInt(e[2],16)),eT(parseInt(e[3],16)),1];if(e=iT.exec(t))return[eT(17*parseInt(e[1],16)),eT(17*parseInt(e[2],16)),eT(17*parseInt(e[3],16)),1];throw new Error("Cannot parse color: ".concat(t))}function lT(t){var e,n=aT(t);return{t:"rgb(".concat(n[0],", ").concat(n[1],", ").concat(n[2],")"),i:(e=n,.199*e[0]+.687*e[1]+.114*e[2]>160?"black":"white")}}var uT=function(t,e){return uT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},uT(t,e)};function cT(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}uT(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var hT=function(){return hT=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},hT.apply(this,arguments)};function fT(t,e,n){if(n||2===arguments.length)for(var i,r=0,s=e.length;r<s;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var dT=function(){function t(){this.h=[]}return t.prototype.u=function(t,e,n){var i={o:t,l:e,v:!0===n};this.h.push(i)},t.prototype._=function(t){var e=this.h.findIndex((function(e){return t===e.o}));e>-1&&this.h.splice(e,1)},t.prototype.M=function(t){this.h=this.h.filter((function(e){return e.l!==t}))},t.prototype.m=function(t,e){var n=fT([],this.h,!0);this.h=this.h.filter((function(t){return!t.v})),n.forEach((function(n){return n.o(t,e)}))},t.prototype.p=function(){return this.h.length>0},t.prototype.g=function(){this.h=[]},t}();function pT(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,r=e;i<r.length;i++){var s=r[i];for(var o in s)void 0!==s[o]&&("object"!=typeof s[o]||void 0===t[o]?t[o]=s[o]:pT(t[o],s[o]))}return t}function mT(t){return"number"==typeof t&&isFinite(t)}function gT(t){return"number"==typeof t&&t%1==0}function vT(t){return"string"==typeof t}function yT(t){return"boolean"==typeof t}function wT(t){var e,n,i,r=t;if(!r||"object"!=typeof r)return r;for(n in e=Array.isArray(r)?[]:{},r)r.hasOwnProperty(n)&&(i=r[n],e[n]=i&&"object"==typeof i?wT(i):i);return e}function bT(t){return null!==t}function _T(t){return null===t?void 0:t}var ST="'Trebuchet MS', Roboto, Ubuntu, sans-serif";function ET(t,e,n){return n=void 0!==n?"".concat(n," "):"",void 0===e&&(e=ST),"".concat(n).concat(t,"px ").concat(e)}var kT=function(){function t(t){this.k={N:1,C:4,S:NaN,T:"",D:"",A:"",B:0,L:0,F:0,O:0,V:0},this.P=t}return t.prototype.W=function(){var t=this.k,e=this.R(),n=this.I();return t.S===e&&t.D===n||(t.S=e,t.D=n,t.T=ET(e,n),t.O=Math.floor(e/3.5),t.B=t.O,t.L=Math.max(Math.ceil(e/2-t.C/2),0),t.F=Math.ceil(e/2+t.C/2),t.V=Math.round(e/10)),t.A=this.j(),this.k},t.prototype.j=function(){return this.P.W().layout.textColor},t.prototype.R=function(){return this.P.W().layout.fontSize},t.prototype.I=function(){return this.P.W().layout.fontFamily},t}(),TT=function(){function t(){this.q=[]}return t.prototype.U=function(t){this.q=t},t.prototype.H=function(t,e,n,i){this.q.forEach((function(r){t.save(),r.H(t,e,n,i),t.restore()}))},t}(),CT=function(){function t(){}return t.prototype.H=function(t,e,n,i){t.save(),t.scale(e,e),this.Y(t,n,i),t.restore()},t.prototype.$=function(t,e,n,i){t.save(),t.scale(e,e),this.K(t,n,i),t.restore()},t.prototype.K=function(t,e,n){},t}(),IT=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.X=null,e}return cT(e,t),e.prototype.Z=function(t){this.X=t},e.prototype.Y=function(t){if(null!==this.X&&null!==this.X.J){var e=this.X.J,n=this.X,i=function(i){t.beginPath();for(var r=e.to-1;r>=e.from;--r){var s=n.G[r];t.moveTo(s.tt,s.it),t.arc(s.tt,s.it,i,0,2*Math.PI)}t.fill()};t.fillStyle=n.nt,i(n.st+2),t.fillStyle=n.ht,i(n.st)}},e}(CT);function xT(){return{G:[{tt:0,it:0,rt:0,et:0}],ht:"",nt:"",st:0,J:null}}var MT={from:0,to:1},NT=function(){function t(t,e){this.ut=new TT,this.ot=[],this.lt=[],this.ft=!0,this.P=t,this.ct=e,this.ut.U(this.ot)}return t.prototype.vt=function(t){var e=this.P._t();e.length!==this.ot.length&&(this.lt=e.map(xT),this.ot=this.lt.map((function(t){var e=new IT;return e.Z(t),e})),this.ut.U(this.ot)),this.ft=!0},t.prototype.dt=function(t,e,n){return this.ft&&(this.wt(t),this.ft=!1),this.ut},t.prototype.wt=function(t){var e=this,n=this.P._t(),i=this.ct.Mt(),r=this.P.bt();n.forEach((function(n,s){var o,a=e.lt[s],l=n.gt(i);if(null!==l&&n.yt()){var u=Jk(n.kt());a.ht=l.Nt,a.st=l.st,a.G[0].et=l.et,a.G[0].it=n.Ct().xt(l.et,u.St),a.nt=null!==(o=l.Tt)&&void 0!==o?o:e.P.Dt(a.G[0].it/t),a.G[0].rt=i,a.G[0].tt=r.At(i),a.J=MT}else a.J=null}))},t}(),OT=function(){function t(t){this.Bt=t}return t.prototype.H=function(t,e,n,i){if(null!==this.Bt){var r=this.Bt.Lt.yt,s=this.Bt.Et.yt;if(r||s){t.save();var o=Math.round(this.Bt.tt*e),a=Math.round(this.Bt.it*e),l=Math.ceil(this.Bt.Ft*e),u=Math.ceil(this.Bt.Ot*e);t.lineCap="butt",r&&o>=0&&(t.lineWidth=Math.floor(this.Bt.Lt.Vt*e),t.strokeStyle=this.Bt.Lt.A,t.fillStyle=this.Bt.Lt.A,Qk(t,this.Bt.Lt.Pt),function(t,e,n,i){t.beginPath();var r=t.lineWidth%2?.5:0;t.moveTo(e+r,0),t.lineTo(e+r,i),t.stroke()}(t,o,0,u)),s&&a>=0&&(t.lineWidth=Math.floor(this.Bt.Et.Vt*e),t.strokeStyle=this.Bt.Et.A,t.fillStyle=this.Bt.Et.A,Qk(t,this.Bt.Et.Pt),Xk(t,a,0,l)),t.restore()}}},t}(),PT=function(){function t(t){this.ft=!0,this.Wt={Lt:{Vt:1,Pt:0,A:"",yt:!1},Et:{Vt:1,Pt:0,A:"",yt:!1},Ft:0,Ot:0,tt:0,it:0},this.zt=new OT(this.Wt),this.Rt=t}return t.prototype.vt=function(){this.ft=!0},t.prototype.dt=function(t,e){return this.ft&&(this.wt(),this.ft=!1),this.zt},t.prototype.wt=function(){var t=this.Rt.yt(),e=Jk(this.Rt.It()),n=e.jt().W().crosshair,i=this.Wt;i.Et.yt=t&&this.Rt.qt(e),i.Lt.yt=t&&this.Rt.Ut(),i.Et.Vt=n.horzLine.width,i.Et.Pt=n.horzLine.style,i.Et.A=n.horzLine.color,i.Lt.Vt=n.vertLine.width,i.Lt.Pt=n.vertLine.style,i.Lt.A=n.vertLine.color,i.Ft=e.Ht(),i.Ot=e.Yt(),i.tt=this.Rt.$t(),i.it=this.Rt.Kt()},t}();function AT(t,e,n,i,r,s){t.fillRect(e+s,n,i-2*s,s),t.fillRect(e+s,n+r-s,i-2*s,s),t.fillRect(e,n,s,r),t.fillRect(e+i-s,n,s,r)}function DT(t,e,n){t.save(),t.scale(e,e),n(),t.restore()}function RT(t,e,n,i,r,s){t.save(),t.globalCompositeOperation="copy",t.fillStyle=s,t.fillRect(e,n,i,r),t.restore()}function LT(t,e,n,i,r,s,o){t.save(),t.globalCompositeOperation="copy";var a=t.createLinearGradient(0,0,0,r);a.addColorStop(0,s),a.addColorStop(1,o),t.fillStyle=a,t.fillRect(e,n,i,r),t.restore()}var jT,FT=function(){function t(t,e){this.Z(t,e)}return t.prototype.Z=function(t,e){this.Bt=t,this.Xt=e},t.prototype.H=function(t,e,n,i,r,s){if(this.Bt.yt){t.font=e.T;var o=this.Bt.Zt||!this.Bt.Jt?e.C:0,a=e.N,l=e.O,u=e.B,c=e.L,h=e.F,f=this.Bt.Gt,d=Math.ceil(n.Qt(t,f)),p=e.V,m=e.S+l+u,g=Math.ceil(.5*m),v=a+d+c+h+o,y=this.Xt.ti;this.Xt.ii&&(y=this.Xt.ii);var w,b,_=(y=Math.round(y))-g,S=_+m,E="right"===r,k=E?i:0,T=Math.ceil(i*s),C=k;if(t.fillStyle=this.Xt.t,t.lineWidth=1,t.lineCap="butt",f){E?(w=k-o,b=(C=k-v)+h):(C=k+v,w=k+o,b=k+a+o+c);var I=Math.max(1,Math.floor(s)),x=Math.max(1,Math.floor(a*s)),M=E?T:0,N=Math.round(_*s),O=Math.round(C*s),P=Math.round(y*s)-Math.floor(.5*s),A=P+I+(P-N),D=Math.round(w*s);t.save(),t.beginPath(),t.moveTo(M,N),t.lineTo(O,N),t.lineTo(O,A),t.lineTo(M,A),t.fill(),t.fillStyle=this.Bt.Tt,t.fillRect(E?T-x:0,N,x,A-N),this.Bt.Zt&&(t.fillStyle=this.Xt.A,t.fillRect(M,P,D-M,I)),t.textAlign="left",t.fillStyle=this.Xt.A,DT(t,s,(function(){t.fillText(f,b,S-u-p)})),t.restore()}}},t.prototype.Yt=function(t,e){return this.Bt.yt?t.S+t.O+t.B:0},t}(),VT=function(){function t(t){this.ni={ti:0,A:"#FFF",t:"#000"},this.si={Gt:"",yt:!1,Zt:!0,Jt:!1,Tt:""},this.hi={Gt:"",yt:!1,Zt:!1,Jt:!0,Tt:""},this.ft=!0,this.ri=new(t||FT)(this.si,this.ni),this.ei=new(t||FT)(this.hi,this.ni)}return t.prototype.Gt=function(){return this.ui(),this.si.Gt},t.prototype.ti=function(){return this.ui(),this.ni.ti},t.prototype.vt=function(){this.ft=!0},t.prototype.Yt=function(t,e){return void 0===e&&(e=!1),Math.max(this.ri.Yt(t,e),this.ei.Yt(t,e))},t.prototype.ai=function(){return this.ni.ii||0},t.prototype.oi=function(t){this.ni.ii=t},t.prototype.li=function(){return this.ui(),this.si.yt||this.hi.yt},t.prototype.fi=function(){return this.ui(),this.si.yt},t.prototype.dt=function(t){return this.ui(),this.si.Zt=this.si.Zt&&t.W().drawTicks,this.hi.Zt=this.hi.Zt&&t.W().drawTicks,this.ri.Z(this.si,this.ni),this.ei.Z(this.hi,this.ni),this.ri},t.prototype.ci=function(){return this.ui(),this.ri.Z(this.si,this.ni),this.ei.Z(this.hi,this.ni),this.ei},t.prototype.ui=function(){this.ft&&(this.si.Zt=!0,this.hi.Zt=!1,this.vi(this.si,this.hi,this.ni))},t}(),zT=function(t){function e(e,n,i){var r=t.call(this)||this;return r.Rt=e,r._i=n,r.di=i,r}return cT(e,t),e.prototype.vi=function(t,e,n){t.yt=!1;var i=this.Rt.W().horzLine;if(i.labelVisible){var r=this._i.kt();if(this.Rt.yt()&&!this._i.wi()&&null!==r){var s=lT(i.labelBackgroundColor);n.t=s.t,n.A=s.i;var o=this.di(this._i);n.ti=o.ti,t.Gt=this._i.Mi(o.et,r),t.yt=!0}}},e}(VT),UT=/[1-9]/g,BT=function(){function t(){this.Bt=null}return t.prototype.Z=function(t){this.Bt=t},t.prototype.H=function(t,e,n){var i=this;if(null!==this.Bt&&!1!==this.Bt.yt&&0!==this.Bt.Gt.length){t.font=e.T;var r=Math.round(e.bi.Qt(t,this.Bt.Gt,UT));if(!(r<=0)){t.save();var s=e.mi,o=r+2*s,a=o/2,l=this.Bt.Ht,u=this.Bt.ti,c=Math.floor(u-a)+.5;c<0?(u+=Math.abs(0-c),c=Math.floor(u-a)+.5):c+o>l&&(u-=Math.abs(l-(c+o)),c=Math.floor(u-a)+.5);var h=c+o,f=0+e.N+e.O+e.S+e.B;t.fillStyle=this.Bt.t;var d=Math.round(c*n),p=Math.round(0*n),m=Math.round(h*n),g=Math.round(f*n);t.fillRect(d,p,m-d,g-p);var v=Math.round(this.Bt.ti*n),y=p,w=Math.round((y+e.N+e.C)*n);t.fillStyle=this.Bt.A;var b=Math.max(1,Math.floor(n)),_=Math.floor(.5*n);t.fillRect(v-_,y,b,w-y);var S=f-e.V-e.B;t.textAlign="left",t.fillStyle=this.Bt.A,DT(t,n,(function(){t.fillText(Jk(i.Bt).Gt,c+s,S)})),t.restore()}}},t}(),WT=function(){function t(t,e,n){this.ft=!0,this.zt=new BT,this.Wt={yt:!1,t:"#4c525e",A:"white",Gt:"",Ht:0,ti:NaN},this.ct=t,this.pi=e,this.di=n}return t.prototype.vt=function(){this.ft=!0},t.prototype.dt=function(){return this.ft&&(this.wt(),this.ft=!1),this.zt.Z(this.Wt),this.zt},t.prototype.wt=function(){var t=this.Wt;t.yt=!1;var e=this.ct.W().vertLine;if(e.labelVisible){var n=this.pi.bt();if(!n.wi()){var i=n.gi(this.ct.Mt());t.Ht=n.Ht();var r=this.di();if(r.rt){t.ti=r.ti,t.Gt=n.yi(Jk(i)),t.yt=!0;var s=lT(e.labelBackgroundColor);t.t=s.t,t.A=s.i}}}},t}(),qT=function(){function t(){this.ki=null,this.Ni=0}return t.prototype.xi=function(){return this.Ni},t.prototype.Ci=function(t){this.Ni=t},t.prototype.Ct=function(){return this.ki},t.prototype.Si=function(t){this.ki=t},t.prototype.Ti=function(){return[]},t.prototype.yt=function(){return!0},t}();!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet"}(jT||(jT={}));var HT=function(t){function e(e,n){var i,r,s=t.call(this)||this;s.Di=null,s.Ai=NaN,s.Bi=0,s.Li=!0,s.Ei=new Map,s.Fi=!1,s.Oi=NaN,s.Vi=NaN,s.Pi=NaN,s.Wi=NaN,s.pi=e,s.zi=n,s.Ri=new NT(e,s),s.Ii=(i=function(){return s.Ai},r=function(){return s.Vi},function(t){var e=r(),n=i();if(t===Jk(s.Di).ji())return{et:n,ti:e};var o=Jk(t.kt());return{et:t.qi(e,o),ti:e}});var o=function(){return{rt:s.pi.bt().gi(s.Bi),ti:s.$t()}};return s.Ui=new WT(s,e,o),s.Hi=new PT(s),s}return cT(e,t),e.prototype.W=function(){return this.zi},e.prototype.Yi=function(t,e){this.Pi=t,this.Wi=e},e.prototype.$i=function(){this.Pi=NaN,this.Wi=NaN},e.prototype.Ki=function(){return this.Pi},e.prototype.Xi=function(){return this.Wi},e.prototype.Zi=function(t,e,n){this.Fi||(this.Fi=!0),this.Li=!0,this.Ji(t,e,n)},e.prototype.Mt=function(){return this.Bi},e.prototype.$t=function(){return this.Oi},e.prototype.Kt=function(){return this.Vi},e.prototype.yt=function(){return this.Li},e.prototype.Gi=function(){this.Li=!1,this.Qi(),this.Ai=NaN,this.Oi=NaN,this.Vi=NaN,this.Di=null,this.$i()},e.prototype.tn=function(t){return null!==this.Di?[this.Hi,this.Ri]:[]},e.prototype.qt=function(t){return t===this.Di&&this.zi.horzLine.visible},e.prototype.Ut=function(){return this.zi.vertLine.visible},e.prototype.nn=function(t,e){this.Li&&this.Di===t||this.Ei.clear();var n=[];return this.Di===t&&n.push(this.sn(this.Ei,e,this.Ii)),n},e.prototype.Ti=function(){return this.Li?[this.Ui]:[]},e.prototype.It=function(){return this.Di},e.prototype.hn=function(){this.Hi.vt(),this.Ei.forEach((function(t){return t.vt()})),this.Ui.vt(),this.Ri.vt()},e.prototype.rn=function(t){return t&&!t.ji().wi()?t.ji():null},e.prototype.Ji=function(t,e,n){this.en(t,e,n)&&this.hn()},e.prototype.en=function(t,e,n){var i=this.Oi,r=this.Vi,s=this.Ai,o=this.Bi,a=this.Di,l=this.rn(n);this.Bi=t,this.Oi=isNaN(t)?NaN:this.pi.bt().At(t),this.Di=n;var u=null!==l?l.kt():null;return null!==l&&null!==u?(this.Ai=e,this.Vi=l.xt(e,u)):(this.Ai=NaN,this.Vi=NaN),i!==this.Oi||r!==this.Vi||o!==this.Bi||s!==this.Ai||a!==this.Di},e.prototype.Qi=function(){var t=this.pi._t().map((function(t){return t.an().un()})).filter(bT),e=0===t.length?null:Math.max.apply(Math,t);this.Bi=null!==e?e:NaN},e.prototype.sn=function(t,e,n){var i=t.get(e);return void 0===i&&(i=new zT(this,e,n),t.set(e,i)),i},e}(qT);function GT(t){return"left"===t||"right"===t}var KT=function(){function t(t){this.on=new Map,this.ln=[],this.fn=t}return t.prototype.cn=function(t,e){var n=function(t,e){return void 0===t?e:{vn:Math.max(t.vn,e.vn),_n:t._n||e._n}}(this.on.get(t),e);this.on.set(t,n)},t.prototype.dn=function(){return this.fn},t.prototype.wn=function(t){var e=this.on.get(t);return void 0===e?{vn:this.fn}:{vn:Math.max(this.fn,e.vn),_n:e._n}},t.prototype.Mn=function(){this.ln=[{bn:0}]},t.prototype.mn=function(t){this.ln=[{bn:1,St:t}]},t.prototype.pn=function(){this.ln=[{bn:4}]},t.prototype.gn=function(t){this.ln.push({bn:2,St:t})},t.prototype.yn=function(t){this.ln.push({bn:3,St:t})},t.prototype.kn=function(){return this.ln},t.prototype.Nn=function(t){for(var e=this,n=0,i=t.ln;n<i.length;n++){var r=i[n];this.xn(r)}this.fn=Math.max(this.fn,t.fn),t.on.forEach((function(t,n){e.cn(n,t)}))},t.prototype.xn=function(t){switch(t.bn){case 0:this.Mn();break;case 1:this.mn(t.St);break;case 2:this.gn(t.St);break;case 3:this.yn(t.St);break;case 4:this.pn()}},t}();function QT(t,e){if(!mT(t))return"n/a";if(!gT(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return 0===e?t.toString():("0000000000000000"+t.toString()).slice(-e)}var XT=function(){function t(t,e){if(e||(e=1),mT(t)&&gT(t)||(t=100),t<0)throw new TypeError("invalid base");this._i=t,this.Cn=e,this.Sn()}return t.prototype.format=function(t){var e=t<0?"\u2212":"";return t=Math.abs(t),e+this.Tn(t)},t.prototype.Sn=function(){if(this.Dn=0,this._i>0&&this.Cn>0)for(var t=this._i;t>1;)t/=10,this.Dn++},t.prototype.Tn=function(t){var e=this._i/this.Cn,n=Math.floor(t),i="",r=void 0!==this.Dn?this.Dn:NaN;if(e>1){var s=+(Math.round(t*e)-n*e).toFixed(this.Dn);s>=e&&(s-=e,n+=1),i="."+QT(+s.toFixed(this.Dn)*this.Cn,r)}else n=Math.round(n*e)/e,r>0&&(i="."+QT(0,r));return n.toFixed(0)+i},t}(),$T=function(t){function e(e){return void 0===e&&(e=100),t.call(this,e)||this}return cT(e,t),e.prototype.format=function(e){return"".concat(t.prototype.format.call(this,e),"%")},e}(XT),YT=function(){function t(t){this.An=t}return t.prototype.format=function(t){var e="";return t<0&&(e="-",t=-t),t<995?e+this.Bn(t):t<999995?e+this.Bn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.Bn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.Bn(t/1e9)+"B")},t.prototype.Bn=function(t){var e=Math.pow(10,this.An);return((t=Math.round(t*e)/e)>=1e-15&&t<1?t.toFixed(this.An).replace(/\.?0+$/,""):String(t)).replace(/(\.[1-9]*)0+$/,(function(t,e){return e}))},t}();function JT(t,e,n,i){if(0!==e.length){var r=e[i.from].tt,s=e[i.from].it;t.moveTo(r,s);for(var o=i.from+1;o<i.to;++o){var a=e[o];if(1===n){var l=e[o-1].it,u=a.tt;t.lineTo(u,l)}t.lineTo(a.tt,a.it)}}}var ZT=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.X=null,e}return cT(e,t),e.prototype.Z=function(t){this.X=t},e.prototype.Y=function(t){if(null!==this.X&&0!==this.X.G.length&&null!==this.X.J){if(t.lineCap="butt",t.lineJoin="round",t.lineWidth=this.X.Vt,Qk(t,this.X.Pt),t.lineWidth=1,t.beginPath(),1===this.X.G.length){var e=this.X.G[0],n=this.X.Ln/2;t.moveTo(e.tt-n,this.X.En),t.lineTo(e.tt-n,e.it),t.lineTo(e.tt+n,e.it),t.lineTo(e.tt+n,this.X.En)}else t.moveTo(this.X.G[this.X.J.from].tt,this.X.En),t.lineTo(this.X.G[this.X.J.from].tt,this.X.G[this.X.J.from].it),JT(t,this.X.G,this.X.Fn,this.X.J),this.X.J.to>this.X.J.from&&(t.lineTo(this.X.G[this.X.J.to-1].tt,this.X.En),t.lineTo(this.X.G[this.X.J.from].tt,this.X.En));t.closePath(),t.fillStyle=this.On(t),t.fill()}},e}(CT),tC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cT(e,t),e.prototype.On=function(t){var e=this.X,n=t.createLinearGradient(0,0,0,e.Vn);return n.addColorStop(0,e.Pn),n.addColorStop(1,e.Wn),n},e}(ZT),eC=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.X=null,e}return cT(e,t),e.prototype.Z=function(t){this.X=t},e.prototype.Y=function(t){if(null!==this.X&&0!==this.X.G.length&&null!==this.X.J)if(t.lineCap="butt",t.lineWidth=this.X.Vt,Qk(t,this.X.Pt),t.strokeStyle=this.zn(t),t.lineJoin="round",1===this.X.G.length){t.beginPath();var e=this.X.G[0];t.moveTo(e.tt-this.X.Ln/2,e.it),t.lineTo(e.tt+this.X.Ln/2,e.it),void 0!==e.A&&(t.strokeStyle=e.A),t.stroke()}else this.Rn(t,this.X)},e.prototype.Rn=function(t,e){t.beginPath(),JT(t,e.G,e.Fn,e.J),t.stroke()},e}(CT),nC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cT(e,t),e.prototype.Rn=function(t,e){var n,i,r=e.G,s=e.J,o=e.Fn,a=e.ht;if(0!==r.length&&null!==s){t.beginPath();var l=r[s.from];t.moveTo(l.tt,l.it);var u=null!==(n=l.A)&&void 0!==n?n:a;t.strokeStyle=u;for(var c=function(e){t.stroke(),t.beginPath(),t.strokeStyle=e,u=e},h=s.from+1;h<s.to;++h){var f=r[h],d=r[h-1],p=null!==(i=f.A)&&void 0!==i?i:a;1===o&&(t.lineTo(f.tt,d.it),p!==u&&(c(p),t.moveTo(f.tt,d.it))),t.lineTo(f.tt,f.it),1!==o&&p!==u&&(c(p),t.moveTo(f.tt,f.it))}t.stroke()}},e.prototype.zn=function(){return this.X.ht},e}(eC);function iC(t,e,n,i,r){void 0===i&&(i=0),void 0===r&&(r=t.length);for(var s=r-i;0<s;){var o=s>>1,a=i+o;n(t[a],e)?(i=a+1,s-=o+1):s=o}return i}function rC(t,e,n,i,r){void 0===i&&(i=0),void 0===r&&(r=t.length);for(var s=r-i;0<s;){var o=s>>1,a=i+o;n(e,t[a])?s=o:(i=a+1,s-=o+1)}return i}function sC(t,e){return t.rt<e}function oC(t,e){return t<e.rt}function aC(t,e,n){var i=e.In(),r=e.jn(),s=iC(t,i,sC),o=rC(t,r,oC);if(!n)return{from:s,to:o};var a=s,l=o;return s>0&&s<t.length&&t[s].rt>=i&&(a=s-1),o>0&&o<t.length&&t[o-1].rt<=r&&(l=o+1),{from:a,to:l}}var lC=function(){function t(t,e,n){this.qn=!0,this.Un=!0,this.Hn=!0,this.Yn=[],this.$n=null,this.Kn=t,this.Xn=e,this.Zn=n}return t.prototype.vt=function(t){this.qn=!0,"data"===t&&(this.Un=!0),"options"===t&&(this.Hn=!0)},t.prototype.Jn=function(){this.Un&&(this.Gn(),this.Un=!1),this.qn&&(this.Qn(),this.qn=!1),this.Hn&&(this.ts(),this.Hn=!1)},t.prototype.ns=function(){this.$n=null},t.prototype.Qn=function(){var t=this.Kn.Ct(),e=this.Xn.bt();if(this.ns(),!e.wi()&&!t.wi()){var n=e.ss();if(null!==n&&0!==this.Kn.an().hs()){var i=this.Kn.kt();null!==i&&(this.$n=aC(this.Yn,n,this.Zn),this.rs(t,e,i.St))}}},t}(),uC=function(t){function e(e,n){return t.call(this,e,n,!0)||this}return cT(e,t),e.prototype.rs=function(t,e,n){e.es(this.Yn,_T(this.$n)),t.us(this.Yn,n,_T(this.$n))},e.prototype.os=function(t,e){return{rt:t,et:e,tt:NaN,it:NaN}},e.prototype.ts=function(){},e.prototype.Gn=function(){var t=this,e=this.Kn.ls();this.Yn=this.Kn.an().fs().map((function(n){var i=n.St[3];return t.cs(n.vs,i,e)}))},e}(lC),cC=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.zt=new TT,i._s=new tC,i.ds=new nC,i.zt.U([i._s,i.ds]),i}return cT(e,t),e.prototype.dt=function(t,e){if(!this.Kn.yt())return null;var n=this.Kn.W();return this.Jn(),this._s.Z({Fn:n.lineType,G:this.Yn,Pt:n.lineStyle,Vt:n.lineWidth,Pn:n.topColor,Wn:n.bottomColor,En:t,Vn:t,J:this.$n,Ln:this.Xn.bt().ws()}),this.ds.Z({Fn:n.lineType,G:this.Yn,ht:n.lineColor,Pt:n.lineStyle,Vt:n.lineWidth,J:this.$n,Ln:this.Xn.bt().ws()}),this.zt},e.prototype.cs=function(t,e){return this.os(t,e)},e}(uC),hC=function(){function t(){this.Bt=null,this.Ms=0,this.bs=0}return t.prototype.Z=function(t){this.Bt=t},t.prototype.H=function(t,e,n,i){if(null!==this.Bt&&0!==this.Bt.an.length&&null!==this.Bt.J){this.Ms=this.ps(e),this.Ms>=2&&Math.max(1,Math.floor(e))%2!=this.Ms%2&&this.Ms--,this.bs=this.Bt.gs?Math.min(this.Ms,Math.floor(e)):this.Ms;for(var r=null,s=this.bs<=this.Ms&&this.Bt.ws>=Math.floor(1.5*e),o=this.Bt.J.from;o<this.Bt.J.to;++o){var a=this.Bt.an[o];r!==a.A&&(t.fillStyle=a.A,r=a.A);var l=Math.floor(.5*this.bs),u=Math.round(a.tt*e),c=u-l,h=this.bs,f=c+h-1,d=Math.min(a.ys,a.ks),p=Math.max(a.ys,a.ks),m=Math.round(d*e)-l,g=Math.round(p*e)+l,v=Math.max(g-m,this.bs);t.fillRect(c,m,h,v);var y=Math.ceil(1.5*this.Ms);if(s){if(this.Bt.Ns){var w=u-y,b=Math.max(m,Math.round(a.xs*e)-l),_=b+h-1;_>m+v-1&&(b=(_=m+v-1)-h+1),t.fillRect(w,b,c-w,_-b+1)}var S=u+y,E=Math.max(m,Math.round(a.Cs*e)-l),k=E+h-1;k>m+v-1&&(E=(k=m+v-1)-h+1),t.fillRect(f+1,E,S-f,k-E+1)}}}},t.prototype.ps=function(t){var e=Math.floor(t);return Math.max(e,Math.floor(function(t,e){return Math.floor(.3*t*e)}(Jk(this.Bt).ws,t)))},t}(),fC=function(t){function e(e,n){return t.call(this,e,n,!1)||this}return cT(e,t),e.prototype.rs=function(t,e,n){e.es(this.Yn,_T(this.$n)),t.Ss(this.Yn,n,_T(this.$n))},e.prototype.Ts=function(t,e,n){return{rt:t,open:e.St[0],high:e.St[1],low:e.St[2],close:e.St[3],tt:NaN,xs:NaN,ys:NaN,ks:NaN,Cs:NaN}},e.prototype.Gn=function(){var t=this,e=this.Kn.ls();this.Yn=this.Kn.an().fs().map((function(n){return t.cs(n.vs,n,e)}))},e}(lC),dC=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zt=new hC,e}return cT(e,t),e.prototype.dt=function(t,e){if(!this.Kn.yt())return null;var n=this.Kn.W();this.Jn();var i={an:this.Yn,ws:this.Xn.bt().ws(),Ns:n.openVisible,gs:n.thinBars,J:this.$n};return this.zt.Z(i),this.zt},e.prototype.ts=function(){var t=this;this.Yn.forEach((function(e){e.A=t.Kn.ls().As(e.rt).Ds}))},e.prototype.cs=function(t,e,n){return hT(hT({},this.Ts(t,e,n)),{A:n.As(t).Ds})},e}(fC);function pC(t,e,n){return Math.min(Math.max(t,e),n)}function mC(t,e,n){return e-t<=n}function gC(t){return t<=0?NaN:Math.log(t)/Math.log(10)}function vC(t){var e=Math.ceil(t);return e%2!=0?e-1:e}function yC(t){var e=Math.ceil(t);return e%2==0?e-1:e}var wC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cT(e,t),e.prototype.On=function(t){var e=this.X,n=t.createLinearGradient(0,0,0,e.Vn),i=pC(e.En/e.Vn,0,1);return n.addColorStop(0,e.Bs),n.addColorStop(i,e.Ls),n.addColorStop(i,e.Es),n.addColorStop(1,e.Fs),n},e}(ZT),bC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cT(e,t),e.prototype.zn=function(t){var e=this.X,n=t.createLinearGradient(0,0,0,e.Vn),i=pC(e.En/e.Vn,0,1);return n.addColorStop(0,e.Pn),n.addColorStop(i,e.Pn),n.addColorStop(i,e.Wn),n.addColorStop(1,e.Wn),n},e}(eC),_C=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.Os=new wC,i.Vs=new bC,i.ut=new TT,i.ut.U([i.Os,i.Vs]),i}return cT(e,t),e.prototype.dt=function(t,e){if(!this.Kn.yt())return null;var n=this.Kn.kt();if(null===n)return null;var i=this.Kn.W();this.Jn();var r=this.Kn.Ct().xt(i.baseValue.price,n.St),s=this.Xn.bt().ws();return this.Os.Z({G:this.Yn,Bs:i.topFillColor1,Ls:i.topFillColor2,Es:i.bottomFillColor1,Fs:i.bottomFillColor2,Vt:i.lineWidth,Pt:i.lineStyle,Fn:0,En:r,Vn:t,J:this.$n,Ln:s}),this.Vs.Z({G:this.Yn,Pn:i.topLineColor,Wn:i.bottomLineColor,Vt:i.lineWidth,Pt:i.lineStyle,Fn:0,En:r,Vn:t,J:this.$n,Ln:s}),this.ut},e.prototype.cs=function(t,e){return this.os(t,e)},e}(uC),SC=function(){function t(){this.Bt=null,this.Ms=0}return t.prototype.Z=function(t){this.Bt=t},t.prototype.H=function(t,e,n,i){if(null!==this.Bt&&0!==this.Bt.an.length&&null!==this.Bt.J){this.Ms=function(t,e){if(t>=2.5&&t<=4)return Math.floor(3*e);var n=1-.2*Math.atan(Math.max(4,t)-4)/(.5*Math.PI),i=Math.floor(t*n*e),r=Math.floor(t*e),s=Math.min(i,r);return Math.max(Math.floor(e),s)}(this.Bt.ws,e),this.Ms>=2&&Math.floor(e)%2!=this.Ms%2&&this.Ms--;var r=this.Bt.an;this.Bt.Ps&&this.Ws(t,r,this.Bt.J,e),this.Bt.zs&&this.Rs(t,r,this.Bt.J,this.Bt.ws,e);var s=this.Is(e);(!this.Bt.zs||this.Ms>2*s)&&this.js(t,r,this.Bt.J,e)}},t.prototype.Ws=function(t,e,n,i){if(null!==this.Bt){var r="",s=Math.min(Math.floor(i),Math.floor(this.Bt.ws*i));s=Math.max(Math.floor(i),Math.min(s,this.Ms));for(var o=Math.floor(.5*s),a=null,l=n.from;l<n.to;l++){var u=e[l];u.qs!==r&&(t.fillStyle=u.qs,r=u.qs);var c=Math.round(Math.min(u.xs,u.Cs)*i),h=Math.round(Math.max(u.xs,u.Cs)*i),f=Math.round(u.ys*i),d=Math.round(u.ks*i),p=Math.round(i*u.tt)-o,m=p+s-1;null!==a&&(p=Math.max(a+1,p),p=Math.min(p,m));var g=m-p+1;t.fillRect(p,f,g,c-f),t.fillRect(p,h+1,g,d-h),a=m}}},t.prototype.Is=function(t){var e=Math.floor(1*t);this.Ms<=2*e&&(e=Math.floor(.5*(this.Ms-1)));var n=Math.max(Math.floor(t),e);return this.Ms<=2*n?Math.max(Math.floor(t),Math.floor(1*t)):n},t.prototype.Rs=function(t,e,n,i,r){if(null!==this.Bt)for(var s="",o=this.Is(r),a=null,l=n.from;l<n.to;l++){var u=e[l];u.Tt!==s&&(t.fillStyle=u.Tt,s=u.Tt);var c=Math.round(u.tt*r)-Math.floor(.5*this.Ms),h=c+this.Ms-1,f=Math.round(Math.min(u.xs,u.Cs)*r),d=Math.round(Math.max(u.xs,u.Cs)*r);if(null!==a&&(c=Math.max(a+1,c),c=Math.min(c,h)),this.Bt.ws*r>2*o)AT(t,c,f,h-c+1,d-f+1,o);else{var p=h-c+1;t.fillRect(c,f,p,d-f+1)}a=h}},t.prototype.js=function(t,e,n,i){if(null!==this.Bt)for(var r="",s=this.Is(i),o=n.from;o<n.to;o++){var a=e[o],l=Math.round(Math.min(a.xs,a.Cs)*i),u=Math.round(Math.max(a.xs,a.Cs)*i),c=Math.round(a.tt*i)-Math.floor(.5*this.Ms),h=c+this.Ms-1;if(a.A!==r){var f=a.A;t.fillStyle=f,r=f}this.Bt.zs&&(c+=s,l+=s,h-=s,u-=s),l>u||t.fillRect(c,l,h-c+1,u-l+1)}},t}(),EC=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zt=new SC,e}return cT(e,t),e.prototype.dt=function(t,e){if(!this.Kn.yt())return null;var n=this.Kn.W();this.Jn();var i={an:this.Yn,ws:this.Xn.bt().ws(),Ps:n.wickVisible,zs:n.borderVisible,J:this.$n};return this.zt.Z(i),this.zt},e.prototype.ts=function(){var t=this;this.Yn.forEach((function(e){var n=t.Kn.ls().As(e.rt);e.A=n.Ds,e.qs=n.Us,e.Tt=n.Hs}))},e.prototype.cs=function(t,e,n){var i=n.As(t);return hT(hT({},this.Ts(t,e,n)),{A:i.Ds,qs:i.Us,Tt:i.Hs})},e}(fC),kC=function(){function t(){this.Bt=null,this.Ys=[]}return t.prototype.Z=function(t){this.Bt=t,this.Ys=[]},t.prototype.H=function(t,e,n,i){if(null!==this.Bt&&0!==this.Bt.G.length&&null!==this.Bt.J){this.Ys.length||this.$s(e);for(var r=Math.max(1,Math.floor(e)),s=Math.round(this.Bt.Ks*e)-Math.floor(r/2),o=s+r,a=this.Bt.J.from;a<this.Bt.J.to;a++){var l=this.Bt.G[a],u=this.Ys[a-this.Bt.J.from],c=Math.round(l.it*e);t.fillStyle=l.A;var h=void 0,f=void 0;c<=s?(h=c,f=o):(h=s,f=c-Math.floor(r/2)+r),t.fillRect(u.In,h,u.jn-u.In+1,f-h)}}},t.prototype.$s=function(t){if(null!==this.Bt&&0!==this.Bt.G.length&&null!==this.Bt.J){var e=Math.ceil(this.Bt.ws*t)<=1?0:Math.max(1,Math.floor(t)),n=Math.round(this.Bt.ws*t)-e;this.Ys=new Array(this.Bt.J.to-this.Bt.J.from);for(var i=this.Bt.J.from;i<this.Bt.J.to;i++){var r,s=this.Bt.G[i],o=Math.round(s.tt*t),a=void 0,l=void 0;n%2?(a=o-(r=(n-1)/2),l=o+r):(a=o-(r=n/2),l=o+r-1),this.Ys[i-this.Bt.J.from]={In:a,jn:l,Xs:o,Zs:s.tt*t,rt:s.rt}}for(i=this.Bt.J.from+1;i<this.Bt.J.to;i++){var u=this.Ys[i-this.Bt.J.from],c=this.Ys[i-this.Bt.J.from-1];u.rt===c.rt+1&&u.In-c.jn!==e+1&&(c.Xs>c.Zs?c.jn=u.In-e-1:u.In=c.jn+e+1)}var h=Math.ceil(this.Bt.ws*t);for(i=this.Bt.J.from;i<this.Bt.J.to;i++){(u=this.Ys[i-this.Bt.J.from]).jn<u.In&&(u.jn=u.In);var f=u.jn-u.In+1;h=Math.min(f,h)}if(e>0&&h<4)for(i=this.Bt.J.from;i<this.Bt.J.to;i++)(f=(u=this.Ys[i-this.Bt.J.from]).jn-u.In+1)>h&&(u.Xs>u.Zs?u.jn-=1:u.In+=1)}else this.Ys=[]},t}();function TC(t){return{G:[],ws:t,Ks:NaN,J:null}}function CC(t,e,n){return{rt:t,et:e,tt:NaN,it:NaN,A:n}}var IC=function(t){function e(e,n){var i=t.call(this,e,n,!1)||this;return i.ut=new TT,i.Js=TC(0),i.zt=new kC,i}return cT(e,t),e.prototype.dt=function(t,e){return this.Kn.yt()?(this.Jn(),this.ut):null},e.prototype.Gn=function(){var t=this.Xn.bt().ws();this.Js=TC(t);for(var e=0,n=0,i=this.Kn.W().color,r=0,s=this.Kn.an().fs();r<s.length;r++){var o=s[r],a=o.St[3],l=void 0!==o.A?o.A:i,u=CC(o.vs,a,l);++e<this.Js.G.length?this.Js.G[e]=u:this.Js.G.push(u),this.Yn[n++]={rt:o.vs,tt:0}}this.zt.Z(this.Js),this.ut.U([this.zt])},e.prototype.ts=function(){},e.prototype.ns=function(){t.prototype.ns.call(this),this.Js.J=null},e.prototype.rs=function(t,e,n){if(null!==this.$n){var i=e.ws(),r=Jk(e.ss()),s=t.xt(this.Kn.W().base,n);e.es(this.Js.G),t.us(this.Js.G,n),this.Js.Ks=s,this.Js.J=aC(this.Js.G,r,!1),this.Js.ws=i,this.zt.Z(this.Js)}},e}(lC),xC=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.ds=new nC,i}return cT(e,t),e.prototype.dt=function(t,e){if(!this.Kn.yt())return null;var n=this.Kn.W();this.Jn();var i={G:this.Yn,ht:n.color,Pt:n.lineStyle,Fn:n.lineType,Vt:n.lineWidth,J:this.$n,Ln:this.Xn.bt().ws()};return this.ds.Z(i),this.ds},e.prototype.ts=function(){var t=this;this.Yn.forEach((function(e){e.A=t.Kn.ls().As(e.rt).Ds}))},e.prototype.cs=function(t,e,n){var i=this.os(t,e);return i.A=n.As(t).Ds,i},e}(uC),MC=/[2-9]/g,NC=function(){function t(t){void 0===t&&(t=50),this.Gs=new Map,this.Qs=0,this.th=Array.from(new Array(t))}return t.prototype.ih=function(){this.Gs.clear(),this.th.fill(void 0)},t.prototype.Qt=function(t,e,n){var i=n||MC,r=String(e).replace(i,"0"),s=this.Gs.get(r);if(void 0===s){if(0===(s=t.measureText(r).width)&&0!==e.length)return 0;var o=this.th[this.Qs];void 0!==o&&this.Gs.delete(o),this.th[this.Qs]=r,this.Qs=(this.Qs+1)%this.th.length,this.Gs.set(r,s)}return s},t}(),OC=function(){function t(t){this.nh=null,this.k=null,this.sh="right",this.hh=0,this.rh=t}return t.prototype.eh=function(t,e,n,i){this.nh=t,this.k=e,this.hh=n,this.sh=i},t.prototype.H=function(t,e){null!==this.k&&null!==this.nh&&this.nh.H(t,this.k,this.rh,this.hh,this.sh,e)},t}(),PC=function(){function t(t,e,n){this.uh=t,this.rh=new NC(50),this.ah=e,this.P=n,this.R=-1,this.zt=new OC(this.rh)}return t.prototype.dt=function(t,e){var n=this.P.oh(this.ah);if(null===n)return null;var i=n.lh(this.ah)?n.fh():this.ah.Ct();if(null===i)return null;var r=n._h(i);if("overlay"===r)return null;var s=this.P.dh();return s.S!==this.R&&(this.R=s.S,this.rh.ih()),this.zt.eh(this.uh.ci(),s,e,r),this.zt},t}(),AC=function(){function t(){this.Bt=null}return t.prototype.Z=function(t){this.Bt=t},t.prototype.H=function(t,e,n,i){if(null!==this.Bt&&!1!==this.Bt.yt){var r=Math.round(this.Bt.it*e);if(!(r<0||r>Math.ceil(this.Bt.Yt*e))){var s=Math.ceil(this.Bt.Ht*e);t.lineCap="butt",t.strokeStyle=this.Bt.A,t.lineWidth=Math.floor(this.Bt.Vt*e),Qk(t,this.Bt.Pt),Xk(t,r,0,s)}}},t}(),DC=function(){function t(t){this.wh={Ht:0,Yt:0,it:0,A:"rgba(0, 0, 0, 0)",Vt:1,Pt:0,yt:!1},this.Mh=new AC,this.ft=!0,this.Kn=t,this.Xn=t.jt(),this.Mh.Z(this.wh)}return t.prototype.vt=function(){this.ft=!0},t.prototype.dt=function(t,e){return this.Kn.yt()?(this.ft&&(this.bh(t,e),this.ft=!1),this.Mh):null},t}(),RC=function(t){function e(e){return t.call(this,e)||this}return cT(e,t),e.prototype.bh=function(t,e){this.wh.yt=!1;var n=this.Kn.Ct(),i=n.mh().mh;if(2===i||3===i){var r=this.Kn.W();if(r.baseLineVisible&&this.Kn.yt()){var s=this.Kn.kt();null!==s&&(this.wh.yt=!0,this.wh.it=n.xt(s.St,s.St),this.wh.Ht=e,this.wh.Yt=t,this.wh.A=r.baseLineColor,this.wh.Vt=r.baseLineWidth,this.wh.Pt=r.baseLineStyle)}}},e}(DC),LC=function(){function t(){this.Bt=null}return t.prototype.Z=function(t){this.Bt=t},t.prototype.ph=function(){return this.Bt},t.prototype.H=function(t,e,n,i){var r=this.Bt;if(null!==r){t.save();var s=Math.max(1,Math.floor(e)),o=s%2/2,a=Math.round(r.Zs.x*e)+o,l=r.Zs.y*e;t.fillStyle=r.gh,t.beginPath();var u=Math.max(2,1.5*r.yh)*e;t.arc(a,l,u,0,2*Math.PI,!1),t.fill(),t.fillStyle=r.kh,t.beginPath(),t.arc(a,l,r.st*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=s,t.strokeStyle=r.Nh,t.beginPath(),t.arc(a,l,r.st*e+s/2,0,2*Math.PI,!1),t.stroke(),t.restore()}},t}(),jC=[{xh:0,Ch:.25,Sh:4,Th:10,Dh:.25,Ah:0,Bh:.4,Lh:.8},{xh:.25,Ch:.525,Sh:10,Th:14,Dh:0,Ah:0,Bh:.8,Lh:0},{xh:.525,Ch:1,Sh:14,Th:14,Dh:0,Ah:0,Bh:0,Lh:0}];function FC(t,e,n,i){return function(t,e){if("transparent"===t)return t;var n=aT(t),i=n[3];return"rgba(".concat(n[0],", ").concat(n[1],", ").concat(n[2],", ").concat(e*i,")")}(t,n+(i-n)*e)}function VC(t,e){for(var n,i=t%2600/2600,r=0,s=jC;r<s.length;r++){var o=s[r];if(i>=o.xh&&i<=o.Ch){n=o;break}}$k(void 0!==n,"Last price animation internal logic error");var a,l,u,c=(i-n.xh)/(n.Ch-n.xh);return{kh:FC(e,c,n.Dh,n.Ah),Nh:FC(e,c,n.Bh,n.Lh),st:(a=c,l=n.Sh,u=n.Th,l+(u-l)*a)}}var zC=function(){function t(t){this.zt=new LC,this.ft=!0,this.Eh=!0,this.Fh=performance.now(),this.Oh=this.Fh-1,this.Vh=t}return t.prototype.Ph=function(){this.Oh=this.Fh-1,this.vt()},t.prototype.Wh=function(){if(this.vt(),2===this.Vh.W().lastPriceAnimation){var t=performance.now(),e=this.Oh-t;if(e>0)return void(e<650&&(this.Oh+=2600));this.Fh=t,this.Oh=t+2600}},t.prototype.vt=function(){this.ft=!0},t.prototype.zh=function(){this.Eh=!0},t.prototype.yt=function(){return 0!==this.Vh.W().lastPriceAnimation},t.prototype.Rh=function(){switch(this.Vh.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Oh}},t.prototype.dt=function(t,e){return this.ft?(this.wt(t,e),this.ft=!1,this.Eh=!1):this.Eh&&(this.Ih(),this.Eh=!1),this.zt},t.prototype.wt=function(t,e){this.zt.Z(null);var n=this.Vh.jt().bt(),i=n.ss(),r=this.Vh.kt();if(null!==i&&null!==r){var s=this.Vh.jh(!0);if(!s.qh&&i.Uh(s.vs)){var o={x:n.At(s.vs),y:this.Vh.Ct().xt(s.et,r.St)},a=s.A,l=this.Vh.W().lineWidth,u=VC(this.Hh(),a);this.zt.Z({gh:a,yh:l,kh:u.kh,Nh:u.Nh,st:u.st,Zs:o})}}},t.prototype.Ih=function(){var t=this.zt.ph();if(null!==t){var e=VC(this.Hh(),t.gh);t.kh=e.kh,t.Nh=e.Nh,t.st=e.st}},t.prototype.Hh=function(){return this.Rh()?performance.now()-this.Fh:2599},t}();function UC(t,e){return yC(Math.min(Math.max(t,12),30)*e)}function BC(t,e){switch(t){case"arrowDown":case"arrowUp":return UC(e,1);case"circle":return UC(e,.8);case"square":return UC(e,.7)}}function WC(t){return vC(UC(t,1))}function qC(t){return Math.max(UC(t,.1),3)}function HC(t,e,n,i,r){var s=BC("square",n),o=(s-1)/2,a=t-o,l=e-o;return i>=a&&i<=a+s&&r>=l&&r<=l+s}function GC(t,e,n,i,r){var s=(BC("arrowUp",r)-1)/2,o=(yC(r/2)-1)/2;e.beginPath(),t?(e.moveTo(n-s,i),e.lineTo(n,i-s),e.lineTo(n+s,i),e.lineTo(n+o,i),e.lineTo(n+o,i+s),e.lineTo(n-o,i+s),e.lineTo(n-o,i)):(e.moveTo(n-s,i),e.lineTo(n,i+s),e.lineTo(n+s,i),e.lineTo(n+o,i),e.lineTo(n+o,i-s),e.lineTo(n-o,i-s),e.lineTo(n-o,i)),e.fill()}var KC=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Bt=null,e.rh=new NC,e.R=-1,e.I="",e.Yh="",e}return cT(e,t),e.prototype.Z=function(t){this.Bt=t},e.prototype.eh=function(t,e){this.R===t&&this.I===e||(this.R=t,this.I=e,this.Yh=ET(t,e),this.rh.ih())},e.prototype.$h=function(t,e){if(null===this.Bt||null===this.Bt.J)return null;for(var n=this.Bt.J.from;n<this.Bt.J.to;n++){var i=this.Bt.G[n];if(XC(i,t,e))return{Kh:i.Xh,Zh:i.Zh}}return null},e.prototype.Y=function(t,e,n){if(null!==this.Bt&&null!==this.Bt.J){t.textBaseline="middle",t.font=this.Yh;for(var i=this.Bt.J.from;i<this.Bt.J.to;i++){var r=this.Bt.G[i];void 0!==r.Gt&&(r.Gt.Ht=this.rh.Qt(t,r.Gt.Jh),r.Gt.Yt=this.R),QC(r,t)}}},e}(CT);function QC(t,e){e.fillStyle=t.A,void 0!==t.Gt&&function(t,e,n,i){t.fillText(e,n,i)}(e,t.Gt.Jh,t.tt-t.Gt.Ht/2,t.Gt.it),function(t,e){if(0!==t.hs){switch(t.Gh){case"arrowDown":return void GC(!1,e,t.tt,t.it,t.hs);case"arrowUp":return void GC(!0,e,t.tt,t.it,t.hs);case"circle":return void function(t,e,n,i){var r=(BC("circle",i)-1)/2;t.beginPath(),t.arc(e,n,r,0,2*Math.PI,!1),t.fill()}(e,t.tt,t.it,t.hs);case"square":return void function(t,e,n,i){var r=BC("square",i),s=(r-1)/2,o=e-s,a=n-s;t.fillRect(o,a,r,r)}(e,t.tt,t.it,t.hs)}t.Gh}}(t,e)}function XC(t,e,n){return!(void 0===t.Gt||!function(t,e,n,i,r,s){var o=i/2;return r>=t&&r<=t+n&&s>=e-o&&s<=e+o}(t.tt,t.Gt.it,t.Gt.Ht,t.Gt.Yt,e,n))||function(t,e,n){if(0===t.hs)return!1;switch(t.Gh){case"arrowDown":case"arrowUp":return function(t,e,n,i,r,s){return HC(e,n,i,r,s)}(0,t.tt,t.it,t.hs,e,n);case"circle":return function(t,e,n,i,r){var s=2+BC("circle",n)/2,o=t-i,a=e-r;return Math.sqrt(o*o+a*a)<=s}(t.tt,t.it,t.hs,e,n);case"square":return HC(t.tt,t.it,t.hs,e,n)}}(t,e,n)}function $C(t,e,n,i,r,s,o,a,l){var u=mT(n)?n:n.close,c=mT(n)?n:n.high,h=mT(n)?n:n.low,f=mT(e.size)?Math.max(e.size,0):1,d=WC(a.ws())*f,p=d/2;switch(t.hs=d,e.position){case"inBar":return t.it=o.xt(u,l),void(void 0!==t.Gt&&(t.Gt.it=t.it+p+s+.6*r));case"aboveBar":return t.it=o.xt(c,l)-p-i.Qh,void 0!==t.Gt&&(t.Gt.it=t.it-p-.6*r,i.Qh+=1.2*r),void(i.Qh+=d+s);case"belowBar":return t.it=o.xt(h,l)+p+i.tr,void 0!==t.Gt&&(t.Gt.it=t.it+p+s+.6*r,i.tr+=1.2*r),void(i.tr+=d+s)}e.position}var YC=function(){function t(t,e){this.ft=!0,this.ir=!0,this.nr=!0,this.sr=null,this.zt=new KC,this.Vh=t,this.pi=e,this.Bt={G:[],J:null}}return t.prototype.vt=function(t){this.ft=!0,this.nr=!0,"data"===t&&(this.ir=!0)},t.prototype.dt=function(t,e,n){if(!this.Vh.yt())return null;this.ft&&this.Jn();var i=this.pi.W().layout;return this.zt.eh(i.fontSize,i.fontFamily),this.zt.Z(this.Bt),this.zt},t.prototype.hr=function(){if(this.nr){if(this.Vh.rr().length>0){var t=this.pi.bt().ws(),e=qC(t),n=1.5*WC(t)+2*e;this.sr={above:n,below:n}}else this.sr=null;this.nr=!1}return this.sr},t.prototype.Jn=function(){var t=this.Vh.Ct(),e=this.pi.bt(),n=this.Vh.rr();this.ir&&(this.Bt.G=n.map((function(t){return{rt:t.time,tt:0,it:0,hs:0,Gh:t.shape,A:t.color,Xh:t.Xh,Zh:t.id,Gt:void 0}})),this.ir=!1);var i=this.pi.W().layout;this.Bt.J=null;var r=e.ss();if(null!==r){var s=this.Vh.kt();if(null!==s&&0!==this.Bt.G.length){var o=NaN,a=qC(e.ws()),l={Qh:a,tr:a};this.Bt.J=aC(this.Bt.G,r,!0);for(var u=this.Bt.J.from;u<this.Bt.J.to;u++){var c=n[u];c.time!==o&&(l.Qh=a,l.tr=a,o=c.time);var h=this.Bt.G[u];h.tt=e.At(c.time),void 0!==c.text&&c.text.length>0&&(h.Gt={Jh:c.text,it:0,Ht:0,Yt:0});var f=this.Vh.er(c.time);null!==f&&$C(h,c,f,l,i.fontSize,a,t,e,s.St)}this.ft=!1}}},t}(),JC=function(t){function e(e){return t.call(this,e)||this}return cT(e,t),e.prototype.bh=function(t,e){var n=this.wh;n.yt=!1;var i=this.Kn.W();if(i.priceLineVisible&&this.Kn.yt()){var r=this.Kn.jh(0===i.priceLineSource);r.qh||(n.yt=!0,n.it=r.ti,n.A=this.Kn.ur(r.A),n.Ht=e,n.Yt=t,n.Vt=i.priceLineWidth,n.Pt=i.priceLineStyle)}},e}(DC),ZC=function(t){function e(e){var n=t.call(this)||this;return n.Rt=e,n}return cT(e,t),e.prototype.vi=function(t,e,n){t.yt=!1,e.yt=!1;var i=this.Rt;if(i.yt()){var r=i.W(),s=r.lastValueVisible,o=""!==i.ar(),a=0===r.seriesLastValueMode,l=i.jh(!1);if(!l.qh){s&&(t.Gt=this.lr(l,s,a),t.yt=0!==t.Gt.length),(o||a)&&(e.Gt=this.cr(l,s,o,a),e.yt=e.Gt.length>0);var u=i.ur(l.A),c=lT(u);n.t=c.t,n.A=c.i,n.ti=l.ti,e.Tt=i.jt().Dt(l.ti/i.Ct().Yt()),t.Tt=u}}},e.prototype.cr=function(t,e,n,i){var r="",s=this.Rt.ar();return n&&0!==s.length&&(r+="".concat(s," ")),e&&i&&(r+=this.Rt.Ct().vr()?t._r:t.dr),r.trim()},e.prototype.lr=function(t,e,n){return e?n?this.Rt.Ct().vr()?t.dr:t._r:t.Gt:""},e}(VT),tI=function(){function t(t,e){this.wr=t,this.Mr=e}return t.prototype.br=function(t){return null!==t&&this.wr===t.wr&&this.Mr===t.Mr},t.prototype.mr=function(){return new t(this.wr,this.Mr)},t.prototype.pr=function(){return this.wr},t.prototype.gr=function(){return this.Mr},t.prototype.yr=function(){return this.Mr-this.wr},t.prototype.wi=function(){return this.Mr===this.wr||Number.isNaN(this.Mr)||Number.isNaN(this.wr)},t.prototype.Nn=function(e){return null===e?this:new t(Math.min(this.pr(),e.pr()),Math.max(this.gr(),e.gr()))},t.prototype.kr=function(t){if(mT(t)&&0!==this.Mr-this.wr){var e=.5*(this.Mr+this.wr),n=this.Mr-e,i=this.wr-e;n*=t,i*=t,this.Mr=e+n,this.wr=e+i}},t.prototype.Nr=function(t){mT(t)&&(this.Mr+=t,this.wr+=t)},t.prototype.Cr=function(){return{minValue:this.wr,maxValue:this.Mr}},t.Sr=function(e){return null===e?null:new t(e.minValue,e.maxValue)},t}(),eI=function(){function t(t,e){this.Tr=t,this.Dr=e||null}return t.prototype.Ar=function(){return this.Tr},t.prototype.Br=function(){return this.Dr},t.prototype.Cr=function(){return null===this.Tr?null:{priceRange:this.Tr.Cr(),margins:this.Dr||void 0}},t.Sr=function(e){return null===e?null:new t(tI.Sr(e.priceRange),e.margins)},t}(),nI=function(t){function e(e,n){var i=t.call(this,e)||this;return i.Lr=n,i}return cT(e,t),e.prototype.bh=function(t,e){var n=this.wh;n.yt=!1;var i=this.Lr.W();if(this.Kn.yt()&&i.lineVisible){var r=this.Lr.Er();null!==r&&(n.yt=!0,n.it=r,n.A=i.color,n.Ht=e,n.Yt=t,n.Vt=i.lineWidth,n.Pt=i.lineStyle)}},e}(DC),iI=function(t){function e(e,n){var i=t.call(this)||this;return i.Vh=e,i.Lr=n,i}return cT(e,t),e.prototype.vi=function(t,e,n){t.yt=!1,e.yt=!1;var i=this.Lr.W(),r=i.axisLabelVisible,s=""!==i.title,o=this.Vh;if(r&&o.yt()){var a=this.Lr.Er();if(null!==a){s&&(e.Gt=i.title,e.yt=!0),e.Tt=o.jt().Dt(a/o.Ct().Yt()),t.Gt=o.Ct().Fr(i.price),t.yt=!0;var l=lT(i.color);n.t=l.t,n.A=l.i,n.ti=a}}},e}(VT),rI=function(){function t(t,e){this.Vh=t,this.zi=e,this.Or=new nI(t,this),this.uh=new iI(t,this),this.Vr=new PC(this.uh,t,t.jt())}return t.prototype.Pr=function(t){pT(this.zi,t),this.vt(),this.Vh.jt().Wr()},t.prototype.W=function(){return this.zi},t.prototype.tn=function(){return[this.Or,this.Vr]},t.prototype.zr=function(){return this.uh},t.prototype.vt=function(){this.Or.vt(),this.uh.vt()},t.prototype.Er=function(){var t=this.Vh,e=t.Ct();if(t.jt().bt().wi()||e.wi())return null;var n=t.kt();return null===n?null:e.xt(this.zi.price,n.St)},t}(),sI=function(t){function e(e){var n=t.call(this)||this;return n.pi=e,n}return cT(e,t),e.prototype.jt=function(){return this.pi},e}(qT),oI={Ds:"",Hs:"",Us:""},aI=function(){function t(t){this.Vh=t}return t.prototype.As=function(t,e){var n=this.Vh.Rr(),i=this.Vh.W();switch(n){case"Line":return this.Ir(i,t,e);case"Area":return this.jr(i);case"Baseline":return this.qr(i,t,e);case"Bar":return this.Ur(i,t,e);case"Candlestick":return this.Hr(i,t,e);case"Histogram":return this.Yr(i,t,e)}throw new Error("Unknown chart style")},t.prototype.Ur=function(t,e,n){var i=hT({},oI),r=t.upColor,s=t.downColor,o=r,a=s,l=Jk(this.$r(e,n)),u=Zk(l.St[0])<=Zk(l.St[3]);return void 0!==l.A?(i.Ds=l.A,i.Hs=l.A):(i.Ds=u?r:s,i.Hs=u?o:a),i},t.prototype.Hr=function(t,e,n){var i,r,s,o=hT({},oI),a=t.upColor,l=t.downColor,u=t.borderUpColor,c=t.borderDownColor,h=t.wickUpColor,f=t.wickDownColor,d=Jk(this.$r(e,n)),p=Zk(d.St[0])<=Zk(d.St[3]);return o.Ds=null!==(i=d.A)&&void 0!==i?i:p?a:l,o.Hs=null!==(r=d.Tt)&&void 0!==r?r:p?u:c,o.Us=null!==(s=d.qs)&&void 0!==s?s:p?h:f,o},t.prototype.jr=function(t){return hT(hT({},oI),{Ds:t.lineColor})},t.prototype.qr=function(t,e,n){var i=Jk(this.$r(e,n)).St[3]>=t.baseValue.price;return hT(hT({},oI),{Ds:i?t.topLineColor:t.bottomLineColor})},t.prototype.Ir=function(t,e,n){var i,r=Jk(this.$r(e,n));return hT(hT({},oI),{Ds:null!==(i=r.A)&&void 0!==i?i:t.color})},t.prototype.Yr=function(t,e,n){var i=hT({},oI),r=Jk(this.$r(e,n));return i.Ds=void 0!==r.A?r.A:t.color,i},t.prototype.$r=function(t,e){return void 0!==e?e.St:this.Vh.an().Kr(t)},t}(),lI=function(){function t(){this.Xr=[],this.Zr=new Map,this.Jr=new Map}return t.prototype.Gr=function(){return this.hs()>0?this.Xr[this.Xr.length-1]:null},t.prototype.Qr=function(){return this.hs()>0?this.te(0):null},t.prototype.un=function(){return this.hs()>0?this.te(this.Xr.length-1):null},t.prototype.hs=function(){return this.Xr.length},t.prototype.wi=function(){return 0===this.hs()},t.prototype.Uh=function(t){return null!==this.ie(t,0)},t.prototype.Kr=function(t){return this.ne(t)},t.prototype.ne=function(t,e){void 0===e&&(e=0);var n=this.ie(t,e);return null===n?null:hT(hT({},this.se(n)),{vs:this.te(n)})},t.prototype.fs=function(){return this.Xr},t.prototype.he=function(t,e,n){if(this.wi())return null;for(var i=null,r=0,s=n;r<s.length;r++){var o=s[r];i=uI(i,this.re(t,e,o))}return i},t.prototype.Z=function(t){this.Jr.clear(),this.Zr.clear(),this.Xr=t},t.prototype.te=function(t){return this.Xr[t].vs},t.prototype.se=function(t){return this.Xr[t]},t.prototype.ie=function(t,e){var n=this.ee(t);if(null===n&&0!==e)switch(e){case-1:return this.ue(t);case 1:return this.ae(t);default:throw new TypeError("Unknown search mode")}return n},t.prototype.ue=function(t){var e=this.oe(t);return e>0&&(e-=1),e!==this.Xr.length&&this.te(e)<t?e:null},t.prototype.ae=function(t){var e=this.le(t);return e!==this.Xr.length&&t<this.te(e)?e:null},t.prototype.ee=function(t){var e=this.oe(t);return e===this.Xr.length||t<this.Xr[e].vs?null:e},t.prototype.oe=function(t){return iC(this.Xr,t,(function(t,e){return t.vs<e}))},t.prototype.le=function(t){return rC(this.Xr,t,(function(t,e){return e.vs>t}))},t.prototype.fe=function(t,e,n){for(var i=null,r=t;r<e;r++){var s=this.Xr[r].St[n];Number.isNaN(s)||(null===i?i={ce:s,ve:s}:(s<i.ce&&(i.ce=s),s>i.ve&&(i.ve=s)))}return i},t.prototype.re=function(t,e,n){if(this.wi())return null;var i=null,r=Jk(this.Qr()),s=Jk(this.un()),o=Math.max(t,r),a=Math.min(e,s),l=30*Math.ceil(o/30),u=Math.max(l,30*Math.floor(a/30)),c=this.oe(o),h=this.le(Math.min(a,l,e));i=uI(i,this.fe(c,h,n));var f=this.Zr.get(n);void 0===f&&(f=new Map,this.Zr.set(n,f));for(var d=Math.max(l+1,o);d<u;d+=30){var p=Math.floor(d/30),m=f.get(p);if(void 0===m){var g=this.oe(30*p),v=this.le(30*(p+1)-1);m=this.fe(g,v,n),f.set(p,m)}i=uI(i,m)}return c=this.oe(u),h=this.le(a),uI(i,this.fe(c,h,n))},t}();function uI(t,e){return null===t?e:null===e?t:{ce:Math.min(t.ce,e.ce),ve:Math.max(t.ve,e.ve)}}var cI=function(t){function e(e,n,i){var r=t.call(this,e)||this;r.Bt=new lI,r.Or=new JC(r),r._e=[],r.de=new RC(r),r.we=null,r.Me=null,r.be=[],r.me=[],r.pe=null,r.zi=n,r.ge=i;var s=new ZC(r);return r.Ei=[s],r.Vr=new PC(s,r,e),"Area"!==i&&"Line"!==i&&"Baseline"!==i||(r.we=new zC(r)),r.ye(),r.ke(),r}return cT(e,t),e.prototype.g=function(){null!==this.pe&&clearTimeout(this.pe)},e.prototype.ur=function(t){return this.zi.priceLineColor||t},e.prototype.jh=function(t){var e={qh:!0},n=this.Ct();if(this.jt().bt().wi()||n.wi()||this.Bt.wi())return e;var i,r,s=this.jt().bt().ss(),o=this.kt();if(null===s||null===o)return e;if(t){var a=this.Bt.Gr();if(null===a)return e;i=a,r=a.vs}else{var l=this.Bt.ne(s.jn(),-1);if(null===l)return e;if(null===(i=this.Bt.Kr(l.vs)))return e;r=l.vs}var u=i.St[3],c=this.ls().As(r,{St:i}),h=n.xt(u,o.St);return{qh:!1,et:u,Gt:n.Mi(u,o.St),_r:n.Fr(u),dr:n.Ne(u,o.St),A:c.Ds,ti:h,vs:r}},e.prototype.ls=function(){return null!==this.Me||(this.Me=new aI(this)),this.Me},e.prototype.W=function(){return this.zi},e.prototype.Pr=function(t){var e=t.priceScaleId;void 0!==e&&e!==this.zi.priceScaleId&&this.jt().xe(this,e),pT(this.zi,t),null!==this.ki&&void 0!==t.scaleMargins&&this.ki.Pr({scaleMargins:t.scaleMargins}),void 0!==t.priceFormat&&(this.ye(),this.jt().Ce()),this.jt().Se(this),this.jt().Te(),this.Hi.vt("options")},e.prototype.Z=function(t,e){this.Bt.Z(t),this.De(),this.Hi.vt("data"),this.Ri.vt("data"),null!==this.we&&(e&&e.Ae?this.we.Wh():0===t.length&&this.we.Ph());var n=this.jt().oh(this);this.jt().Be(n),this.jt().Se(this),this.jt().Te(),this.jt().Wr()},e.prototype.Le=function(t){this.be=t.map((function(t){return hT({},t)})),this.De();var e=this.jt().oh(this);this.Ri.vt("data"),this.jt().Be(e),this.jt().Se(this),this.jt().Te(),this.jt().Wr()},e.prototype.rr=function(){return this.me},e.prototype.Ee=function(t){var e=new rI(this,t);return this._e.push(e),this.jt().Se(this),e},e.prototype.Fe=function(t){var e=this._e.indexOf(t);-1!==e&&this._e.splice(e,1),this.jt().Se(this)},e.prototype.Rr=function(){return this.ge},e.prototype.kt=function(){var t=this.Oe();return null===t?null:{St:t.St[3],Ve:t.rt}},e.prototype.Oe=function(){var t=this.jt().bt().ss();if(null===t)return null;var e=t.In();return this.Bt.ne(e,1)},e.prototype.an=function(){return this.Bt},e.prototype.er=function(t){var e=this.Bt.Kr(t);return null===e?null:"Bar"===this.ge||"Candlestick"===this.ge?{open:e.St[0],high:e.St[1],low:e.St[2],close:e.St[3]}:e.St[3]},e.prototype.Pe=function(t){var e=this,n=this.we;return null!==n&&n.yt()?(null===this.pe&&n.Rh()&&(this.pe=setTimeout((function(){e.pe=null,e.jt().We()}),0)),n.zh(),[n]):[]},e.prototype.tn=function(){var t=[];this.ze()||t.push(this.de);for(var e=0,n=this._e;e<n.length;e++){var i=n[e];t.push.apply(t,i.tn())}return t.push(this.Hi,this.Or,this.Vr,this.Ri),t},e.prototype.nn=function(t,e){if(e!==this.ki&&!this.ze())return[];for(var n=fT([],this.Ei,!0),i=0,r=this._e;i<r.length;i++){var s=r[i];n.push(s.zr())}return n},e.prototype.Re=function(t,e){var n=this;if(void 0!==this.zi.autoscaleInfoProvider){var i=this.zi.autoscaleInfoProvider((function(){var i=n.Ie(t,e);return null===i?null:i.Cr()}));return eI.Sr(i)}return this.Ie(t,e)},e.prototype.je=function(){return this.zi.priceFormat.minMove},e.prototype.qe=function(){return this.Ue},e.prototype.hn=function(){var t;this.Hi.vt(),this.Ri.vt();for(var e=0,n=this.Ei;e<n.length;e++)n[e].vt();for(var i=0,r=this._e;i<r.length;i++)r[i].vt();this.Or.vt(),this.de.vt(),null===(t=this.we)||void 0===t||t.vt()},e.prototype.Ct=function(){return Jk(t.prototype.Ct.call(this))},e.prototype.gt=function(t){if("Line"!==this.ge&&"Area"!==this.ge&&"Baseline"!==this.ge||!this.zi.crosshairMarkerVisible)return null;var e=this.Bt.Kr(t);return null===e?null:{et:e.St[3],st:this.He(),Tt:this.Ye(),Nt:this.$e(t)}},e.prototype.ar=function(){return this.zi.title},e.prototype.yt=function(){return this.zi.visible},e.prototype.ze=function(){return!GT(this.Ct().Ke())},e.prototype.Ie=function(t,e){if(!gT(t)||!gT(e)||this.Bt.wi())return null;var n="Line"===this.ge||"Area"===this.ge||"Baseline"===this.ge||"Histogram"===this.ge?[3]:[2,1],i=this.Bt.he(t,e,n),r=null!==i?new tI(i.ce,i.ve):null;if("Histogram"===this.Rr()){var s=this.zi.base,o=new tI(s,s);r=null!==r?r.Nn(o):o}return new eI(r,this.Ri.hr())},e.prototype.He=function(){switch(this.ge){case"Line":case"Area":case"Baseline":return this.zi.crosshairMarkerRadius}return 0},e.prototype.Ye=function(){switch(this.ge){case"Line":case"Area":case"Baseline":var t=this.zi.crosshairMarkerBorderColor;if(0!==t.length)return t}return null},e.prototype.$e=function(t){switch(this.ge){case"Line":case"Area":case"Baseline":var e=this.zi.crosshairMarkerBackgroundColor;if(0!==e.length)return e}return this.ls().As(t).Ds},e.prototype.ye=function(){switch(this.zi.priceFormat.type){case"custom":this.Ue={format:this.zi.priceFormat.formatter};break;case"volume":this.Ue=new YT(this.zi.priceFormat.precision);break;case"percent":this.Ue=new $T(this.zi.priceFormat.precision);break;default:var t=Math.pow(10,this.zi.priceFormat.precision);this.Ue=new XT(t,this.zi.priceFormat.minMove*t)}null!==this.ki&&this.ki.Xe()},e.prototype.De=function(){var t=this,e=this.jt().bt();if(e.wi()||0===this.Bt.hs())this.me=[];else{var n=Jk(this.Bt.Qr());this.me=this.be.map((function(i,r){var s=Jk(e.Ze(i.time,!0)),o=s<n?1:-1;return{time:Jk(t.Bt.ne(s,o)).vs,position:i.position,shape:i.shape,color:i.color,id:i.id,Xh:r,text:i.text,size:i.size}}))}},e.prototype.ke=function(){switch(this.Ri=new YC(this,this.jt()),this.ge){case"Bar":this.Hi=new dC(this,this.jt());break;case"Candlestick":this.Hi=new EC(this,this.jt());break;case"Line":this.Hi=new xC(this,this.jt());break;case"Area":this.Hi=new cC(this,this.jt());break;case"Baseline":this.Hi=new _C(this,this.jt());break;case"Histogram":this.Hi=new IC(this,this.jt());break;default:throw Error("Unknown chart style assigned: "+this.ge)}},e}(sI),hI=function(){function t(t){this.zi=t}return t.prototype.Je=function(t,e,n){var i=t;if(0===this.zi.mode)return i;var r=n.ji(),s=r.kt();if(null===s)return i;var o=r.xt(t,s),a=n.Ge().filter((function(t){return t instanceof cI})).reduce((function(t,i){if(n.lh(i)||!i.yt())return t;var r=i.Ct(),s=i.an();if(r.wi()||!s.Uh(e))return t;var o=s.Kr(e);if(null===o)return t;var a=Zk(i.kt());return t.concat([r.xt(o.St[3],a.St)])}),[]);if(0===a.length)return i;a.sort((function(t,e){return Math.abs(t-o)-Math.abs(e-o)}));var l=a[0];return r.qi(l,s)},t}(),fI=function(){function t(){this.Bt=null}return t.prototype.Z=function(t){this.Bt=t},t.prototype.H=function(t,e,n,i){var r=this;if(null!==this.Bt){var s=Math.max(1,Math.floor(e));t.lineWidth=s;var o=Math.ceil(this.Bt.Ot*e),a=Math.ceil(this.Bt.Ft*e);!function(t,e){t.save(),t.lineWidth%2&&t.translate(.5,.5),e(),t.restore()}(t,(function(){var n=Jk(r.Bt);if(n.Qe){t.strokeStyle=n.tu,Qk(t,n.iu),t.beginPath();for(var i=0,l=n.nu;i<l.length;i++){var u=l[i],c=Math.round(u.su*e);t.moveTo(c,-s),t.lineTo(c,o+s)}t.stroke()}if(n.hu){t.strokeStyle=n.ru,Qk(t,n.eu),t.beginPath();for(var h=0,f=n.uu;h<f.length;h++){var d=f[h],p=Math.round(d.su*e);t.moveTo(-s,p),t.lineTo(a+s,p)}t.stroke()}}))}},t}(),dI=function(){function t(t){this.zt=new fI,this.ft=!0,this.Di=t}return t.prototype.vt=function(){this.ft=!0},t.prototype.dt=function(t,e){if(this.ft){var n=this.Di.jt().W().grid,i={Ot:t,Ft:e,hu:n.horzLines.visible,Qe:n.vertLines.visible,ru:n.horzLines.color,tu:n.vertLines.color,eu:n.horzLines.style,iu:n.vertLines.style,uu:this.Di.ji().au(),nu:this.Di.jt().bt().au()||[]};this.zt.Z(i),this.ft=!1}return this.zt},t}(),pI=function(){function t(t){this.Hi=new dI(t)}return t.prototype.ou=function(){return this.Hi},t}(),mI={lu:4,fu:1e-4};function gI(t,e){var n=100*(t-e)/e;return e<0?-n:n}function vI(t,e){var n=gI(t.pr(),e),i=gI(t.gr(),e);return new tI(n,i)}function yI(t,e){var n=100*(t-e)/e+100;return e<0?-n:n}function wI(t,e){var n=yI(t.pr(),e),i=yI(t.gr(),e);return new tI(n,i)}function bI(t,e){var n=Math.abs(t);if(n<1e-15)return 0;var i=gC(n+e.fu)+e.lu;return t<0?-i:i}function _I(t,e){var n=Math.abs(t);if(n<1e-15)return 0;var i=Math.pow(10,n-e.lu)-e.fu;return t<0?-i:i}function SI(t,e){if(null===t)return null;var n=bI(t.pr(),e),i=bI(t.gr(),e);return new tI(n,i)}function EI(t,e){if(null===t)return null;var n=_I(t.pr(),e),i=_I(t.gr(),e);return new tI(n,i)}function kI(t){if(null===t)return mI;var e=Math.abs(t.gr()-t.pr());if(e>=1||e<1e-15)return mI;var n=Math.ceil(Math.abs(Math.log10(e))),i=mI.lu+n;return{lu:i,fu:1/Math.pow(10,i)}}var TI,CI=function(){function t(t,e){if(this.cu=t,this.vu=e,function(t){if(t<0)return!1;for(var e=t;e>1;e/=10)if(e%10!=0)return!1;return!0}(this.cu))this._u=[2,2.5,2];else{this._u=[];for(var n=this.cu;1!==n;){if(n%2==0)this._u.push(2),n/=2;else{if(n%5!=0)throw new Error("unexpected base");this._u.push(2,2.5),n/=5}if(this._u.length>100)throw new Error("something wrong with base")}}}return t.prototype.du=function(t,e,n){for(var i,r=0===this.cu?0:1/this.cu,s=Math.pow(10,Math.max(0,Math.ceil(gC(t-e)))),o=0,a=this.vu[0];;){var l=mC(s,r,1e-14)&&s>r+1e-14,u=mC(s,n*a,1e-14),c=mC(s,1,1e-14);if(!(l&&u&&c))break;s/=a,a=this.vu[++o%this.vu.length]}if(s<=r+1e-14&&(s=r),s=Math.max(1,s),this._u.length>0&&(i=s,1,1e-14,Math.abs(i-1)<1e-14))for(o=0,a=this._u[0];mC(s,n*a,1e-14)&&s>r+1e-14;)s/=a,a=this._u[++o%this._u.length];return s},t}(),II=function(){function t(t,e,n,i){this.wu=[],this._i=t,this.cu=e,this.Mu=n,this.bu=i}return t.prototype.du=function(t,e){if(t<e)throw new Error("high < low");var n=this._i.Yt(),i=(t-e)*this.mu()/n,r=new CI(this.cu,[2,2.5,2]),s=new CI(this.cu,[2,2,2.5]),o=new CI(this.cu,[2.5,2,2]),a=[];return a.push(r.du(t,e,i),s.du(t,e,i),o.du(t,e,i)),function(t){if(t.length<1)throw Error("array is empty");for(var e=t[0],n=1;n<t.length;++n)t[n]<e&&(e=t[n]);return e}(a)},t.prototype.pu=function(){var t=this._i,e=t.kt();if(null!==e){var n=t.Yt(),i=this.Mu(n-1,e),r=this.Mu(0,e),s=this._i.W().entireTextOnly?this.gu()/2:0,o=s,a=n-1-s,l=Math.max(i,r),u=Math.min(i,r);if(l!==u){for(var c=this.du(l,u),h=l%c,f=l>=u?1:-1,d=null,p=0,m=l-(h+=h<0?c:0);m>u;m-=c){var g=this.bu(m,e,!0);null!==d&&Math.abs(g-d)<this.mu()||g<o||g>a||(p<this.wu.length?(this.wu[p].su=g,this.wu[p].yu=t.ku(m)):this.wu.push({su:g,yu:t.ku(m)}),p++,d=g,t.Nu()&&(c=this.du(m*f,u)))}this.wu.length=p}else this.wu=[]}else this.wu=[]},t.prototype.au=function(){return this.wu},t.prototype.gu=function(){return this._i.S()},t.prototype.mu=function(){return Math.ceil(2.5*this.gu())},t}();function xI(t){return t.slice().sort((function(t,e){return Jk(t.xi())-Jk(e.xi())}))}!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(TI||(TI={}));var MI=new $T,NI=new XT(100,1),OI=function(){function t(t,e,n,i){this.xu=0,this.Cu=null,this.Tr=null,this.Su=null,this.Tu={Du:!1,Au:null},this.Bu=0,this.Lu=0,this.Eu=new dT,this.Fu=new dT,this.Ou=[],this.Vu=null,this.Pu=null,this.Wu=null,this.zu=null,this.Ue=NI,this.Ru=kI(null),this.Iu=t,this.zi=e,this.ju=n,this.qu=i,this.Uu=new II(this,100,this.Hu.bind(this),this.Yu.bind(this))}return t.prototype.Ke=function(){return this.Iu},t.prototype.W=function(){return this.zi},t.prototype.Pr=function(t){if(pT(this.zi,t),this.Xe(),void 0!==t.mode&&this.$u({mh:t.mode}),void 0!==t.scaleMargins){var e=Yk(t.scaleMargins.top),n=Yk(t.scaleMargins.bottom);if(e<0||e>1)throw new Error("Invalid top margin - expect value between 0 and 1, given=".concat(e));if(n<0||n>1||e+n>1)throw new Error("Invalid bottom margin - expect value between 0 and 1, given=".concat(n));if(e+n>1)throw new Error("Invalid margins - sum of margins must be less than 1, given=".concat(e+n));this.Ku(),this.Pu=null}},t.prototype.Xu=function(){return this.zi.autoScale},t.prototype.Nu=function(){return 1===this.zi.mode},t.prototype.vr=function(){return 2===this.zi.mode},t.prototype.Zu=function(){return 3===this.zi.mode},t.prototype.mh=function(){return{_n:this.zi.autoScale,Ju:this.zi.invertScale,mh:this.zi.mode}},t.prototype.$u=function(t){var e=this.mh(),n=null;void 0!==t._n&&(this.zi.autoScale=t._n),void 0!==t.mh&&(this.zi.mode=t.mh,2!==t.mh&&3!==t.mh||(this.zi.autoScale=!0),this.Tu.Du=!1),1===e.mh&&t.mh!==e.mh&&(function(t,e){if(null===t)return!1;var n=_I(t.pr(),e),i=_I(t.gr(),e);return isFinite(n)&&isFinite(i)}(this.Tr,this.Ru)?null!==(n=EI(this.Tr,this.Ru))&&this.Gu(n):this.zi.autoScale=!0),1===t.mh&&t.mh!==e.mh&&null!==(n=SI(this.Tr,this.Ru))&&this.Gu(n);var i=e.mh!==this.zi.mode;i&&(2===e.mh||this.vr())&&this.Xe(),i&&(3===e.mh||this.Zu())&&this.Xe(),void 0!==t.Ju&&e.Ju!==t.Ju&&(this.zi.invertScale=t.Ju,this.Qu()),this.Fu.m(e,this.mh())},t.prototype.ta=function(){return this.Fu},t.prototype.S=function(){return this.ju.fontSize},t.prototype.Yt=function(){return this.xu},t.prototype.ia=function(t){this.xu!==t&&(this.xu=t,this.Ku(),this.Pu=null)},t.prototype.na=function(){if(this.Cu)return this.Cu;var t=this.Yt()-this.sa()-this.ha();return this.Cu=t,t},t.prototype.Ar=function(){return this.ra(),this.Tr},t.prototype.Gu=function(t,e){var n=this.Tr;(e||null===n&&null!==t||null!==n&&!n.br(t))&&(this.Pu=null,this.Tr=t)},t.prototype.wi=function(){return this.ra(),0===this.xu||!this.Tr||this.Tr.wi()},t.prototype.ea=function(t){return this.Ju()?t:this.Yt()-1-t},t.prototype.xt=function(t,e){return this.vr()?t=gI(t,e):this.Zu()&&(t=yI(t,e)),this.Yu(t,e)},t.prototype.us=function(t,e,n){this.ra();for(var i=this.ha(),r=Jk(this.Ar()),s=r.pr(),o=r.gr(),a=this.na()-1,l=this.Ju(),u=a/(o-s),c=void 0===n?0:n.from,h=void 0===n?t.length:n.to,f=this.ua(),d=c;d<h;d++){var p=t[d],m=p.et;if(!isNaN(m)){var g=m;null!==f&&(g=f(p.et,e));var v=i+u*(g-s),y=l?v:this.xu-1-v;p.it=y}}},t.prototype.Ss=function(t,e,n){this.ra();for(var i=this.ha(),r=Jk(this.Ar()),s=r.pr(),o=r.gr(),a=this.na()-1,l=this.Ju(),u=a/(o-s),c=void 0===n?0:n.from,h=void 0===n?t.length:n.to,f=this.ua(),d=c;d<h;d++){var p=t[d],m=p.open,g=p.high,v=p.low,y=p.close;null!==f&&(m=f(p.open,e),g=f(p.high,e),v=f(p.low,e),y=f(p.close,e));var w=i+u*(m-s),b=l?w:this.xu-1-w;p.xs=b,w=i+u*(g-s),b=l?w:this.xu-1-w,p.ys=b,w=i+u*(v-s),b=l?w:this.xu-1-w,p.ks=b,w=i+u*(y-s),b=l?w:this.xu-1-w,p.Cs=b}},t.prototype.qi=function(t,e){var n=this.Hu(t,e);return this.aa(n,e)},t.prototype.aa=function(t,e){var n=t;return this.vr()?n=function(t,e){return e<0&&(t=-t),t/100*e+e}(n,e):this.Zu()&&(n=function(t,e){return t-=100,e<0&&(t=-t),t/100*e+e}(n,e)),n},t.prototype.Ge=function(){return this.Ou},t.prototype.oa=function(){if(this.Vu)return this.Vu;for(var t=[],e=0;e<this.Ou.length;e++){var n=this.Ou[e];null===n.xi()&&n.Ci(e+1),t.push(n)}return t=xI(t),this.Vu=t,this.Vu},t.prototype.la=function(t){-1===this.Ou.indexOf(t)&&(this.Ou.push(t),this.Xe(),this.fa())},t.prototype.ca=function(t){var e=this.Ou.indexOf(t);if(-1===e)throw new Error("source is not attached to scale");this.Ou.splice(e,1),0===this.Ou.length&&(this.$u({_n:!0}),this.Gu(null)),this.Xe(),this.fa()},t.prototype.kt=function(){for(var t=null,e=0,n=this.Ou;e<n.length;e++){var i=n[e].kt();null!==i&&(null===t||i.Ve<t.Ve)&&(t=i)}return null===t?null:t.St},t.prototype.Ju=function(){return this.zi.invertScale},t.prototype.au=function(){var t=null===this.kt();if(null!==this.Pu&&(t||this.Pu.va===t))return this.Pu.au;this.Uu.pu();var e=this.Uu.au();return this.Pu={au:e,va:t},this.Eu.m(),e},t.prototype._a=function(){return this.Eu},t.prototype.da=function(t){this.vr()||this.Zu()||null===this.Wu&&null===this.Su&&(this.wi()||(this.Wu=this.xu-t,this.Su=Jk(this.Ar()).mr()))},t.prototype.wa=function(t){if(!this.vr()&&!this.Zu()&&null!==this.Wu){this.$u({_n:!1}),(t=this.xu-t)<0&&(t=0);var e=(this.Wu+.2*(this.xu-1))/(t+.2*(this.xu-1)),n=Jk(this.Su).mr();e=Math.max(e,.1),n.kr(e),this.Gu(n)}},t.prototype.Ma=function(){this.vr()||this.Zu()||(this.Wu=null,this.Su=null)},t.prototype.ba=function(t){this.Xu()||null===this.zu&&null===this.Su&&(this.wi()||(this.zu=t,this.Su=Jk(this.Ar()).mr()))},t.prototype.ma=function(t){if(!this.Xu()&&null!==this.zu){var e=Jk(this.Ar()).yr()/(this.na()-1),n=t-this.zu;this.Ju()&&(n*=-1);var i=n*e,r=Jk(this.Su).mr();r.Nr(i),this.Gu(r,!0),this.Pu=null}},t.prototype.pa=function(){this.Xu()||null!==this.zu&&(this.zu=null,this.Su=null)},t.prototype.qe=function(){return this.Ue||this.Xe(),this.Ue},t.prototype.Mi=function(t,e){switch(this.zi.mode){case 2:return this.qe().format(gI(t,e));case 3:return this.qe().format(yI(t,e));default:return this.ga(t)}},t.prototype.ku=function(t){switch(this.zi.mode){case 2:case 3:return this.qe().format(t);default:return this.ga(t)}},t.prototype.Fr=function(t){return this.ga(t,Jk(this.ya()).qe())},t.prototype.Ne=function(t,e){return t=gI(t,e),MI.format(t)},t.prototype.ka=function(){return this.Ou},t.prototype.Na=function(t){this.Tu={Au:t,Du:!1}},t.prototype.hn=function(){this.Ou.forEach((function(t){return t.hn()}))},t.prototype.Xe=function(){this.Pu=null;var t=this.ya(),e=100;null!==t&&(e=Math.round(1/t.je())),this.Ue=NI,this.vr()?(this.Ue=MI,e=100):this.Zu()?(this.Ue=new XT(100,1),e=100):null!==t&&(this.Ue=t.qe()),this.Uu=new II(this,e,this.Hu.bind(this),this.Yu.bind(this)),this.Uu.pu()},t.prototype.fa=function(){this.Vu=null},t.prototype.ya=function(){return this.Ou[0]||null},t.prototype.sa=function(){return this.Ju()?this.zi.scaleMargins.bottom*this.Yt()+this.Lu:this.zi.scaleMargins.top*this.Yt()+this.Bu},t.prototype.ha=function(){return this.Ju()?this.zi.scaleMargins.top*this.Yt()+this.Bu:this.zi.scaleMargins.bottom*this.Yt()+this.Lu},t.prototype.ra=function(){this.Tu.Du||(this.Tu.Du=!0,this.xa())},t.prototype.Ku=function(){this.Cu=null},t.prototype.Yu=function(t,e){if(this.ra(),this.wi())return 0;t=this.Nu()&&t?bI(t,this.Ru):t;var n=Jk(this.Ar()),i=this.ha()+(this.na()-1)*(t-n.pr())/n.yr();return this.ea(i)},t.prototype.Hu=function(t,e){if(this.ra(),this.wi())return 0;var n=this.ea(t),i=Jk(this.Ar()),r=i.pr()+i.yr()*((n-this.ha())/(this.na()-1));return this.Nu()?_I(r,this.Ru):r},t.prototype.Qu=function(){this.Pu=null,this.Uu.pu()},t.prototype.xa=function(){var t=this.Tu.Au;if(null!==t){for(var e,n,i=null,r=0,s=0,o=0,a=this.ka();o<a.length;o++){var l=a[o];if(l.yt()){var u=l.kt();if(null!==u){var c=l.Re(t.In(),t.jn()),h=c&&c.Ar();if(null!==h){switch(this.zi.mode){case 1:h=SI(h,this.Ru);break;case 2:h=vI(h,u.St);break;case 3:h=wI(h,u.St)}if(i=null===i?h:i.Nn(Jk(h)),null!==c){var f=c.Br();null!==f&&(r=Math.max(r,f.above),s=Math.max(r,f.below))}}}}}if(r===this.Bu&&s===this.Lu||(this.Bu=r,this.Lu=s,this.Pu=null,this.Ku()),null!==i){if(i.pr()===i.gr()){var d=this.ya(),p=5*(null===d||this.vr()||this.Zu()?1:d.je());this.Nu()&&(i=EI(i,this.Ru)),i=new tI(i.pr()-p,i.gr()+p),this.Nu()&&(i=SI(i,this.Ru))}if(this.Nu()){var m=EI(i,this.Ru),g=kI(m);if(e=g,n=this.Ru,e.lu!==n.lu||e.fu!==n.fu){var v=null!==this.Su?EI(this.Su,this.Ru):null;this.Ru=g,i=SI(m,g),null!==v&&(this.Su=SI(v,g))}}this.Gu(i)}else null===this.Tr&&(this.Gu(new tI(-.5,.5)),this.Ru=kI(null));this.Tu.Du=!0}},t.prototype.ua=function(){var t=this;return this.vr()?gI:this.Zu()?yI:this.Nu()?function(e){return bI(e,t.Ru)}:null},t.prototype.ga=function(t,e){return void 0===this.qu.priceFormatter?(void 0===e&&(e=this.qe()),e.format(t)):this.qu.priceFormatter(t)},t}(),PI=function(){function t(t,e){this.Ou=[],this.Ca=new Map,this.xu=0,this.hh=0,this.Sa=1e3,this.Vu=null,this.Ta=new dT,this.Da=t,this.pi=e,this.Aa=new pI(this);var n=e.W();this.Ba=this.La("left",n.leftPriceScale),this.Ea=this.La("right",n.rightPriceScale),this.Ba.ta().u(this.Fa.bind(this,this.Ba),this),this.Ea.ta().u(this.Fa.bind(this,this.Ba),this),this.Oa(n)}return t.prototype.Oa=function(t){if(t.leftPriceScale&&this.Ba.Pr(t.leftPriceScale),t.rightPriceScale&&this.Ea.Pr(t.rightPriceScale),t.localization&&(this.Ba.Xe(),this.Ea.Xe()),t.overlayPriceScales)for(var e=0,n=Array.from(this.Ca.values());e<n.length;e++){var i=Jk(n[e][0].Ct());i.Pr(t.overlayPriceScales),t.localization&&i.Xe()}},t.prototype.Va=function(t){switch(t){case"left":return this.Ba;case"right":return this.Ea}return this.Ca.has(t)?Yk(this.Ca.get(t))[0].Ct():null},t.prototype.g=function(){this.jt().Pa().M(this),this.Ba.ta().M(this),this.Ea.ta().M(this),this.Ou.forEach((function(t){t.g&&t.g()})),this.Ta.m()},t.prototype.Wa=function(){return this.Sa},t.prototype.za=function(t){this.Sa=t},t.prototype.jt=function(){return this.pi},t.prototype.Ht=function(){return this.hh},t.prototype.Yt=function(){return this.xu},t.prototype.Ra=function(t){this.hh=t,this.Ia()},t.prototype.ia=function(t){var e=this;this.xu=t,this.Ba.ia(t),this.Ea.ia(t),this.Ou.forEach((function(n){if(e.lh(n)){var i=n.Ct();null!==i&&i.ia(t)}})),this.Ia()},t.prototype.Ge=function(){return this.Ou},t.prototype.lh=function(t){var e=t.Ct();return null===e||this.Ba!==e&&this.Ea!==e},t.prototype.la=function(t,e,n){var i=void 0!==n?n:this.qa().ja+1;this.Ua(t,e,i)},t.prototype.ca=function(t){var e=this.Ou.indexOf(t);$k(-1!==e,"removeDataSource: invalid data source"),this.Ou.splice(e,1);var n=Jk(t.Ct()).Ke();if(this.Ca.has(n)){var i=Yk(this.Ca.get(n)),r=i.indexOf(t);-1!==r&&(i.splice(r,1),0===i.length&&this.Ca.delete(n))}var s=t.Ct();s&&s.Ge().indexOf(t)>=0&&s.ca(t),null!==s&&(s.fa(),this.Ha(s)),this.Vu=null},t.prototype._h=function(t){return t===this.Ba?"left":t===this.Ea?"right":"overlay"},t.prototype.Ya=function(){return this.Ba},t.prototype.$a=function(){return this.Ea},t.prototype.Ka=function(t,e){t.da(e)},t.prototype.Xa=function(t,e){t.wa(e),this.Ia()},t.prototype.Za=function(t){t.Ma()},t.prototype.Ja=function(t,e){t.ba(e)},t.prototype.Ga=function(t,e){t.ma(e),this.Ia()},t.prototype.Qa=function(t){t.pa()},t.prototype.Ia=function(){this.Ou.forEach((function(t){t.hn()}))},t.prototype.ji=function(){var t=null;return this.pi.W().rightPriceScale.visible&&0!==this.Ea.Ge().length?t=this.Ea:this.pi.W().leftPriceScale.visible&&0!==this.Ba.Ge().length?t=this.Ba:0!==this.Ou.length&&(t=this.Ou[0].Ct()),null===t&&(t=this.Ea),t},t.prototype.fh=function(){var t=null;return this.pi.W().rightPriceScale.visible?t=this.Ea:this.pi.W().leftPriceScale.visible&&(t=this.Ba),t},t.prototype.Ha=function(t){null!==t&&t.Xu()&&this.io(t)},t.prototype.no=function(t){var e=this.Da.ss();t.$u({_n:!0}),null!==e&&t.Na(e),this.Ia()},t.prototype.so=function(){this.io(this.Ba),this.io(this.Ea)},t.prototype.ho=function(){var t=this;this.Ha(this.Ba),this.Ha(this.Ea),this.Ou.forEach((function(e){t.lh(e)&&t.Ha(e.Ct())})),this.Ia(),this.pi.Wr()},t.prototype.oa=function(){return null===this.Vu&&(this.Vu=xI(this.Ou)),this.Vu},t.prototype.ro=function(){return this.Ta},t.prototype.eo=function(){return this.Aa},t.prototype.io=function(t){var e=t.ka();if(e&&e.length>0&&!this.Da.wi()){var n=this.Da.ss();null!==n&&t.Na(n)}t.hn()},t.prototype.qa=function(){var t=this.oa();if(0===t.length)return{uo:0,ja:0};for(var e=0,n=0,i=0;i<t.length;i++){var r=t[i].xi();null!==r&&(r<e&&(e=r),r>n&&(n=r))}return{uo:e,ja:n}},t.prototype.Ua=function(t,e,n){var i=this.Va(e);if(null===i&&(i=this.La(e,this.pi.W().overlayPriceScales)),this.Ou.push(t),!GT(e)){var r=this.Ca.get(e)||[];r.push(t),this.Ca.set(e,r)}i.la(t),t.Si(i),t.Ci(n),this.Ha(i),this.Vu=null},t.prototype.Fa=function(t,e,n){e.mh!==n.mh&&this.io(t)},t.prototype.La=function(t,e){var n=hT({visible:!0,autoScale:!0},wT(e)),i=new OI(t,n,this.pi.W().layout,this.pi.W().localization);return i.ia(this.Yt()),i},t}(),AI=function(t){return t.getUTCFullYear()};var DI=function(){function t(t,e){void 0===t&&(t="yyyy-MM-dd"),void 0===e&&(e="default"),this.ao=t,this.oo=e}return t.prototype.lo=function(t){return function(t,e,n){return e.replace(/yyyy/g,function(t){return QT(AI(t),4)}(t)).replace(/yy/g,function(t){return QT(AI(t)%100,2)}(t)).replace(/MMMM/g,function(t,e){return new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"long"})}(t,n)).replace(/MMM/g,function(t,e){return new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"short"})}(t,n)).replace(/MM/g,function(t){return QT(function(t){return t.getUTCMonth()+1}(t),2)}(t)).replace(/dd/g,function(t){return QT(function(t){return t.getUTCDate()}(t),2)}(t))}(t,this.ao,this.oo)},t}(),RI=function(){function t(t){this.fo=t||"%h:%m:%s"}return t.prototype.lo=function(t){return this.fo.replace("%h",QT(t.getUTCHours(),2)).replace("%m",QT(t.getUTCMinutes(),2)).replace("%s",QT(t.getUTCSeconds(),2))},t}(),LI={co:"yyyy-MM-dd",vo:"%h:%m:%s",_o:" ",do:"default"},jI=function(){function t(t){void 0===t&&(t={});var e=hT(hT({},LI),t);this.wo=new DI(e.co,e.do),this.Mo=new RI(e.vo),this.bo=e._o}return t.prototype.lo=function(t){return"".concat(this.wo.lo(t)).concat(this.bo).concat(this.Mo.lo(t))},t}(),FI=function(){function t(t,e){void 0===e&&(e=50),this.mo=0,this.po=1,this.yo=1,this.Gs=new Map,this.ko=new Map,this.No=t,this.xo=e}return t.prototype.lo=function(t){var e=void 0===t.Co?new Date(1e3*t.So).getTime():new Date(Date.UTC(t.Co.year,t.Co.month-1,t.Co.day)).getTime(),n=this.Gs.get(e);if(void 0!==n)return n.To;if(this.mo===this.xo){var i=this.ko.get(this.yo);this.ko.delete(this.yo),this.Gs.delete(Yk(i)),this.yo++,this.mo--}var r=this.No(t);return this.Gs.set(e,{To:r,Do:this.po}),this.ko.set(this.po,e),this.mo++,this.po++,r},t}(),VI=function(){function t(t,e){$k(t<=e,"right should be >= left"),this.Ao=t,this.Bo=e}return t.prototype.In=function(){return this.Ao},t.prototype.jn=function(){return this.Bo},t.prototype.Lo=function(){return this.Bo-this.Ao+1},t.prototype.Uh=function(t){return this.Ao<=t&&t<=this.Bo},t.prototype.br=function(t){return this.Ao===t.In()&&this.Bo===t.jn()},t}();function zI(t,e){return null===t||null===e?t===e:t.br(e)}var UI,BI=function(){function t(){this.Eo=new Map,this.Gs=null}return t.prototype.Fo=function(t,e){this.Oo(e),this.Gs=null;for(var n=e;n<t.length;++n){var i=t[n],r=this.Eo.get(i.Vo);void 0===r&&(r=[],this.Eo.set(i.Vo,r)),r.push({vs:n,rt:i.rt,Po:i.Vo})}},t.prototype.Wo=function(t,e){var n=Math.ceil(e/t);return null!==this.Gs&&this.Gs.zo===n||(this.Gs={au:this.Ro(n),zo:n}),this.Gs.au},t.prototype.Oo=function(t){if(0!==t){var e=[];this.Eo.forEach((function(n,i){t<=n[0].vs?e.push(i):n.splice(iC(n,t,(function(e){return e.vs<t})),1/0)}));for(var n=0,i=e;n<i.length;n++){var r=i[n];this.Eo.delete(r)}}else this.Eo.clear()},t.prototype.Ro=function(t){for(var e=[],n=0,i=Array.from(this.Eo.keys()).sort((function(t,e){return e-t}));n<i.length;n++){var r=i[n];if(this.Eo.get(r)){var s=e;e=[];for(var o=s.length,a=0,l=Yk(this.Eo.get(r)),u=l.length,c=1/0,h=-1/0,f=0;f<u;f++){for(var d=l[f],p=d.vs;a<o;){var m=s[a],g=m.vs;if(!(g<p)){c=g;break}a++,e.push(m),h=g,c=1/0}c-p>=t&&p-h>=t&&(e.push(d),h=p)}for(;a<o;a++)e.push(s[a])}}return e},t}(),WI=function(){function t(t){this.Io=t}return t.prototype.jo=function(){return null===this.Io?null:new VI(Math.floor(this.Io.In()),Math.ceil(this.Io.jn()))},t.prototype.qo=function(){return this.Io},t.Uo=function(){return new t(null)},t}();!function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(UI||(UI={}));var qI,HI=function(){function t(t,e,n){this.hh=0,this.Ho=null,this.Yo=[],this.zu=null,this.Wu=null,this.$o=new BI,this.Ko=new Map,this.Xo=WI.Uo(),this.Zo=!0,this.Jo=new dT,this.Go=new dT,this.Qo=new dT,this.tl=null,this.il=null,this.nl=[],this.zi=e,this.qu=n,this.sl=e.rightOffset,this.hl=e.barSpacing,this.pi=t,this.rl()}return t.prototype.W=function(){return this.zi},t.prototype.el=function(t){pT(this.qu,t),this.ul(),this.rl()},t.prototype.Pr=function(t,e){var n;pT(this.zi,t),this.zi.fixLeftEdge&&this.al(),this.zi.fixRightEdge&&this.ol(),void 0!==t.barSpacing&&this.pi.gn(t.barSpacing),void 0!==t.rightOffset&&this.pi.yn(t.rightOffset),void 0!==t.minBarSpacing&&this.pi.gn(null!==(n=t.barSpacing)&&void 0!==n?n:this.hl),this.ul(),this.rl(),this.Qo.m()},t.prototype.gi=function(t){var e;return(null===(e=this.Yo[t])||void 0===e?void 0:e.rt)||null},t.prototype.Ze=function(t,e){if(this.Yo.length<1)return null;if(t.So>this.Yo[this.Yo.length-1].rt.So)return e?this.Yo.length-1:null;var n=iC(this.Yo,t.So,(function(t,e){return t.rt.So<e}));return t.So<this.Yo[n].rt.So?e?n:null:n},t.prototype.wi=function(){return 0===this.hh||0===this.Yo.length||null===this.Ho},t.prototype.ss=function(){return this.ll(),this.Xo.jo()},t.prototype.fl=function(){return this.ll(),this.Xo.qo()},t.prototype.cl=function(){var t=this.ss();if(null===t)return null;var e={from:t.In(),to:t.jn()};return this.vl(e)},t.prototype.vl=function(t){var e=Math.round(t.from),n=Math.round(t.to),i=Jk(this._l()),r=Jk(this.dl());return{from:Jk(this.gi(Math.max(i,e))),to:Jk(this.gi(Math.min(r,n)))}},t.prototype.wl=function(t){return{from:Jk(this.Ze(t.from,!0)),to:Jk(this.Ze(t.to,!0))}},t.prototype.Ht=function(){return this.hh},t.prototype.Ra=function(t){if(isFinite(t)&&!(t<=0)&&this.hh!==t){if(this.zi.lockVisibleTimeRangeOnResize&&this.hh){var e=this.hl*t/this.hh;this.hl=e}if(this.zi.fixLeftEdge){var n=this.ss();if(null!==n&&n.In()<=0){var i=this.hh-t;this.sl-=Math.round(i/this.hl)+1}}this.hh=t,this.Zo=!0,this.Ml(),this.bl()}},t.prototype.At=function(t){if(this.wi()||!gT(t))return 0;var e=this.ml()+this.sl-t;return this.hh-(e+.5)*this.hl-1},t.prototype.es=function(t,e){for(var n=this.ml(),i=void 0===e?0:e.from,r=void 0===e?t.length:e.to,s=i;s<r;s++){var o=t[s].rt,a=n+this.sl-o,l=this.hh-(a+.5)*this.hl-1;t[s].tt=l}},t.prototype.pl=function(t){return Math.ceil(this.gl(t))},t.prototype.yn=function(t){this.Zo=!0,this.sl=t,this.bl(),this.pi.yl(),this.pi.Wr()},t.prototype.ws=function(){return this.hl},t.prototype.gn=function(t){this.kl(t),this.bl(),this.pi.yl(),this.pi.Wr()},t.prototype.Nl=function(){return this.sl},t.prototype.au=function(){if(this.wi())return null;if(null!==this.il)return this.il;for(var t=this.hl,e=5*(this.pi.W().layout.fontSize+4),n=Math.round(e/t),i=Jk(this.ss()),r=Math.max(i.In(),i.In()-n),s=Math.max(i.jn(),i.jn()-n),o=this.$o.Wo(t,e),a=this._l()+n,l=this.dl()-n,u=this.xl(),c=this.zi.fixLeftEdge||u,h=this.zi.fixRightEdge||u,f=0,d=0,p=o;d<p.length;d++){var m=p[d];if(r<=m.vs&&m.vs<=s){var g=void 0;f<this.nl.length?((g=this.nl[f]).su=this.At(m.vs),g.yu=this.Cl(m.rt,m.Po),g.Po=m.Po):(g={Sl:!1,su:this.At(m.vs),yu:this.Cl(m.rt,m.Po),Po:m.Po},this.nl.push(g)),this.hl>e/2&&!u?g.Sl=!1:g.Sl=c&&m.vs<=a||h&&m.vs>=l,f++}}return this.nl.length=f,this.il=this.nl,this.nl},t.prototype.Tl=function(){this.Zo=!0,this.gn(this.zi.barSpacing),this.yn(this.zi.rightOffset)},t.prototype.Dl=function(t){this.Zo=!0,this.Ho=t,this.bl(),this.al()},t.prototype.Al=function(t,e){var n=this.gl(t),i=this.ws(),r=i+e*(i/10);this.gn(r),this.zi.rightBarStaysOnScroll||this.yn(this.Nl()+(n-this.gl(t)))},t.prototype.da=function(t){this.zu&&this.pa(),null===this.Wu&&null===this.tl&&(this.wi()||(this.Wu=t,this.Bl()))},t.prototype.wa=function(t){if(null!==this.tl){var e=pC(this.hh-t,0,this.hh),n=pC(this.hh-Jk(this.Wu),0,this.hh);0!==e&&0!==n&&this.gn(this.tl.ws*e/n)}},t.prototype.Ma=function(){null!==this.Wu&&(this.Wu=null,this.Ll())},t.prototype.ba=function(t){null===this.zu&&null===this.tl&&(this.wi()||(this.zu=t,this.Bl()))},t.prototype.ma=function(t){if(null!==this.zu){var e=(this.zu-t)/this.ws();this.sl=Jk(this.tl).Nl+e,this.Zo=!0,this.bl()}},t.prototype.pa=function(){null!==this.zu&&(this.zu=null,this.Ll())},t.prototype.El=function(){this.Fl(this.zi.rightOffset)},t.prototype.Fl=function(t,e){var n=this;if(void 0===e&&(e=400),!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");var i=this.sl,r=performance.now(),s=function(){var o=(performance.now()-r)/e,a=o>=1,l=a?t:i+(t-i)*o;n.yn(l),a||setTimeout(s,20)};s()},t.prototype.vt=function(t,e){this.Zo=!0,this.Yo=t,this.$o.Fo(t,e),this.bl()},t.prototype.Ol=function(){return this.Jo},t.prototype.Vl=function(){return this.Go},t.prototype.Pl=function(){return this.Qo},t.prototype.ml=function(){return this.Ho||0},t.prototype.Wl=function(t){var e=t.Lo();this.kl(this.hh/e),this.sl=t.jn()-this.ml(),this.bl(),this.Zo=!0,this.pi.yl(),this.pi.Wr()},t.prototype.zl=function(){var t=this._l(),e=this.dl();null!==t&&null!==e&&this.Wl(new VI(t,e+this.zi.rightOffset))},t.prototype.Rl=function(t){var e=new VI(t.from,t.to);this.Wl(e)},t.prototype.yi=function(t){return void 0!==this.qu.timeFormatter?this.qu.timeFormatter(t.Co||t.So):this.Il.lo(new Date(1e3*t.So))},t.prototype.xl=function(){var t=this.pi.W(),e=t.handleScroll,n=t.handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||n.axisDoubleClickReset||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)},t.prototype._l=function(){return 0===this.Yo.length?null:0},t.prototype.dl=function(){return 0===this.Yo.length?null:this.Yo.length-1},t.prototype.jl=function(t){return(this.hh-1-t)/this.hl},t.prototype.gl=function(t){var e=this.jl(t),n=this.ml()+this.sl-e;return Math.round(1e6*n)/1e6},t.prototype.kl=function(t){var e=this.hl;this.hl=t,this.Ml(),e!==this.hl&&(this.Zo=!0,this.ql())},t.prototype.ll=function(){if(this.Zo)if(this.Zo=!1,this.wi())this.Ul(WI.Uo());else{var t=this.ml(),e=this.hh/this.hl,n=this.sl+t,i=new VI(n-e+1,n);this.Ul(new WI(i))}},t.prototype.Ml=function(){var t=this.Hl();if(this.hl<t&&(this.hl=t,this.Zo=!0),0!==this.hh){var e=.5*this.hh;this.hl>e&&(this.hl=e,this.Zo=!0)}},t.prototype.Hl=function(){return this.zi.fixLeftEdge&&this.zi.fixRightEdge&&0!==this.Yo.length?this.hh/this.Yo.length:this.zi.minBarSpacing},t.prototype.bl=function(){var t=this.Yl();this.sl>t&&(this.sl=t,this.Zo=!0);var e=this.$l();null!==e&&this.sl<e&&(this.sl=e,this.Zo=!0)},t.prototype.$l=function(){var t=this._l(),e=this.Ho;return null===t||null===e?null:t-e-1+(this.zi.fixLeftEdge?this.hh/this.hl:Math.min(2,this.Yo.length))},t.prototype.Yl=function(){return this.zi.fixRightEdge?0:this.hh/this.hl-Math.min(2,this.Yo.length)},t.prototype.Bl=function(){this.tl={ws:this.ws(),Nl:this.Nl()}},t.prototype.Ll=function(){this.tl=null},t.prototype.Cl=function(t,e){var n=this,i=this.Ko.get(e);return void 0===i&&(i=new FI((function(t){return n.Kl(t,e)})),this.Ko.set(e,i)),i.lo(t)},t.prototype.Kl=function(t,e){var n,i=function(t,e,n){switch(t){case 0:case 10:return e?n?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return e?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e,this.zi.timeVisible,this.zi.secondsVisible);return void 0!==this.zi.tickMarkFormatter?this.zi.tickMarkFormatter(null!==(n=t.Co)&&void 0!==n?n:t.So,i,this.qu.locale):function(t,e,n){var i={};switch(e){case 0:i.year="numeric";break;case 1:i.month="short";break;case 2:i.day="numeric";break;case 3:i.hour12=!1,i.hour="2-digit",i.minute="2-digit";break;case 4:i.hour12=!1,i.hour="2-digit",i.minute="2-digit",i.second="2-digit"}var r=void 0===t.Co?new Date(1e3*t.So):new Date(Date.UTC(t.Co.year,t.Co.month-1,t.Co.day));return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()).toLocaleString(n,i)}(t,i,this.qu.locale)},t.prototype.Ul=function(t){var e=this.Xo;this.Xo=t,zI(e.jo(),this.Xo.jo())||this.Jo.m(),zI(e.qo(),this.Xo.qo())||this.Go.m(),this.ql()},t.prototype.ql=function(){this.il=null},t.prototype.ul=function(){this.ql(),this.Ko.clear()},t.prototype.rl=function(){var t=this.qu.dateFormat;this.zi.timeVisible?this.Il=new jI({co:t,vo:this.zi.secondsVisible?"%h:%m:%s":"%h:%m",_o:"   ",do:this.qu.locale}):this.Il=new DI(t,this.qu.locale)},t.prototype.al=function(){if(this.zi.fixLeftEdge){var t=this._l();if(null!==t){var e=this.ss();if(null!==e){var n=e.In()-t;if(n<0){var i=this.sl-n-1;this.yn(i)}this.Ml()}}}},t.prototype.ol=function(){this.bl(),this.Ml()},t}(),GI=function(t){function e(e){var n=t.call(this)||this;return n.Xl=new Map,n.Bt=e,n}return cT(e,t),e.prototype.Y=function(t){},e.prototype.K=function(t){if(this.Bt.yt){t.save();for(var e=0,n=0,i=this.Bt.Zl;n<i.length;n++)if(0!==(l=i[n]).Gt.length){t.font=l.T;var r=this.Jl(t,l.Gt);r>this.Bt.Ht?l.Al=this.Bt.Ht/r:l.Al=1,e+=l.Gl*l.Al}var s=0;switch(this.Bt.Ql){case"top":s=0;break;case"center":s=Math.max((this.Bt.Yt-e)/2,0);break;case"bottom":s=Math.max(this.Bt.Yt-e,0)}t.fillStyle=this.Bt.A;for(var o=0,a=this.Bt.Zl;o<a.length;o++){var l=a[o];t.save();var u=0;switch(this.Bt.tf){case"left":t.textAlign="left",u=l.Gl/2;break;case"center":t.textAlign="center",u=this.Bt.Ht/2;break;case"right":t.textAlign="right",u=this.Bt.Ht-1-l.Gl/2}t.translate(u,s),t.textBaseline="top",t.font=l.T,t.scale(l.Al,l.Al),t.fillText(l.Gt,0,l.if),t.restore(),s+=l.Gl*l.Al}t.restore()}},e.prototype.Jl=function(t,e){var n=this.nf(t.font),i=n.get(e);return void 0===i&&(i=t.measureText(e).width,n.set(e,i)),i},e.prototype.nf=function(t){var e=this.Xl.get(t);return void 0===e&&(e=new Map,this.Xl.set(t,e)),e},e}(CT),KI=function(){function t(t){this.ft=!0,this.Wt={yt:!1,A:"",Yt:0,Ht:0,Zl:[],Ql:"center",tf:"center"},this.zt=new GI(this.Wt),this.Rt=t}return t.prototype.vt=function(){this.ft=!0},t.prototype.dt=function(t,e){return this.ft&&(this.wt(t,e),this.ft=!1),this.zt},t.prototype.wt=function(t,e){var n=this.Rt.W(),i=this.Wt;i.yt=n.visible,i.yt&&(i.A=n.color,i.Ht=e,i.Yt=t,i.tf=n.horzAlign,i.Ql=n.vertAlign,i.Zl=[{Gt:n.text,T:ET(n.fontSize,n.fontFamily,n.fontStyle),Gl:1.2*n.fontSize,if:0,Al:0}])},t}(),QI=function(t){function e(e,n){var i=t.call(this)||this;return i.zi=n,i.Hi=new KI(i),i}return cT(e,t),e.prototype.nn=function(){return[]},e.prototype.tn=function(){return[this.Hi]},e.prototype.W=function(){return this.zi},e.prototype.hn=function(){this.Hi.vt()},e}(qT);!function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"}(qI||(qI={}));var XI,$I,YI,JI=function(){function t(t,e){this.sf=[],this.hf=[],this.hh=0,this.rf=null,this.ef=null,this.uf=new dT,this.af=new dT,this.lf=null,this.ff=t,this.zi=e,this.cf=new kT(this),this.Da=new HI(this,e.timeScale,this.zi.localization),this.ct=new HT(this,e.crosshair),this.vf=new hI(e.crosshair),this._f=new QI(this,e.watermark),this.df(),this.sf[0].za(2e3),this.wf=this.Mf(0),this.bf=this.Mf(1)}return t.prototype.Ce=function(){this.mf(new KT(3))},t.prototype.Wr=function(){this.mf(new KT(2))},t.prototype.We=function(){this.mf(new KT(1))},t.prototype.Se=function(t){var e=this.pf(t);this.mf(e)},t.prototype.gf=function(){return this.ef},t.prototype.yf=function(t){var e=this.ef;this.ef=t,null!==e&&this.Se(e.kf),null!==t&&this.Se(t.kf)},t.prototype.W=function(){return this.zi},t.prototype.Pr=function(t){pT(this.zi,t),this.sf.forEach((function(e){return e.Oa(t)})),void 0!==t.timeScale&&this.Da.Pr(t.timeScale),void 0!==t.localization&&this.Da.el(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.uf.m(),this.wf=this.Mf(0),this.bf=this.Mf(1),this.Ce()},t.prototype.Nf=function(t,e){if("left"!==t)if("right"!==t){var n=this.xf(t);null!==n&&(n.Ct.Pr(e),this.uf.m())}else this.Pr({rightPriceScale:e});else this.Pr({leftPriceScale:e})},t.prototype.xf=function(t){for(var e=0,n=this.sf;e<n.length;e++){var i=n[e],r=i.Va(t);if(null!==r)return{It:i,Ct:r}}return null},t.prototype.bt=function(){return this.Da},t.prototype.Cf=function(){return this.sf},t.prototype.Sf=function(){return this._f},t.prototype.Tf=function(){return this.ct},t.prototype.Df=function(){return this.af},t.prototype.Af=function(t,e){t.ia(e),this.yl()},t.prototype.Ra=function(t){this.hh=t,this.Da.Ra(this.hh),this.sf.forEach((function(e){return e.Ra(t)})),this.yl()},t.prototype.df=function(t){var e=new PI(this.Da,this);void 0!==t?this.sf.splice(t,0,e):this.sf.push(e);var n=void 0===t?this.sf.length-1:t,i=new KT(3);return i.cn(n,{vn:0,_n:!0}),this.mf(i),e},t.prototype.Ka=function(t,e,n){t.Ka(e,n)},t.prototype.Xa=function(t,e,n){t.Xa(e,n),this.Te(),this.mf(this.Bf(t,2))},t.prototype.Za=function(t,e){t.Za(e),this.mf(this.Bf(t,2))},t.prototype.Ja=function(t,e,n){e.Xu()||t.Ja(e,n)},t.prototype.Ga=function(t,e,n){e.Xu()||(t.Ga(e,n),this.Te(),this.mf(this.Bf(t,2)))},t.prototype.Qa=function(t,e){e.Xu()||(t.Qa(e),this.mf(this.Bf(t,2)))},t.prototype.no=function(t,e){t.no(e),this.mf(this.Bf(t,2))},t.prototype.Lf=function(t){this.Da.da(t)},t.prototype.Ef=function(t,e){var n=this.bt();if(!n.wi()&&0!==e){var i=n.Ht();t=Math.max(1,Math.min(t,i)),n.Al(t,e),this.yl()}},t.prototype.Ff=function(t){this.Of(0),this.Vf(t),this.Pf()},t.prototype.Wf=function(t){this.Da.wa(t),this.yl()},t.prototype.zf=function(){this.Da.Ma(),this.Wr()},t.prototype.Of=function(t){this.rf=t,this.Da.ba(t)},t.prototype.Vf=function(t){var e=!1;return null!==this.rf&&Math.abs(t-this.rf)>20&&(this.rf=null,e=!0),this.Da.ma(t),this.yl(),e},t.prototype.Pf=function(){this.Da.pa(),this.Wr(),this.rf=null},t.prototype._t=function(){return this.hf},t.prototype.Rf=function(t,e,n){this.ct.Yi(t,e);var i=NaN,r=this.Da.pl(t),s=this.Da.ss();null!==s&&(r=Math.min(Math.max(s.In(),r),s.jn()));var o=n.ji(),a=o.kt();null!==a&&(i=o.qi(e,a)),i=this.vf.Je(i,r,n),this.ct.Zi(r,i,n),this.We(),this.af.m(this.ct.Mt(),{x:t,y:e})},t.prototype.If=function(){this.Tf().Gi(),this.We(),this.af.m(null,null)},t.prototype.Te=function(){var t=this.ct.It();if(null!==t){var e=this.ct.Ki(),n=this.ct.Xi();this.Rf(e,n,t)}this.ct.hn()},t.prototype.jf=function(t,e,n){var i=this.Da.gi(0);void 0!==e&&void 0!==n&&this.Da.vt(e,n);var r=this.Da.gi(0),s=this.Da.ml(),o=this.Da.ss();if(null!==o&&null!==i&&null!==r){var a=o.Uh(s),l=i.So>r.So,u=null!==t&&t>s&&!l,c=a&&this.Da.W().shiftVisibleRangeOnNewBar;if(u&&!c){var h=t-s;this.Da.yn(this.Da.Nl()-h)}}this.Da.Dl(t)},t.prototype.Be=function(t){null!==t&&t.ho()},t.prototype.oh=function(t){var e=this.sf.find((function(e){return e.oa().includes(t)}));return void 0===e?null:e},t.prototype.yl=function(){this._f.hn(),this.sf.forEach((function(t){return t.ho()})),this.Te()},t.prototype.g=function(){this.sf.forEach((function(t){return t.g()})),this.sf.length=0,this.zi.localization.priceFormatter=void 0,this.zi.localization.timeFormatter=void 0},t.prototype.qf=function(){return this.cf},t.prototype.dh=function(){return this.cf.W()},t.prototype.Pa=function(){return this.uf},t.prototype.Uf=function(t,e){var n=this.sf[0],i=this.Hf(e,t,n);return this.hf.push(i),1===this.hf.length?this.Ce():this.Wr(),i},t.prototype.Yf=function(t){var e=this.oh(t),n=this.hf.indexOf(t);$k(-1!==n,"Series not found"),this.hf.splice(n,1),Jk(e).ca(t),t.g&&t.g()},t.prototype.xe=function(t,e){var n=Jk(this.oh(t));n.ca(t);var i=this.xf(e);if(null===i){var r=t.xi();n.la(t,e,r)}else r=i.It===n?t.xi():void 0,i.It.la(t,e,r)},t.prototype.zl=function(){var t=new KT(2);t.Mn(),this.mf(t)},t.prototype.$f=function(t){var e=new KT(2);e.mn(t),this.mf(e)},t.prototype.pn=function(){var t=new KT(2);t.pn(),this.mf(t)},t.prototype.gn=function(t){var e=new KT(2);e.gn(t),this.mf(e)},t.prototype.yn=function(t){var e=new KT(2);e.yn(t),this.mf(e)},t.prototype.Kf=function(){return this.zi.rightPriceScale.visible?"right":"left"},t.prototype.Xf=function(){return this.bf},t.prototype.Zf=function(){return this.wf},t.prototype.Dt=function(t){var e=this.bf,n=this.wf;if(e===n)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.lf||this.lf.Pn!==n||this.lf.Wn!==e)this.lf={Pn:n,Wn:e,Jf:new Map};else{var i=this.lf.Jf.get(t);if(void 0!==i)return i}var r=function(t,e,n){var i=aT(t),r=i[0],s=i[1],o=i[2],a=i[3],l=aT(e),u=l[0],c=l[1],h=l[2],f=l[3],d=[eT(r+n*(u-r)),eT(s+n*(c-s)),eT(o+n*(h-o)),nT(a+n*(f-a))];return"rgba(".concat(d[0],", ").concat(d[1],", ").concat(d[2],", ").concat(d[3],")")}(n,e,t/100);return this.lf.Jf.set(t,r),r},t.prototype.Bf=function(t,e){var n=new KT(e);if(null!==t){var i=this.sf.indexOf(t);n.cn(i,{vn:e})}return n},t.prototype.pf=function(t,e){return void 0===e&&(e=2),this.Bf(this.oh(t),e)},t.prototype.mf=function(t){this.ff&&this.ff(t),this.sf.forEach((function(t){return t.eo().ou().vt()}))},t.prototype.Hf=function(t,e,n){var i=new cI(this,t,e),r=void 0!==t.priceScaleId?t.priceScaleId:this.Kf();return n.la(i,r),GT(r)||i.Pr(t),i},t.prototype.Mf=function(t){var e=this.zi.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color},t}();function ZI(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}function tx(t){return!mT(t)&&!vT(t)}function ex(t){return mT(t)}!function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"}(XI||(XI={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}($I||($I={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(YI||(YI={}));var nx=function(){function t(t,e){this.Ft=t,this.Ot=e}return t.prototype.br=function(t){return this.Ft===t.Ft&&this.Ot===t.Ot},t}();function ix(t){return t.ownerDocument&&t.ownerDocument.defaultView&&t.ownerDocument.defaultView.devicePixelRatio||1}function rx(t){var e=Jk(t.getContext("2d"));return e.setTransform(1,0,0,1,0,0),e}function sx(t,e){var n=t.createElement("canvas"),i=ix(n);return n.style.width="".concat(e.Ft,"px"),n.style.height="".concat(e.Ot,"px"),n.width=e.Ft*i,n.height=e.Ot*i,n}function ox(t,e){var n=Jk(t.ownerDocument).createElement("canvas");t.appendChild(n);var i,r=(void 0===(i={allowDownsampling:!1})&&(i=qk),new Kk(n,i));return r.resizeCanvas({width:e.Ft,height:e.Ot}),r}function ax(t,e){return t.Gf-e.Gf}function lx(t,e,n){var i=(t.Gf-e.Gf)/(t.rt-e.rt);return Math.sign(i)*Math.min(Math.abs(i),n)}var ux=function(){function t(t,e,n,i){this.Qf=null,this.tc=null,this.ic=null,this.nc=null,this.sc=null,this.hc=0,this.rc=0,this.ec=!1,this.uc=t,this.ac=e,this.oc=n,this.Cn=i}return t.prototype.lc=function(t,e){if(null!==this.Qf){if(this.Qf.rt===e)return void(this.Qf.Gf=t);if(Math.abs(this.Qf.Gf-t)<this.Cn)return}this.nc=this.ic,this.ic=this.tc,this.tc=this.Qf,this.Qf={rt:e,Gf:t}},t.prototype.xh=function(t,e){if(null!==this.Qf&&null!==this.tc&&!(e-this.Qf.rt>50)){var n=0,i=lx(this.Qf,this.tc,this.ac),r=ax(this.Qf,this.tc),s=[i],o=[r];if(n+=r,null!==this.ic){var a=lx(this.tc,this.ic,this.ac);if(Math.sign(a)===Math.sign(i)){var l=ax(this.tc,this.ic);if(s.push(a),o.push(l),n+=l,null!==this.nc){var u=lx(this.ic,this.nc,this.ac);if(Math.sign(u)===Math.sign(i)){var c=ax(this.ic,this.nc);s.push(u),o.push(c),n+=c}}}}for(var h,f,d,p=0,m=0;m<s.length;++m)p+=o[m]/n*s[m];Math.abs(p)<this.uc||(this.sc={Gf:t,rt:e},this.rc=p,this.hc=(h=Math.abs(p),f=this.oc,d=Math.log(f),Math.log(1*d/-h)/d))}},t.prototype.fc=function(t){var e=Jk(this.sc),n=t-e.rt;return e.Gf+this.rc*(Math.pow(this.oc,n)-1)/Math.log(this.oc)},t.prototype.cc=function(t){return null===this.sc||this.vc(t)===this.hc},t.prototype._c=function(){return this.ec},t.prototype.dc=function(){this.ec=!0},t.prototype.vc=function(t){var e=t-Jk(this.sc).rt;return Math.min(e,this.hc)},t}(),cx="undefined"!=typeof window;function hx(){return!!cx&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function fx(){return!!cx&&/iPhone|iPad|iPod/.test(window.navigator.platform)}var dx=function(){function t(t,e,n){var i=this;this.wc=0,this.Mc=null,this.bc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY},this.mc=0,this.gc=null,this.yc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY},this.kc=null,this.Nc=!1,this.xc=null,this.Cc=null,this.Sc=!1,this.Tc=!1,this.Dc=!1,this.Ac=null,this.Bc=null,this.Lc=null,this.Ec=null,this.Fc=null,this.Oc=null,this.Vc=null,this.Pc=0,this.Wc=!1,this.zc=!1,this.Rc=!1,this.Ic=0,this.jc=null,this.qc=!fx(),this.Uc=function(t){i.Hc(t)},this.Yc=function(t){if(i.$c(t)){var e=i.Kc(t);++i.mc,i.gc&&i.mc>1&&(i.Zc(gx(t),i.yc).Xc<30&&!i.Dc&&i.Jc(e,i.Qc.Gc),i.tv())}else e=i.Kc(t),++i.wc,i.Mc&&i.wc>1&&(i.Zc(gx(t),i.bc).Xc<5&&!i.Tc&&i.iv(e,i.Qc.nv),i.sv())},this.hv=t,this.Qc=e,this.zi=n,this.rv()}return t.prototype.g=function(){null!==this.Ac&&(this.Ac(),this.Ac=null),null!==this.Bc&&(this.Bc(),this.Bc=null),null!==this.Ec&&(this.Ec(),this.Ec=null),null!==this.Fc&&(this.Fc(),this.Fc=null),null!==this.Oc&&(this.Oc(),this.Oc=null),null!==this.Lc&&(this.Lc(),this.Lc=null),this.ev(),this.sv()},t.prototype.uv=function(t){var e=this;this.Ec&&this.Ec();var n=this.av.bind(this);if(this.Ec=function(){e.hv.removeEventListener("mousemove",n)},this.hv.addEventListener("mousemove",n),!this.$c(t)){var i=this.Kc(t);this.iv(i,this.Qc.ov),this.qc=!0}},t.prototype.sv=function(){null!==this.Mc&&clearTimeout(this.Mc),this.wc=0,this.Mc=null,this.bc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY}},t.prototype.tv=function(){null!==this.gc&&clearTimeout(this.gc),this.mc=0,this.gc=null,this.yc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY}},t.prototype.av=function(t){if(!this.Rc&&null===this.Cc&&!this.$c(t)){var e=this.Kc(t);this.iv(e,this.Qc.lv),this.qc=!0}},t.prototype.fv=function(t){var e=yx(t.changedTouches,Jk(this.jc));if(null!==e&&(this.Ic=vx(t),null===this.Vc&&!this.zc)){this.Wc=!0;var n=this.Zc(gx(e),Jk(this.Cc)),i=n.cv,r=n.vv,s=n.Xc;if(this.Sc||!(s<5)){if(!this.Sc){var o=.5*i,a=r>=o&&!this.zi._v(),l=o>r&&!this.zi.dv();a||l||(this.zc=!0),this.Sc=!0,this.Dc=!0,this.ev(),this.tv()}if(!this.zc){var u=this.Kc(t,e);this.Jc(u,this.Qc.wv),mx(t)}}}},t.prototype.Mv=function(t){if(0===t.button&&(this.Zc(gx(t),Jk(this.xc)).Xc>=5&&(this.Tc=!0,this.sv()),this.Tc)){var e=this.Kc(t);this.iv(e,this.Qc.bv)}},t.prototype.Zc=function(t,e){var n=Math.abs(e.tt-t.tt),i=Math.abs(e.it-t.it);return{cv:n,vv:i,Xc:n+i}},t.prototype.mv=function(t){var e=yx(t.changedTouches,Jk(this.jc));if(null===e&&0===t.touches.length&&(e=t.changedTouches[0]),null!==e){this.jc=null,this.Ic=vx(t),this.ev(),this.Cc=null,this.Oc&&(this.Oc(),this.Oc=null);var n=this.Kc(t,e);this.Jc(n,this.Qc.pv),++this.mc,this.gc&&this.mc>1?(this.Zc(gx(e),this.yc).Xc<30&&!this.Dc&&this.Jc(n,this.Qc.Gc),this.tv()):this.Dc||(this.Jc(n,this.Qc.gv),this.Qc.gv&&mx(t)),0===this.mc&&mx(t),0===t.touches.length&&this.Nc&&(this.Nc=!1,mx(t))}},t.prototype.Hc=function(t){if(0===t.button){var e=this.Kc(t);this.xc=null,this.Rc=!1,this.Fc&&(this.Fc(),this.Fc=null),hx()&&this.hv.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uc),this.$c(t)||(this.iv(e,this.Qc.yv),++this.wc,this.Mc&&this.wc>1?(this.Zc(gx(t),this.bc).Xc<5&&!this.Tc&&this.iv(e,this.Qc.nv),this.sv()):this.Tc||this.iv(e,this.Qc.kv))}},t.prototype.ev=function(){null!==this.kc&&(clearTimeout(this.kc),this.kc=null)},t.prototype.Nv=function(t){if(null===this.jc){var e=t.changedTouches[0];this.jc=e.identifier,this.Ic=vx(t);var n=this.hv.ownerDocument.documentElement;this.Dc=!1,this.Sc=!1,this.zc=!1,this.Cc=gx(e),this.Oc&&(this.Oc(),this.Oc=null);var i=this.fv.bind(this),r=this.mv.bind(this);this.Oc=function(){n.removeEventListener("touchmove",i),n.removeEventListener("touchend",r)},n.addEventListener("touchmove",i,{passive:!1}),n.addEventListener("touchend",r,{passive:!1}),this.ev(),this.kc=setTimeout(this.xv.bind(this,t),240);var s=this.Kc(t,e);this.Jc(s,this.Qc.Cv),this.gc||(this.mc=0,this.gc=setTimeout(this.tv.bind(this),500),this.yc=gx(e))}},t.prototype.Sv=function(t){if(0===t.button){var e=this.hv.ownerDocument.documentElement;hx()&&e.addEventListener("mouseleave",this.Uc),this.Tc=!1,this.xc=gx(t),this.Fc&&(this.Fc(),this.Fc=null);var n=this.Mv.bind(this),i=this.Hc.bind(this);if(this.Fc=function(){e.removeEventListener("mousemove",n),e.removeEventListener("mouseup",i)},e.addEventListener("mousemove",n),e.addEventListener("mouseup",i),this.Rc=!0,!this.$c(t)){var r=this.Kc(t);this.iv(r,this.Qc.Tv),this.Mc||(this.wc=0,this.Mc=setTimeout(this.sv.bind(this),500),this.bc=gx(t))}}},t.prototype.rv=function(){var t=this;this.hv.addEventListener("mouseenter",this.uv.bind(this)),this.hv.addEventListener("touchcancel",this.ev.bind(this));var e=this.hv.ownerDocument,n=function(e){t.Qc.Dv&&(e.target&&t.hv.contains(e.target)||t.Qc.Dv())};this.Bc=function(){e.removeEventListener("touchstart",n)},this.Ac=function(){e.removeEventListener("mousedown",n)},e.addEventListener("mousedown",n),e.addEventListener("touchstart",n,{passive:!0}),fx()&&(this.Lc=function(){t.hv.removeEventListener("dblclick",t.Yc)},this.hv.addEventListener("dblclick",this.Yc)),this.hv.addEventListener("mouseleave",this.Av.bind(this)),this.hv.addEventListener("touchstart",this.Nv.bind(this),{passive:!0}),function(t){cx&&void 0!==window.chrome&&t.addEventListener("mousedown",(function(t){if(1===t.button)return t.preventDefault(),!1}))}(this.hv),this.hv.addEventListener("mousedown",this.Sv.bind(this)),this.Bv(),this.hv.addEventListener("touchmove",(function(){}),{passive:!1})},t.prototype.Bv=function(){var t=this;void 0===this.Qc.Lv&&void 0===this.Qc.Ev&&void 0===this.Qc.Fv||(this.hv.addEventListener("touchstart",(function(e){return t.Ov(e.touches)}),{passive:!0}),this.hv.addEventListener("touchmove",(function(e){if(2===e.touches.length&&null!==t.Vc&&void 0!==t.Qc.Ev){var n=px(e.touches[0],e.touches[1])/t.Pc;t.Qc.Ev(t.Vc,n),mx(e)}}),{passive:!1}),this.hv.addEventListener("touchend",(function(e){t.Ov(e.touches)})))},t.prototype.Ov=function(t){1===t.length&&(this.Wc=!1),2!==t.length||this.Wc||this.Nc?this.Vv():this.Pv(t)},t.prototype.Pv=function(t){var e=this.hv.getBoundingClientRect()||{left:0,top:0};this.Vc={tt:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,it:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Pc=px(t[0],t[1]),void 0!==this.Qc.Lv&&this.Qc.Lv(),this.ev()},t.prototype.Vv=function(){null!==this.Vc&&(this.Vc=null,void 0!==this.Qc.Fv&&this.Qc.Fv())},t.prototype.Av=function(t){if(this.Ec&&this.Ec(),!this.$c(t)&&this.qc){var e=this.Kc(t);this.iv(e,this.Qc.Wv),this.qc=!fx()}},t.prototype.xv=function(t){var e=yx(t.touches,Jk(this.jc));if(null!==e){var n=this.Kc(t,e);this.Jc(n,this.Qc.zv),this.Dc=!0,this.Nc=!0}},t.prototype.$c=function(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:vx(t)<this.Ic+500},t.prototype.Jc=function(t,e){e&&e.call(this.Qc,t)},t.prototype.iv=function(t,e){e&&e.call(this.Qc,t)},t.prototype.Kc=function(t,e){var n=e||t,i=this.hv.getBoundingClientRect()||{left:0,top:0};return{Rv:n.clientX,Iv:n.clientY,jv:n.pageX,qv:n.pageY,Uv:n.screenX,Hv:n.screenY,Yv:n.clientX-i.left,$v:n.clientY-i.top,Kv:t.ctrlKey,Xv:t.altKey,Zv:t.shiftKey,Jv:t.metaKey,Gv:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,Qv:t.type,t_:n.target,i_:t.view,n_:function(){"touchstart"!==t.type&&mx(t)}}},t}();function px(t,e){var n=t.clientX-e.clientX,i=t.clientY-e.clientY;return Math.sqrt(n*n+i*i)}function mx(t){t.cancelable&&t.preventDefault()}function gx(t){return{tt:t.pageX,it:t.pageY}}function vx(t){return t.timeStamp||performance.now()}function yx(t,e){for(var n=0;n<t.length;++n)if(t[n].identifier===e)return t[n];return null}var wx=function(){function t(t,e,n,i){this.rh=new NC(200),this.R=0,this.s_="",this.Yh="",this.th=[],this.h_=new Map,this.R=t,this.s_=e,this.Yh=ET(t,n,i)}return t.prototype.g=function(){this.rh.ih(),this.th=[],this.h_.clear()},t.prototype.r_=function(t,e,n,i,r){var s=this.e_(t,e);if("left"!==r){var o=ix(t.canvas);n-=Math.floor(s.u_*o)}i-=Math.floor(s.Yt/2),t.drawImage(s.a_,n,i,s.Ht,s.Yt)},t.prototype.e_=function(t,e){var n,i=this;if(this.h_.has(e))n=Yk(this.h_.get(e));else{if(this.th.length>=200){var r=Yk(this.th.shift());this.h_.delete(r)}var s=ix(t.canvas),o=Math.ceil(this.R/4.5),a=Math.round(this.R/10),l=Math.ceil(this.rh.Qt(t,e)),u=vC(Math.round(l+2*o)),c=vC(this.R+2*o),h=sx(document,new nx(u,c));n={Gt:e,u_:Math.round(Math.max(1,l)),Ht:Math.ceil(u*s),Yt:Math.ceil(c*s),a_:h},0!==l&&(this.th.push(n.Gt),this.h_.set(n.Gt,n)),DT(t=rx(n.a_),s,(function(){t.font=i.Yh,t.fillStyle=i.s_,t.fillText(e,0,c-o-a)}))}return n},t}(),bx=function(){function t(t,e,n,i){var r=this;this._i=null,this.o_=null,this.l_=!1,this.f_=new NC(50),this.c_=new wx(11,"#000"),this.s_=null,this.Yh=null,this.v_=0,this.__=!1,this.d_=function(){r.w_(r.cf.W()),r.__||r.Di.M_().jt().Wr()},this.b_=function(){r.__||r.Di.M_().jt().Wr()},this.Di=t,this.zi=e,this.cf=n,this.m_="left"===i,this.p_=document.createElement("div"),this.p_.style.height="100%",this.p_.style.overflow="hidden",this.p_.style.width="25px",this.p_.style.left="0",this.p_.style.position="relative",this.g_=ox(this.p_,new nx(16,16)),this.g_.subscribeCanvasConfigured(this.d_);var s=this.g_.canvas;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.y_=ox(this.p_,new nx(16,16)),this.y_.subscribeCanvasConfigured(this.b_);var o=this.y_.canvas;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";var a={Tv:this.k_.bind(this),Cv:this.k_.bind(this),bv:this.N_.bind(this),wv:this.N_.bind(this),Dv:this.x_.bind(this),yv:this.C_.bind(this),pv:this.C_.bind(this),nv:this.S_.bind(this),Gc:this.S_.bind(this),ov:this.T_.bind(this),Wv:this.D_.bind(this)};this.A_=new dx(this.y_.canvas,a,{_v:function(){return!1},dv:function(){return!0}})}return t.prototype.g=function(){this.A_.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy(),null!==this._i&&this._i._a().M(this),this._i=null,this.c_.g()},t.prototype.B_=function(){return this.p_},t.prototype.ht=function(){return Jk(this._i).W().borderColor},t.prototype.L_=function(){return this.zi.textColor},t.prototype.S=function(){return this.zi.fontSize},t.prototype.E_=function(){return ET(this.S(),this.zi.fontFamily)},t.prototype.F_=function(){var t=this.cf.W(),e=this.s_!==t.A,n=this.Yh!==t.T;return(e||n)&&(this.w_(t),this.s_=t.A),n&&(this.f_.ih(),this.Yh=t.T),t},t.prototype.O_=function(){if(null===this._i)return 0;var t=0,e=this.F_(),n=rx(this.g_.canvas),i=this._i.au();n.font=this.E_(),i.length>0&&(t=Math.max(this.f_.Qt(n,i[0].yu),this.f_.Qt(n,i[i.length-1].yu)));for(var r=this.V_(),s=r.length;s--;){var o=this.f_.Qt(n,r[s].Gt());o>t&&(t=o)}var a=this._i.kt();if(null!==a&&null!==this.o_){var l=this._i.qi(1,a),u=this._i.qi(this.o_.Ot-2,a);t=Math.max(t,this.f_.Qt(n,this._i.Mi(Math.floor(Math.min(l,u))+.11111111111111,a)),this.f_.Qt(n,this._i.Mi(Math.ceil(Math.max(l,u))-.11111111111111,a)))}var c=t||34,h=Math.ceil(e.N+e.C+e.L+e.F+c);return h+h%2},t.prototype.P_=function(t){if(t.Ft<0||t.Ot<0)throw new Error("Try to set invalid size to PriceAxisWidget "+JSON.stringify(t));null!==this.o_&&this.o_.br(t)||(this.o_=t,this.__=!0,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.y_.resizeCanvas({width:t.Ft,height:t.Ot}),this.__=!1,this.p_.style.width=t.Ft+"px",this.p_.style.height=t.Ot+"px",this.p_.style.minWidth=t.Ft+"px")},t.prototype.W_=function(){return Jk(this.o_).Ft},t.prototype.Si=function(t){this._i!==t&&(null!==this._i&&this._i._a().M(this),this._i=t,t._a().u(this.Eu.bind(this),this))},t.prototype.Ct=function(){return this._i},t.prototype.ih=function(){var t=this.Di.z_();this.Di.M_().jt().no(t,Jk(this.Ct()))},t.prototype.R_=function(t){if(null!==this.o_){if(1!==t){var e=rx(this.g_.canvas);this.I_(),this.j_(e,this.g_.pixelRatio),this.Rs(e,this.g_.pixelRatio),this.q_(e,this.g_.pixelRatio),this.U_(e,this.g_.pixelRatio)}var n=rx(this.y_.canvas),i=this.o_.Ft,r=this.o_.Ot;DT(n,this.y_.pixelRatio,(function(){n.clearRect(0,0,i,r)})),this.H_(n,this.y_.pixelRatio)}},t.prototype.Y_=function(){return this.g_.canvas},t.prototype.vt=function(){var t;null===(t=this._i)||void 0===t||t.au()},t.prototype.k_=function(t){if(null!==this._i&&!this._i.wi()&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var e=this.Di.M_().jt(),n=this.Di.z_();this.l_=!0,e.Ka(n,this._i,t.$v)}},t.prototype.N_=function(t){if(null!==this._i&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var e=this.Di.M_().jt(),n=this.Di.z_(),i=this._i;e.Xa(n,i,t.$v)}},t.prototype.x_=function(){if(null!==this._i&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var t=this.Di.M_().jt(),e=this.Di.z_(),n=this._i;this.l_&&(this.l_=!1,t.Za(e,n))}},t.prototype.C_=function(t){if(null!==this._i&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var e=this.Di.M_().jt(),n=this.Di.z_();this.l_=!1,e.Za(n,this._i)}},t.prototype.S_=function(t){this.Di.M_().W().handleScale.axisDoubleClickReset&&this.ih()},t.prototype.T_=function(t){null!==this._i&&(!this.Di.M_().jt().W().handleScale.axisPressedMouseMove.price||this._i.vr()||this._i.Zu()||this.K_(1))},t.prototype.D_=function(t){this.K_(0)},t.prototype.V_=function(){var t=this,e=[],n=null===this._i?void 0:this._i;return function(i){for(var r=0;r<i.length;++r)for(var s=i[r].nn(t.Di.z_(),n),o=0;o<s.length;o++)e.push(s[o])}(this.Di.z_().oa()),e},t.prototype.j_=function(t,e){var n=this;if(null!==this.o_){var i=this.o_.Ft,r=this.o_.Ot;DT(t,e,(function(){var e=n.Di.z_().jt(),s=e.Zf(),o=e.Xf();s===o?RT(t,0,0,i,r,s):LT(t,0,0,i,r,s,o)}))}},t.prototype.Rs=function(t,e){if(null!==this.o_&&null!==this._i&&this._i.W().borderVisible){t.save(),t.fillStyle=this.ht();var n,i=Math.max(1,Math.floor(this.F_().N*e));n=this.m_?Math.floor(this.o_.Ft*e)-i:0,t.fillRect(n,0,i,Math.ceil(this.o_.Ot*e)),t.restore()}},t.prototype.q_=function(t,e){if(null!==this.o_&&null!==this._i){var n=this._i.au();t.save(),t.strokeStyle=this.ht(),t.font=this.E_(),t.fillStyle=this.ht();var i=this.F_(),r=this._i.W().borderVisible&&this._i.W().drawTicks,s=this.m_?Math.floor((this.o_.Ft-i.C)*e-i.N*e):Math.floor(i.N*e),o=this.m_?Math.round(s-i.L*e):Math.round(s+i.C*e+i.L*e),a=this.m_?"right":"left",l=Math.max(1,Math.floor(e)),u=Math.floor(.5*e);if(r){var c=Math.round(i.C*e);t.beginPath();for(var h=0,f=n;h<f.length;h++){var d=f[h];t.rect(s,Math.round(d.su*e)-u,c,l)}t.fill()}t.fillStyle=this.L_();for(var p=0,m=n;p<m.length;p++)d=m[p],this.c_.r_(t,d.yu,o,Math.round(d.su*e),a);t.restore()}},t.prototype.I_=function(){if(null!==this.o_&&null!==this._i){var t=this.o_.Ot/2,e=[],n=this._i.oa().slice(),i=this.Di.z_(),r=this.F_();this._i===i.fh()&&this.Di.z_().oa().forEach((function(t){i.lh(t)&&n.push(t)}));var s=this._i.Ge()[0],o=this._i;n.forEach((function(n){var r=n.nn(i,o);r.forEach((function(t){t.oi(null),t.li()&&e.push(t)})),s===n&&r.length>0&&(t=r[0].ti())}));var a=e.filter((function(e){return e.ti()<=t})),l=e.filter((function(e){return e.ti()>t}));if(a.sort((function(t,e){return e.ti()-t.ti()})),a.length&&l.length&&l.push(a[0]),l.sort((function(t,e){return t.ti()-e.ti()})),e.forEach((function(t){return t.oi(t.ti())})),this._i.W().alignLabels){for(var u=1;u<a.length;u++){var c=a[u],h=(d=a[u-1]).Yt(r,!1);c.ti()>(p=d.ai())-h&&c.oi(p-h)}for(var f=1;f<l.length;f++){var d,p;c=l[f],h=(d=l[f-1]).Yt(r,!0),c.ti()<(p=d.ai())+h&&c.oi(p+h)}}}},t.prototype.U_=function(t,e){var n=this;if(null!==this.o_){t.save();var i=this.o_,r=this.V_(),s=this.F_(),o=this.m_?"right":"left";r.forEach((function(r){if(r.fi()){var a=r.dt(Jk(n._i));t.save(),a.H(t,s,n.f_,i.Ft,o,e),t.restore()}})),t.restore()}},t.prototype.H_=function(t,e){var n=this;if(null!==this.o_&&null!==this._i){t.save();var i=this.o_,r=this.Di.M_().jt(),s=[],o=this.Di.z_(),a=r.Tf().nn(o,this._i);a.length&&s.push(a);var l=this.F_(),u=this.m_?"right":"left";s.forEach((function(r){r.forEach((function(r){t.save(),r.dt(Jk(n._i)).H(t,l,n.f_,i.Ft,u,e),t.restore()}))})),t.restore()}},t.prototype.K_=function(t){this.p_.style.cursor=1===t?"ns-resize":"default"},t.prototype.Eu=function(){var t=this.O_();this.v_<t&&this.Di.M_().jt().Ce(),this.v_=t},t.prototype.w_=function(t){this.c_.g(),this.c_=new wx(t.S,t.A,t.D)},t}();function _x(t,e,n,i,r){t.$&&t.$(e,n,i,r)}function Sx(t,e,n,i,r){t.H(e,n,i,r)}function Ex(t,e){return t.tn(e)}function kx(t,e){return void 0!==t.Pe?t.Pe(e):[]}var Tx=function(){function t(t,e){var n=this;this.o_=new nx(0,0),this.X_=null,this.Z_=null,this.J_=null,this.G_=!1,this.Q_=new dT,this.td=0,this.nd=!1,this.sd=null,this.hd=!1,this.rd=null,this.ed=null,this.__=!1,this.d_=function(){n.__||null===n.ud||n.pi().Wr()},this.b_=function(){n.__||null===n.ud||n.pi().Wr()},this.ad=t,this.ud=e,this.ud.ro().u(this.od.bind(this),this,!0),this.ld=document.createElement("td"),this.ld.style.padding="0",this.ld.style.position="relative";var i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.fd=document.createElement("td"),this.fd.style.padding="0",this.vd=document.createElement("td"),this.vd.style.padding="0",this.ld.appendChild(i),this.g_=ox(i,new nx(16,16)),this.g_.subscribeCanvasConfigured(this.d_);var r=this.g_.canvas;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.y_=ox(i,new nx(16,16)),this.y_.subscribeCanvasConfigured(this.b_);var s=this.y_.canvas;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this._d=document.createElement("tr"),this._d.appendChild(this.fd),this._d.appendChild(this.ld),this._d.appendChild(this.vd),this.dd(),this.A_=new dx(this.y_.canvas,this,{_v:function(){return null===n.sd&&!n.ad.W().handleScroll.vertTouchDrag},dv:function(){return null===n.sd&&!n.ad.W().handleScroll.horzTouchDrag}})}return t.prototype.g=function(){null!==this.X_&&this.X_.g(),null!==this.Z_&&this.Z_.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy(),null!==this.ud&&this.ud.ro().M(this),this.A_.g()},t.prototype.z_=function(){return Jk(this.ud)},t.prototype.wd=function(e){null!==this.ud&&this.ud.ro().M(this),this.ud=e,null!==this.ud&&this.ud.ro().u(t.prototype.od.bind(this),this,!0),this.dd()},t.prototype.M_=function(){return this.ad},t.prototype.B_=function(){return this._d},t.prototype.dd=function(){if(null!==this.ud&&(this.Md(),0!==this.pi()._t().length)){if(null!==this.X_){var t=this.ud.Ya();this.X_.Si(Jk(t))}if(null!==this.Z_){var e=this.ud.$a();this.Z_.Si(Jk(e))}}},t.prototype.bd=function(){null!==this.X_&&this.X_.vt(),null!==this.Z_&&this.Z_.vt()},t.prototype.Wa=function(){return null!==this.ud?this.ud.Wa():0},t.prototype.za=function(t){this.ud&&this.ud.za(t)},t.prototype.ov=function(t){if(this.ud){this.md();var e=t.Yv,n=t.$v;this.pd(e,n)}},t.prototype.Tv=function(t){this.md(),this.gd(),this.pd(t.Yv,t.$v)},t.prototype.lv=function(t){if(this.ud){this.md();var e=t.Yv,n=t.$v;this.pd(e,n);var i=this.$h(e,n);this.pi().yf(i&&{kf:i.kf,yd:i.yd})}},t.prototype.kv=function(t){if(null!==this.ud){this.md();var e=t.Yv,n=t.$v;if(this.Q_.p()){var i=this.pi().Tf().Mt();this.Q_.m(i,{x:e,y:n})}}},t.prototype.bv=function(t){this.md(),this.kd(t),this.pd(t.Yv,t.$v)},t.prototype.yv=function(t){null!==this.ud&&(this.md(),this.nd=!1,this.Nd(t))},t.prototype.zv=function(t){if(this.nd=!0,null===this.sd){var e={x:t.Yv,y:t.$v};this.xd(e,e)}},t.prototype.Wv=function(t){null!==this.ud&&(this.md(),this.ud.jt().yf(null),this.Cd())},t.prototype.Sd=function(){return this.Q_},t.prototype.Lv=function(){this.td=1,this.Td()},t.prototype.Ev=function(t,e){if(this.ad.W().handleScale.pinch){var n=5*(e-this.td);this.td=e,this.pi().Ef(t.tt,n)}},t.prototype.Cv=function(t){if(this.nd=!1,this.hd=null!==this.sd,this.gd(),null!==this.sd){var e=this.pi().Tf();this.rd={x:e.$t(),y:e.Kt()},this.sd={x:t.Yv,y:t.$v}}},t.prototype.wv=function(t){if(null!==this.ud){var e=t.Yv,n=t.$v;if(null===this.sd)this.kd(t);else{this.hd=!1;var i=Jk(this.rd),r=i.x+(e-this.sd.x),s=i.y+(n-this.sd.y);this.pd(r,s)}}},t.prototype.pv=function(t){0===this.M_().W().trackingMode.exitMode&&(this.hd=!0),this.Dd(),this.Nd(t)},t.prototype.$h=function(t,e){var n=this.ud;if(null===n)return null;for(var i=0,r=n.oa();i<r.length;i++){var s=r[i],o=this.Ad(s.tn(n),t,e);if(null!==o)return{kf:s,i_:o.i_,yd:o.yd}}return null},t.prototype.Bd=function(t,e){Jk("left"===e?this.X_:this.Z_).P_(new nx(t,this.o_.Ot))},t.prototype.Ld=function(){return this.o_},t.prototype.P_=function(t){if(t.Ft<0||t.Ot<0)throw new Error("Try to set invalid size to PaneWidget "+JSON.stringify(t));this.o_.br(t)||(this.o_=t,this.__=!0,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.y_.resizeCanvas({width:t.Ft,height:t.Ot}),this.__=!1,this.ld.style.width=t.Ft+"px",this.ld.style.height=t.Ot+"px")},t.prototype.Ed=function(){var t=Jk(this.ud);t.Ha(t.Ya()),t.Ha(t.$a());for(var e=0,n=t.Ge();e<n.length;e++){var i=n[e];if(t.lh(i)){var r=i.Ct();null!==r&&t.Ha(r),i.hn()}}},t.prototype.Y_=function(){return this.g_.canvas},t.prototype.R_=function(t){if(0!==t&&null!==this.ud){if(t>1&&this.Ed(),null!==this.X_&&this.X_.R_(t),null!==this.Z_&&this.Z_.R_(t),1!==t){var e=rx(this.g_.canvas);e.save(),this.j_(e,this.g_.pixelRatio),this.ud&&(this.Fd(e,this.g_.pixelRatio),this.Od(e,this.g_.pixelRatio),this.Vd(e,this.g_.pixelRatio,Ex)),e.restore()}var n=rx(this.y_.canvas);n.clearRect(0,0,Math.ceil(this.o_.Ft*this.y_.pixelRatio),Math.ceil(this.o_.Ot*this.y_.pixelRatio)),this.Vd(n,this.g_.pixelRatio,kx),this.Pd(n,this.y_.pixelRatio)}},t.prototype.Wd=function(){return this.X_},t.prototype.zd=function(){return this.Z_},t.prototype.od=function(){null!==this.ud&&this.ud.ro().M(this),this.ud=null},t.prototype.j_=function(t,e){var n=this;DT(t,e,(function(){var e=n.pi(),i=e.Zf(),r=e.Xf();i===r?RT(t,0,0,n.o_.Ft,n.o_.Ot,r):LT(t,0,0,n.o_.Ft,n.o_.Ot,i,r)}))},t.prototype.Fd=function(t,e){var n=Jk(this.ud),i=n.eo().ou().dt(n.Yt(),n.Ht());null!==i&&(t.save(),i.H(t,e,!1),t.restore())},t.prototype.Od=function(t,e){var n=this.pi().Sf();this.Rd(t,e,Ex,_x,n),this.Rd(t,e,Ex,Sx,n)},t.prototype.Pd=function(t,e){this.Rd(t,e,Ex,Sx,this.pi().Tf())},t.prototype.Vd=function(t,e,n){for(var i=Jk(this.ud).oa(),r=0,s=i;r<s.length;r++){var o=s[r];this.Rd(t,e,n,_x,o)}for(var a=0,l=i;a<l.length;a++)o=l[a],this.Rd(t,e,n,Sx,o)},t.prototype.Rd=function(t,e,n,i,r){for(var s=Jk(this.ud),o=n(r,s),a=s.Yt(),l=s.Ht(),u=s.jt().gf(),c=null!==u&&u.kf===r,h=null!==u&&c&&void 0!==u.yd?u.yd.Kh:void 0,f=0,d=o;f<d.length;f++){var p=d[f].dt(a,l);null!==p&&(t.save(),i(p,t,e,c,h),t.restore())}},t.prototype.Ad=function(t,e,n){for(var i=0,r=t;i<r.length;i++){var s=r[i],o=s.dt(this.o_.Ot,this.o_.Ft);if(null!==o&&o.$h){var a=o.$h(e,n);if(null!==a)return{i_:s,yd:a}}}return null},t.prototype.Md=function(){if(null!==this.ud){var t=this.ad,e=this.ud.Ya().W().visible,n=this.ud.$a().W().visible;e||null===this.X_||(this.fd.removeChild(this.X_.B_()),this.X_.g(),this.X_=null),n||null===this.Z_||(this.vd.removeChild(this.Z_.B_()),this.Z_.g(),this.Z_=null);var i=t.jt().qf();e&&null===this.X_&&(this.X_=new bx(this,t.W().layout,i,"left"),this.fd.appendChild(this.X_.B_())),n&&null===this.Z_&&(this.Z_=new bx(this,t.W().layout,i,"right"),this.vd.appendChild(this.Z_.B_()))}},t.prototype.Id=function(t){return t.Gv&&this.nd||null!==this.sd},t.prototype.jd=function(t){return Math.max(0,Math.min(t,this.o_.Ft-1))},t.prototype.qd=function(t){return Math.max(0,Math.min(t,this.o_.Ot-1))},t.prototype.pd=function(t,e){this.pi().Rf(this.jd(t),this.qd(e),Jk(this.ud))},t.prototype.Cd=function(){this.pi().If()},t.prototype.Dd=function(){this.hd&&(this.sd=null,this.Cd())},t.prototype.xd=function(t,e){this.sd=t,this.hd=!1,this.pd(e.x,e.y);var n=this.pi().Tf();this.rd={x:n.$t(),y:n.Kt()}},t.prototype.pi=function(){return this.ad.jt()},t.prototype.Ud=function(){var t=this.pi(),e=this.z_(),n=e.ji();t.Qa(e,n),t.Pf(),this.J_=null,this.G_=!1},t.prototype.Nd=function(t){var e=this;if(this.G_){var n=performance.now();if(null!==this.ed&&this.ed.xh(t.Yv,n),null===this.ed||this.ed.cc(n))this.Ud();else{var i=this.pi(),r=i.bt(),s=this.ed,o=function(){if(!s._c()){var t=performance.now(),n=s.cc(t);if(!s._c()){var a=r.Nl();i.Vf(s.fc(t)),a===r.Nl()&&(n=!0,e.ed=null)}n?e.Ud():requestAnimationFrame(o)}};requestAnimationFrame(o)}}},t.prototype.md=function(){this.sd=null},t.prototype.gd=function(){if(this.ud){if(this.Td(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)Jk(document.activeElement).blur();else{var t=document.getSelection();null!==t&&t.removeAllRanges()}!this.ud.ji().wi()&&this.pi().bt().wi()}},t.prototype.kd=function(t){if(null!==this.ud){var e=this.pi();if(!e.bt().wi()){var n=this.ad.W(),i=n.handleScroll,r=n.kineticScroll;if(i.pressedMouseMove&&!t.Gv||(i.horzTouchDrag||i.vertTouchDrag)&&t.Gv){var s=this.ud.ji(),o=performance.now();null!==this.J_||this.Id(t)||(this.J_={x:t.Rv,y:t.Iv,So:o,Yv:t.Yv,$v:t.$v}),null!==this.ed&&this.ed.lc(t.Yv,o),null===this.J_||this.G_||this.J_.x===t.Rv&&this.J_.y===t.Iv||(null===this.ed&&(t.Gv&&r.touch||!t.Gv&&r.mouse)&&(this.ed=new ux(.2,7,.997,15),this.ed.lc(this.J_.Yv,this.J_.So),this.ed.lc(t.Yv,o)),s.wi()||e.Ja(this.ud,s,t.$v),e.Of(t.Yv),this.G_=!0),this.G_&&(s.wi()||e.Ga(this.ud,s,t.$v),e.Vf(t.Yv))}}}},t.prototype.Td=function(){var t=performance.now(),e=null===this.ed||this.ed.cc(t);null!==this.ed&&(e||this.Ud()),null!==this.ed&&(this.ed.dc(),this.ed=null)},t}(),Cx=function(){function t(t,e,n,i,r){var s=this;this.ft=!0,this.o_=new nx(0,0),this.d_=function(){return s.R_(3)},this.m_="left"===t,this.cf=n.qf,this.zi=e,this.Hd=i,this.Yd=r,this.p_=document.createElement("div"),this.p_.style.width="25px",this.p_.style.height="100%",this.p_.style.overflow="hidden",this.g_=ox(this.p_,new nx(16,16)),this.g_.subscribeCanvasConfigured(this.d_)}return t.prototype.g=function(){this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy()},t.prototype.B_=function(){return this.p_},t.prototype.Ld=function(){return this.o_},t.prototype.P_=function(t){if(t.Ft<0||t.Ot<0)throw new Error("Try to set invalid size to PriceAxisStub "+JSON.stringify(t));this.o_.br(t)||(this.o_=t,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.p_.style.width="".concat(t.Ft,"px"),this.p_.style.minWidth="".concat(t.Ft,"px"),this.p_.style.height="".concat(t.Ot,"px"),this.ft=!0)},t.prototype.R_=function(t){if((!(t<3)||this.ft)&&0!==this.o_.Ft&&0!==this.o_.Ot){this.ft=!1;var e=rx(this.g_.canvas);this.j_(e,this.g_.pixelRatio),this.Rs(e,this.g_.pixelRatio)}},t.prototype.Y_=function(){return this.g_.canvas},t.prototype.Rs=function(t,e){if(this.Hd()){var n=this.o_.Ft;t.save(),t.fillStyle=this.zi.timeScale.borderColor;var i=Math.floor(this.cf.W().N*e),r=this.m_?Math.round(n*e)-i:0;t.fillRect(r,0,i,i),t.restore()}},t.prototype.j_=function(t,e){var n=this;DT(t,e,(function(){RT(t,0,0,n.o_.Ft,n.o_.Ot,n.Yd())}))},t}();function Ix(t,e){return t.Po>e.Po?t:e}var xx=function(){function t(t){var e=this;this.$d=null,this.Kd=null,this.k=null,this.Xd=!1,this.o_=new nx(0,0),this.Zd=new dT,this.f_=new NC(5),this.__=!1,this.d_=function(){e.__||e.ad.jt().Wr()},this.b_=function(){e.__||e.ad.jt().Wr()},this.ad=t,this.zi=t.W().layout,this.Jd=document.createElement("tr"),this.Gd=document.createElement("td"),this.Gd.style.padding="0",this.Qd=document.createElement("td"),this.Qd.style.padding="0",this.p_=document.createElement("td"),this.p_.style.height="25px",this.p_.style.padding="0",this.tw=document.createElement("div"),this.tw.style.width="100%",this.tw.style.height="100%",this.tw.style.position="relative",this.tw.style.overflow="hidden",this.p_.appendChild(this.tw),this.g_=ox(this.tw,new nx(16,16)),this.g_.subscribeCanvasConfigured(this.d_);var n=this.g_.canvas;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.y_=ox(this.tw,new nx(16,16)),this.y_.subscribeCanvasConfigured(this.b_);var i=this.y_.canvas;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.Jd.appendChild(this.Gd),this.Jd.appendChild(this.p_),this.Jd.appendChild(this.Qd),this.iw(),this.ad.jt().Pa().u(this.iw.bind(this),this),this.A_=new dx(this.y_.canvas,this,{_v:function(){return!0},dv:function(){return!1}})}return t.prototype.g=function(){this.A_.g(),null!==this.$d&&this.$d.g(),null!==this.Kd&&this.Kd.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy()},t.prototype.B_=function(){return this.Jd},t.prototype.nw=function(){return this.$d},t.prototype.sw=function(){return this.Kd},t.prototype.Tv=function(t){if(!this.Xd){this.Xd=!0;var e=this.ad.jt();!e.bt().wi()&&this.ad.W().handleScale.axisPressedMouseMove.time&&e.Lf(t.Yv)}},t.prototype.Cv=function(t){this.Tv(t)},t.prototype.Dv=function(){var t=this.ad.jt();!t.bt().wi()&&this.Xd&&(this.Xd=!1,this.ad.W().handleScale.axisPressedMouseMove.time&&t.zf())},t.prototype.bv=function(t){var e=this.ad.jt();!e.bt().wi()&&this.ad.W().handleScale.axisPressedMouseMove.time&&e.Wf(t.Yv)},t.prototype.wv=function(t){this.bv(t)},t.prototype.yv=function(){this.Xd=!1;var t=this.ad.jt();t.bt().wi()&&!this.ad.W().handleScale.axisPressedMouseMove.time||t.zf()},t.prototype.pv=function(){this.yv()},t.prototype.nv=function(){this.ad.W().handleScale.axisDoubleClickReset&&this.ad.jt().pn()},t.prototype.Gc=function(){this.nv()},t.prototype.ov=function(){this.ad.jt().W().handleScale.axisPressedMouseMove.time&&this.K_(1)},t.prototype.Wv=function(){this.K_(0)},t.prototype.Ld=function(){return this.o_},t.prototype.hw=function(){return this.Zd},t.prototype.rw=function(t,e,n){this.o_&&this.o_.br(t)||(this.o_=t,this.__=!0,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.y_.resizeCanvas({width:t.Ft,height:t.Ot}),this.__=!1,this.p_.style.width=t.Ft+"px",this.p_.style.height=t.Ot+"px",this.Zd.m(t)),null!==this.$d&&this.$d.P_(new nx(e,t.Ot)),null!==this.Kd&&this.Kd.P_(new nx(n,t.Ot))},t.prototype.ew=function(){var t=this.uw();return Math.ceil(t.N+t.C+t.S+t.O+t.B)},t.prototype.vt=function(){this.ad.jt().bt().au()},t.prototype.Y_=function(){return this.g_.canvas},t.prototype.R_=function(t){if(0!==t){if(1!==t){var e=rx(this.g_.canvas);this.j_(e,this.g_.pixelRatio),this.Rs(e,this.g_.pixelRatio),this.q_(e,this.g_.pixelRatio),null!==this.$d&&this.$d.R_(t),null!==this.Kd&&this.Kd.R_(t)}var n=rx(this.y_.canvas),i=this.y_.pixelRatio;n.clearRect(0,0,Math.ceil(this.o_.Ft*i),Math.ceil(this.o_.Ot*i)),this.aw([this.ad.jt().Tf()],n,i)}},t.prototype.j_=function(t,e){var n=this;DT(t,e,(function(){RT(t,0,0,n.o_.Ft,n.o_.Ot,n.ad.jt().Xf())}))},t.prototype.Rs=function(t,e){if(this.ad.W().timeScale.borderVisible){t.save(),t.fillStyle=this.ow();var n=Math.max(1,Math.floor(this.uw().N*e));t.fillRect(0,0,Math.ceil(this.o_.Ft*e),n),t.restore()}},t.prototype.q_=function(t,e){var n=this,i=this.ad.jt().bt().au();if(i&&0!==i.length){var r=i.reduce(Ix,i[0]).Po;r>30&&r<50&&(r=30),t.save(),t.strokeStyle=this.ow();var s=this.uw(),o=s.N+s.C+s.O+s.S-s.V;t.textAlign="center",t.fillStyle=this.ow();var a=Math.floor(this.uw().N*e),l=Math.max(1,Math.floor(e)),u=Math.floor(.5*e);if(this.ad.jt().bt().W().borderVisible){t.beginPath();for(var c=Math.round(s.C*e),h=i.length;h--;){var f=Math.round(i[h].su*e);t.rect(f-u,a,l,c)}t.fill()}t.fillStyle=this.j(),DT(t,e,(function(){t.font=n.lw();for(var e=0,s=i;e<s.length;e++)if((c=s[e]).Po<r){var a=c.Sl?n.fw(t,c.su,c.yu):c.su;t.fillText(c.yu,a,o)}t.font=n.cw();for(var l=0,u=i;l<u.length;l++){var c;(c=u[l]).Po>=r&&(a=c.Sl?n.fw(t,c.su,c.yu):c.su,t.fillText(c.yu,a,o))}})),t.restore()}},t.prototype.fw=function(t,e,n){var i=this.f_.Qt(t,n),r=i/2,s=Math.floor(e-r)+.5;return s<0?e+=Math.abs(0-s):s+i>this.o_.Ft&&(e-=Math.abs(this.o_.Ft-(s+i))),e},t.prototype.aw=function(t,e,n){for(var i=this.uw(),r=0,s=t;r<s.length;r++)for(var o=0,a=s[r].Ti();o<a.length;o++){var l=a[o];e.save(),l.dt().H(e,i,n),e.restore()}},t.prototype.ow=function(){return this.ad.W().timeScale.borderColor},t.prototype.j=function(){return this.zi.textColor},t.prototype.R=function(){return this.zi.fontSize},t.prototype.lw=function(){return ET(this.R(),this.zi.fontFamily)},t.prototype.cw=function(){return ET(this.R(),this.zi.fontFamily,"bold")},t.prototype.uw=function(){null===this.k&&(this.k={N:1,V:NaN,O:NaN,B:NaN,mi:NaN,C:3,S:NaN,T:"",bi:new NC});var t=this.k,e=this.lw();if(t.T!==e){var n=this.R();t.S=n,t.T=e,t.O=Math.ceil(n/2.5),t.B=t.O,t.mi=Math.ceil(n/2),t.V=Math.round(this.R()/5),t.bi.ih()}return this.k},t.prototype.K_=function(t){this.p_.style.cursor=1===t?"ew-resize":"default"},t.prototype.iw=function(){var t=this.ad.jt(),e=t.W();e.leftPriceScale.visible||null===this.$d||(this.Gd.removeChild(this.$d.B_()),this.$d.g(),this.$d=null),e.rightPriceScale.visible||null===this.Kd||(this.Qd.removeChild(this.Kd.B_()),this.Kd.g(),this.Kd=null);var n={qf:this.ad.jt().qf()},i=function(){return e.leftPriceScale.borderVisible&&t.bt().W().borderVisible},r=function(){return t.Xf()};e.leftPriceScale.visible&&null===this.$d&&(this.$d=new Cx("left",e,n,i,r),this.Gd.appendChild(this.$d.B_())),e.rightPriceScale.visible&&null===this.Kd&&(this.Kd=new Cx("right",e,n,i,r),this.Qd.appendChild(this.Kd.B_()))},t}(),Mx=function(){function t(t,e){var n;this._w=[],this.dw=0,this.xu=0,this.hh=0,this.ww=0,this.Mw=0,this.bw=null,this.mw=!1,this.Q_=new dT,this.af=new dT,this.zi=e,this.Jd=document.createElement("div"),this.Jd.classList.add("tv-lightweight-charts"),this.Jd.style.overflow="hidden",this.Jd.style.width="100%",this.Jd.style.height="100%",(n=this.Jd).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.pw=document.createElement("table"),this.pw.setAttribute("cellspacing","0"),this.Jd.appendChild(this.pw),this.gw=this.yw.bind(this),this.Jd.addEventListener("wheel",this.gw,{passive:!1}),this.pi=new JI(this.ff.bind(this),this.zi),this.jt().Df().u(this.kw.bind(this),this),this.Nw=new xx(this),this.pw.appendChild(this.Nw.B_());var i=this.zi.width,r=this.zi.height;if(0===i||0===r){var s=t.getBoundingClientRect();0===i&&(i=Math.floor(s.width),i-=i%2),0===r&&(r=Math.floor(s.height),r-=r%2)}this.xw(i,r),this.Cw(),t.appendChild(this.Jd),this.Sw(),this.pi.bt().Pl().u(this.pi.Ce.bind(this.pi),this),this.pi.Pa().u(this.pi.Ce.bind(this.pi),this)}return t.prototype.jt=function(){return this.pi},t.prototype.W=function(){return this.zi},t.prototype.Tw=function(){return this._w},t.prototype.Dw=function(){return this.Nw},t.prototype.g=function(){this.Jd.removeEventListener("wheel",this.gw),0!==this.dw&&window.cancelAnimationFrame(this.dw),this.pi.Df().M(this),this.pi.bt().Pl().M(this),this.pi.Pa().M(this),this.pi.g();for(var t=0,e=this._w;t<e.length;t++){var n=e[t];this.pw.removeChild(n.B_()),n.Sd().M(this),n.g()}this._w=[],Jk(this.Nw).g(),null!==this.Jd.parentElement&&this.Jd.parentElement.removeChild(this.Jd),this.af.g(),this.Q_.g()},t.prototype.xw=function(t,e,n){if(void 0===n&&(n=!1),this.xu!==e||this.hh!==t){this.xu=e,this.hh=t;var i=e+"px",r=t+"px";Jk(this.Jd).style.height=i,Jk(this.Jd).style.width=r,this.pw.style.height=i,this.pw.style.width=r,n?this.Aw(new KT(3)):this.pi.Ce()}},t.prototype.R_=function(t){void 0===t&&(t=new KT(3));for(var e=0;e<this._w.length;e++)this._w[e].R_(t.wn(e).vn);this.zi.timeScale.visible&&this.Nw.R_(t.dn())},t.prototype.Pr=function(t){this.pi.Pr(t),this.Sw();var e=t.width||this.hh,n=t.height||this.xu;this.xw(e,n)},t.prototype.Sd=function(){return this.Q_},t.prototype.Df=function(){return this.af},t.prototype.Bw=function(){var t=this;null!==this.bw&&(this.Aw(this.bw),this.bw=null);var e=this._w[0],n=sx(document,new nx(this.hh,this.xu)),i=rx(n),r=ix(n);return DT(i,r,(function(){var n=0,r=0,s=function(e){for(var s=0;s<t._w.length;s++){var o=t._w[s],a=o.Ld().Ot,l=Jk("left"===e?o.Wd():o.zd()),u=l.Y_();i.drawImage(u,n,r,l.W_(),a),r+=a}};t.Lw()&&(s("left"),n=Jk(e.Wd()).W_()),r=0;for(var o=0;o<t._w.length;o++){var a=t._w[o],l=a.Ld(),u=a.Y_();i.drawImage(u,n,r,l.Ft,l.Ot),r+=l.Ot}n+=e.Ld().Ft,t.Ew()&&(r=0,s("right"));var c=function(e){var s=Jk("left"===e?t.Nw.nw():t.Nw.sw()),o=s.Ld(),a=s.Y_();i.drawImage(a,n,r,o.Ft,o.Ot)};if(t.zi.timeScale.visible){n=0,t.Lw()&&(c("left"),n=Jk(e.Wd()).W_());var h=t.Nw.Ld();u=t.Nw.Y_(),i.drawImage(u,n,r,h.Ft,h.Ot),t.Ew()&&(n+=e.Ld().Ft,c("right"),i.restore())}})),n},t.prototype.Fw=function(t){return"none"===t||"left"===t&&!this.Lw()||"right"===t&&!this.Ew()||0===this._w.length?0:Jk("left"===t?this._w[0].Wd():this._w[0].zd()).W_()},t.prototype.Ow=function(){for(var t=0,e=0,n=0,i=0,r=this._w;i<r.length;i++){var s=r[i];this.Lw()&&(e=Math.max(e,Jk(s.Wd()).O_())),this.Ew()&&(n=Math.max(n,Jk(s.zd()).O_())),t+=s.Wa()}var o=this.hh,a=this.xu,l=Math.max(o-e-n,0),u=this.zi.timeScale.visible,c=u?this.Nw.ew():0;c%2&&(c+=1);for(var h=0+c,f=a<h?0:a-h,d=f/t,p=0,m=0;m<this._w.length;++m){(s=this._w[m]).wd(this.pi.Cf()[m]);var g,v;v=m===this._w.length-1?f-p:Math.round(s.Wa()*d),p+=g=Math.max(v,2),s.P_(new nx(l,g)),this.Lw()&&s.Bd(e,"left"),this.Ew()&&s.Bd(n,"right"),s.z_()&&this.pi.Af(s.z_(),g)}this.Nw.rw(new nx(u?l:0,c),u?e:0,u?n:0),this.pi.Ra(l),this.ww!==e&&(this.ww=e),this.Mw!==n&&(this.Mw=n)},t.prototype.yw=function(t){var e=t.deltaX/100,n=-t.deltaY/100;if(0!==e&&this.zi.handleScroll.mouseWheel||0!==n&&this.zi.handleScale.mouseWheel){switch(t.cancelable&&t.preventDefault(),t.deltaMode){case t.DOM_DELTA_PAGE:e*=120,n*=120;break;case t.DOM_DELTA_LINE:e*=32,n*=32}if(0!==n&&this.zi.handleScale.mouseWheel){var i=Math.sign(n)*Math.min(1,Math.abs(n)),r=t.clientX-this.Jd.getBoundingClientRect().left;this.jt().Ef(r,i)}0!==e&&this.zi.handleScroll.mouseWheel&&this.jt().Ff(-80*e)}},t.prototype.Aw=function(t){var e,n=t.dn();3===n&&this.Vw(),3!==n&&2!==n||(this.Pw(t),this.Ww(t),this.Nw.vt(),this._w.forEach((function(t){t.bd()})),3===(null===(e=this.bw)||void 0===e?void 0:e.dn())&&(this.bw.Nn(t),this.Vw(),this.Pw(this.bw),this.Ww(this.bw),t=this.bw,this.bw=null)),this.R_(t)},t.prototype.Ww=function(t){for(var e=0,n=t.kn();e<n.length;e++){var i=n[e];this.xn(i)}},t.prototype.Pw=function(t){for(var e=this.pi.Cf(),n=0;n<e.length;n++)t.wn(n)._n&&e[n].so()},t.prototype.xn=function(t){var e=this.pi.bt();switch(t.bn){case 0:e.zl();break;case 1:e.Rl(t.St);break;case 2:e.gn(t.St);break;case 3:e.yn(t.St);break;case 4:e.Tl()}},t.prototype.ff=function(t){var e=this;null!==this.bw?this.bw.Nn(t):this.bw=t,this.mw||(this.mw=!0,this.dw=window.requestAnimationFrame((function(){if(e.mw=!1,e.dw=0,null!==e.bw){var t=e.bw;e.bw=null,e.Aw(t)}})))},t.prototype.Vw=function(){this.Cw()},t.prototype.Cw=function(){for(var t=this.pi.Cf(),e=t.length,n=this._w.length,i=e;i<n;i++){var r=Yk(this._w.pop());this.pw.removeChild(r.B_()),r.Sd().M(this),r.g()}for(i=n;i<e;i++)(r=new Tx(this,t[i])).Sd().u(this.zw.bind(this),this),this._w.push(r),this.pw.insertBefore(r.B_(),this.Nw.B_());for(i=0;i<e;i++){var s=t[i];(r=this._w[i]).z_()!==s?r.wd(s):r.dd()}this.Sw(),this.Ow()},t.prototype.Rw=function(t,e){var n,i=new Map;if(null!==t&&this.pi._t().forEach((function(e){var n=e.er(t);null!==n&&i.set(e,n)})),null!==t){var r=this.pi.bt().gi(t);null!==r&&(n=r)}var s=this.jt().gf(),o=null!==s&&s.kf instanceof cI?s.kf:void 0,a=null!==s&&void 0!==s.yd?s.yd.Zh:void 0;return{rt:n,Iw:e||void 0,jw:o,qw:i,Uw:a}},t.prototype.zw=function(t,e){var n=this;this.Q_.m((function(){return n.Rw(t,e)}))},t.prototype.kw=function(t,e){var n=this;this.af.m((function(){return n.Rw(t,e)}))},t.prototype.Sw=function(){var t=this.zi.timeScale.visible?"":"none";this.Nw.B_().style.display=t},t.prototype.Lw=function(){return this._w[0].z_().Ya().W().visible},t.prototype.Ew=function(){return this._w[0].z_().$a().W().visible},t}();function Nx(t,e,n){var i=n.value;return{vs:e,rt:t,St:[i,i,i,i]}}function Ox(t,e,n){var i=n.value,r={vs:e,rt:t,St:[i,i,i,i]};return"color"in n&&void 0!==n.color&&(r.A=n.color),r}function Px(t){return void 0!==t.St}function Ax(t){return function(e,n,i){return void 0===(r=i).open&&void 0===r.value?{rt:e,vs:n}:t(e,n,i);var r}}var Dx={Candlestick:Ax((function(t,e,n){var i={vs:e,rt:t,St:[n.open,n.high,n.low,n.close]};return"color"in n&&void 0!==n.color&&(i.A=n.color),"borderColor"in n&&void 0!==n.borderColor&&(i.Tt=n.borderColor),"wickColor"in n&&void 0!==n.wickColor&&(i.qs=n.wickColor),i})),Bar:Ax((function(t,e,n){var i={vs:e,rt:t,St:[n.open,n.high,n.low,n.close]};return"color"in n&&void 0!==n.color&&(i.A=n.color),i})),Area:Ax(Nx),Baseline:Ax(Nx),Histogram:Ax(Ox),Line:Ax(Ox)};function Rx(t){return Dx[t]}function Lx(t){return 60*t*60*1e3}function jx(t){return 60*t*1e3}var Fx=[{Hw:(1,1e3),Po:10},{Hw:jx(1),Po:20},{Hw:jx(5),Po:21},{Hw:jx(30),Po:22},{Hw:Lx(1),Po:30},{Hw:Lx(3),Po:31},{Hw:Lx(6),Po:32},{Hw:Lx(12),Po:33}];function Vx(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(var n=Fx.length-1;n>=0;--n)if(Math.floor(e.getTime()/Fx[n].Hw)!==Math.floor(t.getTime()/Fx[n].Hw))return Fx[n].Po;return 0}function zx(t,e){if(void 0===e&&(e=0),0!==t.length){for(var n=0===e?null:t[e-1].rt.So,i=null!==n?new Date(1e3*n):null,r=0,s=e;s<t.length;++s){var o=t[s],a=new Date(1e3*o.rt.So);null!==i&&(o.Vo=Vx(a,i)),r+=o.rt.So-(n||o.rt.So),n=o.rt.So,i=a}if(0===e&&t.length>1){var l=Math.ceil(r/(t.length-1)),u=new Date(1e3*(t[0].rt.So-l));t[0].Vo=Vx(new Date(1e3*t[0].rt.So),u)}}}function Ux(t){if(!tx(t))throw new Error("time must be of type BusinessDay");var e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{So:Math.round(e.getTime()/1e3),Co:t}}function Bx(t){if(!ex(t))throw new Error("time must be of type isUTCTimestamp");return{So:t}}function Wx(t){return 0===t.length?null:tx(t[0].time)?Ux:Bx}function qx(t){return ex(t)?Bx(t):tx(t)?Ux(t):Ux(Hx(t))}function Hx(t){var e=new Date(t);if(isNaN(e.getTime()))throw new Error("Invalid date string=".concat(t,", expected format=yyyy-mm-dd"));return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function Gx(t){vT(t.time)&&(t.time=Hx(t.time))}function Kx(t){return{vs:0,Yw:new Map,Ve:t}}function Qx(t){if(void 0!==t&&0!==t.length)return{$w:t[0].rt.So,Kw:t[t.length-1].rt.So}}var Xx=function(){function t(){this.Xw=new Map,this.Zw=new Map,this.Jw=new Map,this.Gw=[]}return t.prototype.g=function(){this.Xw.clear(),this.Zw.clear(),this.Jw.clear(),this.Gw=[]},t.prototype.Qw=function(t,e){var n=this,i=0!==this.Xw.size,r=!1,s=this.Zw.get(t);if(void 0!==s)if(1===this.Zw.size)i=!1,r=!0,this.Xw.clear();else for(var o=0,a=this.Gw;o<a.length;o++)a[o].pointData.Yw.delete(t)&&(r=!0);var l=[];if(0!==e.length){!function(t){t.forEach(Gx)}(e);var u=Jk(Wx(e)),c=Rx(t.Rr());l=e.map((function(e){var i=u(e.time),s=n.Xw.get(i.So);void 0===s&&(s=Kx(i),n.Xw.set(i.So,s),r=!0);var o=c(i,s.vs,e);return s.Yw.set(t,o),o}))}i&&this.tM(),this.iM(t,l);var h=-1;if(r){var f=[];this.Xw.forEach((function(t){f.push({Vo:0,rt:t.Ve,pointData:t})})),f.sort((function(t,e){return t.rt.So-e.rt.So})),h=this.nM(f)}return this.sM(t,h,function(t,e){var n=Qx(t),i=Qx(e);if(void 0!==n&&void 0!==i)return{Ae:n.Kw>=i.Kw&&n.$w>=i.$w}}(this.Zw.get(t),s))},t.prototype.Yf=function(t){return this.Qw(t,[])},t.prototype.hM=function(t,e){Gx(e);var n=Jk(Wx([e]))(e.time),i=this.Jw.get(t);if(void 0!==i&&n.So<i.So)throw new Error("Cannot update oldest data, last time=".concat(i.So,", new time=").concat(n.So));var r=this.Xw.get(n.So),s=void 0===r;void 0===r&&(r=Kx(n),this.Xw.set(n.So,r));var o=Rx(t.Rr())(n,r.vs,e);r.Yw.set(t,o),this.rM(t,o);var a={Ae:Px(o)};if(!s)return this.sM(t,-1,a);var l={Vo:0,rt:r.Ve,pointData:r},u=iC(this.Gw,l.rt.So,(function(t,e){return t.rt.So<e}));this.Gw.splice(u,0,l);for(var c=u;c<this.Gw.length;++c)$x(this.Gw[c].pointData,c);return zx(this.Gw,u),this.sM(t,u,a)},t.prototype.rM=function(t,e){var n=this.Zw.get(t);void 0===n&&(n=[],this.Zw.set(t,n));var i=0!==n.length?n[n.length-1]:null;null===i||e.rt.So>i.rt.So?Px(e)&&n.push(e):Px(e)?n[n.length-1]=e:n.splice(-1,1),this.Jw.set(t,e.rt)},t.prototype.iM=function(t,e){0!==e.length?(this.Zw.set(t,e.filter(Px)),this.Jw.set(t,e[e.length-1].rt)):(this.Zw.delete(t),this.Jw.delete(t))},t.prototype.tM=function(){for(var t=0,e=this.Gw;t<e.length;t++){var n=e[t];0===n.pointData.Yw.size&&this.Xw.delete(n.rt.So)}},t.prototype.nM=function(t){for(var e=-1,n=0;n<this.Gw.length&&n<t.length;++n){var i=this.Gw[n],r=t[n];if(i.rt.So!==r.rt.So){e=n;break}r.Vo=i.Vo,$x(r.pointData,n)}if(-1===e&&this.Gw.length!==t.length&&(e=Math.min(this.Gw.length,t.length)),-1===e)return-1;for(n=e;n<t.length;++n)$x(t[n].pointData,n);return zx(t,e),this.Gw=t,e},t.prototype.eM=function(){if(0===this.Zw.size)return null;var t=0;return this.Zw.forEach((function(e){0!==e.length&&(t=Math.max(t,e[e.length-1].vs))})),t},t.prototype.sM=function(t,e,n){var i={uM:new Map,bt:{ml:this.eM()}};if(-1!==e)this.Zw.forEach((function(e,r){i.uM.set(r,{ph:e,aM:r===t?n:void 0})})),this.Zw.has(t)||i.uM.set(t,{ph:[],aM:n}),i.bt.oM=this.Gw,i.bt.lM=e;else{var r=this.Zw.get(t);i.uM.set(t,{ph:r||[],aM:n})}return i},t}();function $x(t,e){t.vs=e,t.Yw.forEach((function(t){t.vs=e}))}var Yx={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:""},Jx=function(){function t(t){this.Lr=t}return t.prototype.applyOptions=function(t){this.Lr.Pr(t)},t.prototype.options=function(){return this.Lr.W()},t.prototype.fM=function(){return this.Lr},t}();function Zx(t){var e=t.overlay,n=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}(t,["overlay"]);return e&&(n.priceScaleId=""),n}var tM=function(){function t(t,e,n){this.Kn=t,this.cM=e,this.vM=n}return t.prototype.priceFormatter=function(){return this.Kn.qe()},t.prototype.priceToCoordinate=function(t){var e=this.Kn.kt();return null===e?null:this.Kn.Ct().xt(t,e.St)},t.prototype.coordinateToPrice=function(t){var e=this.Kn.kt();return null===e?null:this.Kn.Ct().qi(t,e.St)},t.prototype.barsInLogicalRange=function(t){if(null===t)return null;var e=new WI(new VI(t.from,t.to)).jo(),n=this.Kn.an();if(n.wi())return null;var i=n.ne(e.In(),1),r=n.ne(e.jn(),-1),s=Jk(n.Qr()),o=Jk(n.un());if(null!==i&&null!==r&&i.vs>r.vs)return{barsBefore:t.from-s,barsAfter:o-t.to};var a={barsBefore:null===i||i.vs===s?t.from-s:i.vs-s,barsAfter:null===r||r.vs===o?o-t.to:o-r.vs};return null!==i&&null!==r&&(a.from=i.rt.Co||i.rt.So,a.to=r.rt.Co||r.rt.So),a},t.prototype.setData=function(t){this.Kn.Rr(),this.cM._M(this.Kn,t)},t.prototype.update=function(t){this.Kn.Rr(),this.cM.dM(this.Kn,t)},t.prototype.setMarkers=function(t){var e=t.map((function(t){return hT(hT({},t),{time:qx(t.time)})}));this.Kn.Le(e)},t.prototype.applyOptions=function(t){var e=Zx(t);this.Kn.Pr(e)},t.prototype.options=function(){return wT(this.Kn.W())},t.prototype.priceScale=function(){return this.vM.priceScale(this.Kn.Ct().Ke())},t.prototype.createPriceLine=function(t){var e=pT(wT(Yx),t),n=this.Kn.Ee(e);return new Jx(n)},t.prototype.removePriceLine=function(t){this.Kn.Fe(t.fM())},t.prototype.seriesType=function(){return this.Kn.Rr()},t}(),eM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cT(e,t),e.prototype.applyOptions=function(e){ZI(e),t.prototype.applyOptions.call(this,e)},e}(tM),nM={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,drawTicks:!0,scaleMargins:{bottom:.1,top:.2}},iM={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:ST,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"},rM={width:0,height:0,layout:{background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:11,fontFamily:ST},crosshair:{vertLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},horzLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},mode:1},grid:{vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},overlayPriceScales:hT({},nM),leftPriceScale:hT(hT({},nM),{visible:!1}),rightPriceScale:hT(hT({},nM),{visible:!0}),timeScale:{rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0},watermark:iM,localization:{locale:cx?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:!0,mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}},sM={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},oM={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},aM={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},lM={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},uM={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},cM={color:"#26a69a",base:0},hM={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}},fM=function(){function t(t,e){this.wM=t,this.MM=e}return t.prototype.applyOptions=function(t){this.wM.jt().Nf(this.MM,t)},t.prototype.options=function(){return this._i().W()},t.prototype.width=function(){return GT(this.MM)?this.wM.Fw("left"===this.MM?"left":"right"):0},t.prototype._i=function(){return Jk(this.wM.jt().xf(this.MM)).Ct},t}(),dM=function(){function t(t,e){this.bM=new dT,this.Go=new dT,this.Zd=new dT,this.pi=t,this.Da=t.bt(),this.Nw=e,this.Da.Ol().u(this.mM.bind(this)),this.Da.Vl().u(this.pM.bind(this)),this.Nw.hw().u(this.gM.bind(this))}return t.prototype.g=function(){this.Da.Ol().M(this),this.Da.Vl().M(this),this.Nw.hw().M(this),this.bM.g(),this.Go.g(),this.Zd.g()},t.prototype.scrollPosition=function(){return this.Da.Nl()},t.prototype.scrollToPosition=function(t,e){e?this.Da.Fl(t,1e3):this.pi.yn(t)},t.prototype.scrollToRealTime=function(){this.Da.El()},t.prototype.getVisibleRange=function(){var t,e,n=this.Da.cl();return null===n?null:{from:null!==(t=n.from.Co)&&void 0!==t?t:n.from.So,to:null!==(e=n.to.Co)&&void 0!==e?e:n.to.So}},t.prototype.setVisibleRange=function(t){var e={from:qx(t.from),to:qx(t.to)},n=this.Da.wl(e);this.pi.$f(n)},t.prototype.getVisibleLogicalRange=function(){var t=this.Da.fl();return null===t?null:{from:t.In(),to:t.jn()}},t.prototype.setVisibleLogicalRange=function(t){$k(t.from<=t.to,"The from index cannot be after the to index."),this.pi.$f(t)},t.prototype.resetTimeScale=function(){this.pi.pn()},t.prototype.fitContent=function(){this.pi.zl()},t.prototype.logicalToCoordinate=function(t){var e=this.pi.bt();return e.wi()?null:e.At(t)},t.prototype.coordinateToLogical=function(t){return this.Da.wi()?null:this.Da.pl(t)},t.prototype.timeToCoordinate=function(t){var e=qx(t),n=this.Da.Ze(e,!1);return null===n?null:this.Da.At(n)},t.prototype.coordinateToTime=function(t){var e,n=this.pi.bt(),i=n.pl(t),r=n.gi(i);return null===r?null:null!==(e=r.Co)&&void 0!==e?e:r.So},t.prototype.width=function(){return this.Nw.Ld().Ft},t.prototype.height=function(){return this.Nw.Ld().Ot},t.prototype.subscribeVisibleTimeRangeChange=function(t){this.bM.u(t)},t.prototype.unsubscribeVisibleTimeRangeChange=function(t){this.bM._(t)},t.prototype.subscribeVisibleLogicalRangeChange=function(t){this.Go.u(t)},t.prototype.unsubscribeVisibleLogicalRangeChange=function(t){this.Go._(t)},t.prototype.subscribeSizeChange=function(t){this.Zd.u(t)},t.prototype.unsubscribeSizeChange=function(t){this.Zd._(t)},t.prototype.applyOptions=function(t){this.Da.Pr(t)},t.prototype.options=function(){return wT(this.Da.W())},t.prototype.mM=function(){this.bM.p()&&this.bM.m(this.getVisibleRange())},t.prototype.pM=function(){this.Go.p()&&this.Go.m(this.getVisibleLogicalRange())},t.prototype.gM=function(t){this.Zd.m(t.Ft,t.Ot)},t}();function pM(t){if(void 0!==t&&"custom"!==t.type){var e=t;void 0!==e.minMove&&void 0===e.precision&&(e.precision=function(t){if(t>=1)return 0;for(var e=0;e<8;e++){var n=Math.round(t);if(Math.abs(n-t)<1e-8)return e;t*=10}return e}(e.minMove))}}function mM(t){return function(t){if(yT(t.handleScale)){var e=t.handleScale;t.handleScale={axisDoubleClickReset:e,axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(void 0!==t.handleScale&&yT(t.handleScale.axisPressedMouseMove)){var n=t.handleScale.axisPressedMouseMove;t.handleScale.axisPressedMouseMove={time:n,price:n}}var i=t.handleScroll;yT(i)&&(t.handleScroll={horzTouchDrag:i,vertTouchDrag:i,mouseWheel:i,pressedMouseMove:i})}(t),function(t){if(t.priceScale){t.leftPriceScale=t.leftPriceScale||{},t.rightPriceScale=t.rightPriceScale||{};var e=t.priceScale.position;delete t.priceScale.position,t.leftPriceScale=pT(t.leftPriceScale,t.priceScale),t.rightPriceScale=pT(t.rightPriceScale,t.priceScale),"left"===e&&(t.leftPriceScale.visible=!0,t.rightPriceScale.visible=!1),"right"===e&&(t.leftPriceScale.visible=!1,t.rightPriceScale.visible=!0),"none"===e&&(t.leftPriceScale.visible=!1,t.rightPriceScale.visible=!1),t.overlayPriceScales=t.overlayPriceScales||{},void 0!==t.priceScale.invertScale&&(t.overlayPriceScales.invertScale=t.priceScale.invertScale),void 0!==t.priceScale.scaleMargins&&(t.overlayPriceScales.scaleMargins=t.priceScale.scaleMargins)}}(t),function(t){t.layout&&t.layout.backgroundColor&&!t.layout.background&&(t.layout.background={type:"solid",color:t.layout.backgroundColor})}(t),t}var gM=function(){function t(t,e){var n=this;this.yM=new Xx,this.kM=new Map,this.NM=new Map,this.xM=new dT,this.CM=new dT;var i=void 0===e?wT(rM):pT(wT(rM),mM(e));this.wM=new Mx(t,i),this.wM.Sd().u((function(t){n.xM.p()&&n.xM.m(n.SM(t()))}),this),this.wM.Df().u((function(t){n.CM.p()&&n.CM.m(n.SM(t()))}),this);var r=this.wM.jt();this.TM=new dM(r,this.wM.Dw())}return t.prototype.remove=function(){this.wM.Sd().M(this),this.wM.Df().M(this),this.TM.g(),this.wM.g(),this.kM.clear(),this.NM.clear(),this.xM.g(),this.CM.g(),this.yM.g()},t.prototype.resize=function(t,e,n){this.wM.xw(t,e,n)},t.prototype.addAreaSeries=function(t){void 0===t&&(t={}),pM((t=Zx(t)).priceFormat);var e=pT(wT(hM),lM,t),n=this.wM.jt().Uf("Area",e),i=new tM(n,this,this);return this.kM.set(i,n),this.NM.set(n,i),i},t.prototype.addBaselineSeries=function(t){void 0===t&&(t={}),pM((t=Zx(t)).priceFormat);var e=pT(wT(hM),wT(uM),t),n=this.wM.jt().Uf("Baseline",e),i=new tM(n,this,this);return this.kM.set(i,n),this.NM.set(n,i),i},t.prototype.addBarSeries=function(t){void 0===t&&(t={}),pM((t=Zx(t)).priceFormat);var e=pT(wT(hM),oM,t),n=this.wM.jt().Uf("Bar",e),i=new tM(n,this,this);return this.kM.set(i,n),this.NM.set(n,i),i},t.prototype.addCandlestickSeries=function(t){void 0===t&&(t={}),ZI(t=Zx(t)),pM(t.priceFormat);var e=pT(wT(hM),sM,t),n=this.wM.jt().Uf("Candlestick",e),i=new eM(n,this,this);return this.kM.set(i,n),this.NM.set(n,i),i},t.prototype.addHistogramSeries=function(t){void 0===t&&(t={}),pM((t=Zx(t)).priceFormat);var e=pT(wT(hM),cM,t),n=this.wM.jt().Uf("Histogram",e),i=new tM(n,this,this);return this.kM.set(i,n),this.NM.set(n,i),i},t.prototype.addLineSeries=function(t){void 0===t&&(t={}),pM((t=Zx(t)).priceFormat);var e=pT(wT(hM),aM,t),n=this.wM.jt().Uf("Line",e),i=new tM(n,this,this);return this.kM.set(i,n),this.NM.set(n,i),i},t.prototype.removeSeries=function(t){var e=Yk(this.kM.get(t)),n=this.yM.Yf(e);this.wM.jt().Yf(e),this.DM(n),this.kM.delete(t),this.NM.delete(e)},t.prototype._M=function(t,e){this.DM(this.yM.Qw(t,e))},t.prototype.dM=function(t,e){this.DM(this.yM.hM(t,e))},t.prototype.subscribeClick=function(t){this.xM.u(t)},t.prototype.unsubscribeClick=function(t){this.xM._(t)},t.prototype.subscribeCrosshairMove=function(t){this.CM.u(t)},t.prototype.unsubscribeCrosshairMove=function(t){this.CM._(t)},t.prototype.priceScale=function(t){return void 0===t&&(t=this.wM.jt().Kf()),new fM(this.wM,t)},t.prototype.timeScale=function(){return this.TM},t.prototype.applyOptions=function(t){this.wM.Pr(mM(t))},t.prototype.options=function(){return this.wM.W()},t.prototype.takeScreenshot=function(){return this.wM.Bw()},t.prototype.DM=function(t){var e=this.wM.jt();e.jf(t.bt.ml,t.bt.oM,t.bt.lM),t.uM.forEach((function(t,e){return e.Z(t.ph,t.aM)})),e.yl()},t.prototype.AM=function(t){return Yk(this.NM.get(t))},t.prototype.SM=function(t){var e=this,n=new Map;t.qw.forEach((function(t,i){n.set(e.AM(i),t)}));var i=void 0===t.jw?void 0:this.AM(t.jw);return{time:t.rt&&(t.rt.Co||t.rt.So),point:t.Iw,hoveredSeries:i,hoveredMarkerId:t.Uw,seriesPrices:n}},t}();const vM=Yn({name:"ParamClicked",initialState:{value:{price:"",time:""}},reducers:{setParamClick:(t,e)=>{t.value=e.payload}}}),{setParamClick:yM}=vM.actions,wM=vM.reducer;function bM(t){let{cryptoCoin:n}=t;const[i,r]=(0,e.useState)([]);return(0,e.useEffect)((()=>{function t(){try{(t=n,Qt.get("https://api.binance.com/api/v3/ticker?symbol="+t)).then((t=>{var e=parseFloat(t.data.priceChangePercent).toFixed(2),n=parseFloat(t.data.lowPrice).toFixed(2),i=parseFloat(t.data.openPrice).toFixed(2);r([e,n,i])}))}catch(e){r(["not found","not found","not found"])}var t}t();var e=setInterval(t,2e3);return()=>{clearInterval(e)}}),[n]),(0,Bk.jsxs)(Bk.Fragment,{children:[(0,Bk.jsxs)("div",{children:["24h Percent Change",(0,Bk.jsx)("br",{}),(0,Bk.jsx)("p",{style:i[0]>0?{color:"green"}:{color:"red"},children:i[0]})]}),(0,Bk.jsxs)("div",{children:["24h Low",(0,Bk.jsx)("br",{}),i[1]]})]})}const _M=()=>{const[t,n]=(0,e.useState)("30m"),i=(0,e.useRef)(null);var r=ve(),s=(0,e.useRef)(null),o=(0,e.useRef)(null);const a=(0,e.useRef)(),l=(0,e.useRef)(null),u=(0,e.useRef)(null),c=(0,e.useRef)(null),h=le((t=>t.calcInfo.value)),f=le((t=>t.cryptoCoin.value.cryptoCoin)),d=le((t=>t.newTrade.value)),[p,m]=(0,e.useTransition)();(0,e.useEffect)((()=>{const t={handleScale:{axisPressedMouseMove:!0},layout:{backgroundColor:"#253248",textColor:"rgba(255, 255, 255, 0.9)"},grid:{vertLines:{color:"#334158"},horzLines:{color:"#334158"}},crosshair:{mode:jT.Normal},priceScale:{borderColor:"#485c7b"},timeScale:{borderColor:"#485c7b"},width:a.current.clientWidth,height:a.current.clientHeight,timeScale:{timeVisible:!0,secondVisible:!1}};s.current=function(t,e){var n;if(vT(t)){var i=document.getElementById(t);$k(null!==i,"Cannot find element in DOM with id=".concat(t)),n=i}else n=t;return new gM(n,e)}(a.current,t),s.current.timeScale().fitContent(),o.current=s.current.addCandlestickSeries(),s.current.subscribeClick((function(t){if(!t.point)return;const e=o.current.coordinateToPrice(t.point.y).toFixed(2);var n=1e3*t.time;n=Number.isNaN(n)?"":n,r(yM({price:e,time:n}))}));const e=new ResizeObserver((()=>{s.current.applyOptions({width:a.current.clientWidth,height:a.current.clientHeight})}));return e.observe(a.current),()=>{e.disconnect()}}),[]),(0,e.useEffect)((()=>{const e=new WebSocket(((t,e)=>"wss://stream.binance.com:9443/ws/"+e.toLowerCase()+"@kline_"+t)(t,f));return m((()=>{e.onmessage=function(t){var e=JSON.parse(t.data),n={time:e.k.t/1e3,open:e.k.o,high:e.k.h,low:e.k.l,close:e.k.c};i.current=n.close,o.current.update(n)},((t,e)=>Qt.get("https://api.binance.com/api/v3/klines?symbol="+e+"&interval="+t+"&limit=1000"))(t,f).then((t=>{const e=t.data.map((t=>({time:t[0]/1e3,open:t[1],high:t[2],low:t[3],close:t[4]}))),n=e.length;i.current=e[n-1].open,o.current.setData(e)}))})),()=>{e.close()}}),[t,f]);const g=(t,e,n,i)=>{if("takeProfit"===n){if("long"===e)var r=t+i/100*t;else if("short"===e)r=t-i/100*t;return r}if("long"===e)var s=t-i/100*t;else if("short"===e)s=t+i/100*t;return s},v=(t,e,n,i,s)=>{null===l.current&&null===u.current&&null===c.current&&(l.current=o.current.createPriceLine({title:"entry @",color:"#b0c4de",lineWidth:1,lineStyle:null,axisLabelVisible:!0,lineVisible:!0}),u.current=o.current.createPriceLine({title:"StopLoss @",color:"red",lineWidth:2,lineStyle:null,axisLabelVisible:!0,lineVisible:!0}),c.current=o.current.createPriceLine({title:"TakeProfit @",color:"green",lineWidth:2,lineStyle:null,axisLabelVisible:!0,lineVisible:!0}));var a=g(parseFloat(t),i,"takeProfit",n),h=g(parseFloat(t),i,"stopLoss",e);l.current.applyOptions({price:t}),c.current.applyOptions({price:a}),u.current.applyOptions({price:h}),r(zk({price:parseFloat(t).toFixed(2),stopLoss:h.toFixed(2),takeProfit:a.toFixed(2)}))};return(0,e.useEffect)((()=>{if(null===h)return r(zk(null)),void(l.current&&(o.current.removePriceLine(l.current),l.current=null,o.current.removePriceLine(u.current),u.current=null,o.current.removePriceLine(c.current),c.current=null));var t=h.orderType,e=h.stopLoss,n=h.takeProfit,s=(n=h.takeProfit,h.price),a=h.positionType;h.checkBox;"marketOrder"!==t?"limitOrder"===t&&v(s,e,n,a):v(i.current,e,n,a)}),[h]),(0,e.useEffect)((()=>{if(null!==d){var t=[];d.map((e=>{e.cryptoCoin===f&&t.push({time:e.date/1e3,position:"short"===e.posType?"aboveBar":"belowBar",color:"short"===e.posType?"#e91e63":"#008000",shape:"short"===e.posType?"arrowDown":"arrowUp",text:"short"===e.posType?"Sell":"Buy"})})),o.current.setMarkers(t)}}),[d,f]),(0,Bk.jsxs)(e.Fragment,{children:[(0,Bk.jsx)("div",{className:"delete",style:{position:"absolute",top:"0"}}),(0,Bk.jsxs)("div",{className:"chartTab_info",children:[(0,Bk.jsx)(bM,{cryptoCoin:f}),(0,Bk.jsxs)("div",{className:"chartTab_timerDropDown",children:["Time Frame",(0,Bk.jsx)("br",{}),t,(0,Bk.jsx)("div",{className:"chartTab_timerDropDown-content",children:["30m","1h","4h","1d"].map(((t,e)=>(0,Bk.jsxs)("p",{className:"chartTab_timerDropDown-content-button",children:[(0,Bk.jsx)("button",{onClick:()=>{n(t)},children:t}),(0,Bk.jsx)("br",{})]},e)))}),(0,Bk.jsx)("i",{className:"fa-solid fa-angle-up"})]})]}),(0,Bk.jsx)("div",{className:"chartTab_outer",children:(0,Bk.jsx)("div",{className:"chartTab_container",children:(0,Bk.jsx)("div",{ref:a,style:{width:"100%",height:"100%"}})})})]})},SM=Yn({name:"chartClicked",initialState:{value:!0},reducers:{displayChart:(t,e)=>{t.value=e.payload}}}),{displayChart:EM}=SM.actions,kM=SM.reducer;function TM(){return TM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},TM.apply(this,arguments)}var CM;!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(CM||(CM={}));var IM=function(t){return t};var xM="beforeunload",MM="hashchange",NM="popstate";function OM(t){void 0===t&&(t={});var e=t.window,n=void 0===e?document.defaultView:e,i=n.history;function r(){var t=LM(n.location.hash.substr(1)),e=t.pathname,r=void 0===e?"/":e,s=t.search,o=void 0===s?"":s,a=t.hash,l=void 0===a?"":a,u=i.state||{};return[u.idx,IM({pathname:r,search:o,hash:l,state:u.usr||null,key:u.key||"default"})]}var s=null;function o(){if(s)f.call(s),s=null;else{var t=CM.Pop,e=r(),n=e[0],i=e[1];if(f.length){if(null!=n){var o=u-n;o&&(s={action:t,location:i,retry:function(){y(-1*o)}},y(o))}}else v(t)}}n.addEventListener(NM,o),n.addEventListener(MM,(function(){RM(r()[1])!==RM(c)&&o()}));var a=CM.Pop,l=r(),u=l[0],c=l[1],h=AM(),f=AM();function d(t){return function(){var t=document.querySelector("base"),e="";if(t&&t.getAttribute("href")){var i=n.location.href,r=i.indexOf("#");e=-1===r?i:i.slice(0,r)}return e}()+"#"+("string"===typeof t?t:RM(t))}function p(t,e){return void 0===e&&(e=null),IM(TM({pathname:c.pathname,hash:"",search:""},"string"===typeof t?LM(t):t,{state:e,key:DM()}))}function m(t,e){return[{usr:t.state,key:t.key,idx:e},d(t)]}function g(t,e,n){return!f.length||(f.call({action:t,location:e,retry:n}),!1)}function v(t){a=t;var e=r();u=e[0],c=e[1],h.call({action:a,location:c})}function y(t){i.go(t)}null==u&&(u=0,i.replaceState(TM({},i.state,{idx:u}),""));var w={get action(){return a},get location(){return c},createHref:d,push:function t(e,r){var s=CM.Push,o=p(e,r);if(g(s,o,(function(){t(e,r)}))){var a=m(o,u+1),l=a[0],c=a[1];try{i.pushState(l,"",c)}catch(h){n.location.assign(c)}v(s)}},replace:function t(e,n){var r=CM.Replace,s=p(e,n);if(g(r,s,(function(){t(e,n)}))){var o=m(s,u),a=o[0],l=o[1];i.replaceState(a,"",l),v(r)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(t){return h.push(t)},block:function(t){var e=f.push(t);return 1===f.length&&n.addEventListener(xM,PM),function(){e(),f.length||n.removeEventListener(xM,PM)}}};return w}function PM(t){t.preventDefault(),t.returnValue=""}function AM(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter((function(t){return t!==e}))}},call:function(e){t.forEach((function(t){return t&&t(e)}))}}}function DM(){return Math.random().toString(36).substr(2,8)}function RM(t){var e=t.pathname,n=void 0===e?"/":e,i=t.search,r=void 0===i?"":i,s=t.hash,o=void 0===s?"":s;return r&&"?"!==r&&(n+="?"===r.charAt(0)?r:"?"+r),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function LM(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}const jM=(0,e.createContext)(null);const FM=(0,e.createContext)(null);const VM=(0,e.createContext)({outlet:null,matches:[]});function zM(t,e){if(!t)throw new Error(e)}function UM(t,e,n){void 0===n&&(n="/");let i=tN(("string"===typeof e?LM(e):e).pathname||"/",n);if(null==i)return null;let r=BM(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(r);let s=null;for(let o=0;null==s&&o<r.length;++o)s=YM(r[o],i);return s}function BM(t,e,n,i){return void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===i&&(i=""),t.forEach(((t,r)=>{let s={relativePath:t.path||"",caseSensitive:!0===t.caseSensitive,childrenIndex:r,route:t};s.relativePath.startsWith("/")&&(s.relativePath.startsWith(i)||zM(!1),s.relativePath=s.relativePath.slice(i.length));let o=eN([i,s.relativePath]),a=n.concat(s);t.children&&t.children.length>0&&(!0===t.index&&zM(!1),BM(t.children,e,a,o)),(null!=t.path||t.index)&&e.push({path:o,score:$M(o,t.index),routesMeta:a})})),e}const WM=/^:\w+$/,qM=3,HM=2,GM=1,KM=10,QM=-2,XM=t=>"*"===t;function $M(t,e){let n=t.split("/"),i=n.length;return n.some(XM)&&(i+=QM),e&&(i+=HM),n.filter((t=>!XM(t))).reduce(((t,e)=>t+(WM.test(e)?qM:""===e?GM:KM)),i)}function YM(t,e){let{routesMeta:n}=t,i={},r="/",s=[];for(let o=0;o<n.length;++o){let t=n[o],a=o===n.length-1,l="/"===r?e:e.slice(r.length)||"/",u=JM({path:t.relativePath,caseSensitive:t.caseSensitive,end:a},l);if(!u)return null;Object.assign(i,u.params);let c=t.route;s.push({params:i,pathname:eN([r,u.pathname]),pathnameBase:nN(eN([r,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(r=eN([r,u.pathnameBase]))}return s}function JM(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((t,e)=>(i.push(e),"([^\\/]+)")));t.endsWith("*")?(i.push("*"),r+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):r+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";let s=new RegExp(r,e?void 0:"i");return[s,i]}(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce(((t,e,n)=>{if("*"===e){let t=a[n]||"";o=s.slice(0,s.length-t.length).replace(/(.)\/+$/,"$1")}return t[e]=function(t,e){try{return decodeURIComponent(t)}catch(n){return t}}(a[n]||""),t}),{}),pathname:s,pathnameBase:o,pattern:t}}function ZM(t,e,n){let i,r="string"===typeof t?LM(t):t,s=""===t||""===r.pathname?"/":r.pathname;if(null==s)i=n;else{let t=e.length-1;if(s.startsWith("..")){let e=s.split("/");for(;".."===e[0];)e.shift(),t-=1;r.pathname=e.join("/")}i=t>=0?e[t]:"/"}let o=function(t,e){void 0===e&&(e="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof t?LM(t):t,s=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:s,search:iN(i),hash:rN(r)}}(r,i);return s&&"/"!==s&&s.endsWith("/")&&!o.pathname.endsWith("/")&&(o.pathname+="/"),o}function tN(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&"/"!==n?null:t.slice(e.length)||"/"}const eN=t=>t.join("/").replace(/\/\/+/g,"/"),nN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iN=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",rN=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";function sN(t){oN()||zM(!1);let{basename:n,navigator:i}=(0,e.useContext)(jM),{hash:r,pathname:s,search:o}=uN(t),a=s;if("/"!==n){let e=function(t){return""===t||""===t.pathname?"/":"string"===typeof t?LM(t).pathname:t.pathname}(t),i=null!=e&&e.endsWith("/");a="/"===s?n+(i?"/":""):eN([n,s])}return i.createHref({pathname:a,search:o,hash:r})}function oN(){return null!=(0,e.useContext)(FM)}function aN(){return oN()||zM(!1),(0,e.useContext)(FM).location}function lN(){oN()||zM(!1);let{basename:t,navigator:n}=(0,e.useContext)(jM),{matches:i}=(0,e.useContext)(VM),{pathname:r}=aN(),s=JSON.stringify(i.map((t=>t.pathnameBase))),o=(0,e.useRef)(!1);(0,e.useEffect)((()=>{o.current=!0}));let a=(0,e.useCallback)((function(e,i){if(void 0===i&&(i={}),!o.current)return;if("number"===typeof e)return void n.go(e);let a=ZM(e,JSON.parse(s),r);"/"!==t&&(a.pathname=eN([t,a.pathname])),(i.replace?n.replace:n.push)(a,i.state)}),[t,n,s,r]);return a}function uN(t){let{matches:n}=(0,e.useContext)(VM),{pathname:i}=aN(),r=JSON.stringify(n.map((t=>t.pathnameBase)));return(0,e.useMemo)((()=>ZM(t,JSON.parse(r),i)),[t,r,i])}function cN(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight(((i,r,s)=>(0,e.createElement)(VM.Provider,{children:void 0!==r.route.element?r.route.element:i,value:{outlet:i,matches:n.concat(t.slice(0,s+1))}})),null)}function hN(t){zM(!1)}function fN(t){let{basename:n="/",children:i=null,location:r,navigationType:s=CM.Pop,navigator:o,static:a=!1}=t;oN()&&zM(!1);let l=nN(n),u=(0,e.useMemo)((()=>({basename:l,navigator:o,static:a})),[l,o,a]);"string"===typeof r&&(r=LM(r));let{pathname:c="/",search:h="",hash:f="",state:d=null,key:p="default"}=r,m=(0,e.useMemo)((()=>{let t=tN(c,l);return null==t?null:{pathname:t,search:h,hash:f,state:d,key:p}}),[l,c,h,f,d,p]);return null==m?null:(0,e.createElement)(jM.Provider,{value:u},(0,e.createElement)(FM.Provider,{children:i,value:{location:m,navigationType:s}}))}function dN(t){let{children:n,location:i}=t;return function(t,n){oN()||zM(!1);let{matches:i}=(0,e.useContext)(VM),r=i[i.length-1],s=r?r.params:{},o=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;let a,l=aN();if(n){var u;let t="string"===typeof n?LM(n):n;"/"===o||(null==(u=t.pathname)?void 0:u.startsWith(o))||zM(!1),a=t}else a=l;let c=a.pathname||"/",h=UM(t,{pathname:"/"===o?c:c.slice(o.length)||"/"});return cN(h&&h.map((t=>Object.assign({},t,{params:Object.assign({},s,t.params),pathname:eN([o,t.pathname]),pathnameBase:"/"===t.pathnameBase?o:eN([o,t.pathnameBase])}))),i)}(pN(n),i)}function pN(t){let n=[];return e.Children.forEach(t,(t=>{if(!(0,e.isValidElement)(t))return;if(t.type===e.Fragment)return void n.push.apply(n,pN(t.props.children));t.type!==hN&&zM(!1);let i={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(i.children=pN(t.props.children)),n.push(i)})),n}function mN(){return mN=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},mN.apply(this,arguments)}function gN(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}const vN=["onClick","reloadDocument","replace","state","target","to"];function yN(t){let{basename:n,children:i,window:r}=t,s=(0,e.useRef)();null==s.current&&(s.current=OM({window:r}));let o=s.current,[a,l]=(0,e.useState)({action:o.action,location:o.location});return(0,e.useLayoutEffect)((()=>o.listen(l)),[o]),(0,e.createElement)(fN,{basename:n,children:i,location:a.location,navigationType:a.action,navigator:o})}const wN=(0,e.forwardRef)((function(t,n){let{onClick:i,reloadDocument:r,replace:s=!1,state:o,target:a,to:l}=t,u=gN(t,vN),c=sN(l),h=function(t,n){let{target:i,replace:r,state:s}=void 0===n?{}:n,o=lN(),a=aN(),l=uN(t);return(0,e.useCallback)((e=>{if(0===e.button&&(!i||"_self"===i)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(e)){e.preventDefault();let n=!!r||RM(a)===RM(l);o(t,{replace:n,state:s})}}),[a,o,l,r,s,i,t])}(l,{replace:s,state:o,target:a});return(0,e.createElement)("a",mN({},u,{href:c,onClick:function(t){i&&i(t),t.defaultPrevented||r||h(t)},ref:n,target:a}))}));const bN=t=>{const n=le((t=>t.userData.value));var i=(0,e.useRef)(),r=t.display.displayLogin,s=t.display.updateDisplayLogin;return(0,e.useEffect)((()=>{i.current=n}),[n]),r&&null!==n?(0,Bk.jsx)("div",{className:"signOut_outer",children:(0,Bk.jsxs)("div",{className:"signOut_innerbox",children:[(0,Bk.jsx)("div",{className:"signOut_logo",children:(0,Bk.jsx)("h1",{children:" My Account "})}),(0,Bk.jsx)("div",{className:"login_line"}),(0,Bk.jsx)("div",{className:"signOut_icon",children:(0,Bk.jsx)("i",{className:"fa-solid fa-dragon fa-4x"})}),(0,Bk.jsxs)("div",{className:"signOut_email",children:["You are currenly signed in with this email address",(0,Bk.jsx)("br",{}),(0,Bk.jsx)("br",{}),n]}),(0,Bk.jsxs)("div",{className:"signOut_login",children:["Sign Out?",(0,Bk.jsx)(wN,{to:"/create_account",className:"login_login_link",onClick:()=>{(function(t){return Ma(t).signOut()})(Dk).then((()=>{s(!1)})).catch((t=>{}))},children:" here"})]}),(0,Bk.jsx)("i",{onClick:()=>s(!1),className:"fa-solid fa-location-crosshairs fa-2x"})]})}):""},_N=t=>{const[n,i]=(0,e.useState)(),[r,s]=(0,e.useState)(),[o,a]=(0,e.useState)(""),l=le((t=>t.userData.value));var u=t.display.displayLogin,c=t.display.updateDisplayLogin;return u&&null===l?(0,Bk.jsx)("div",{className:"login_outer",children:(0,Bk.jsxs)("div",{className:"login_innerbox",children:[(0,Bk.jsx)("div",{className:"login_logo",children:(0,Bk.jsx)("h1",{children:"Log in "})}),(0,Bk.jsx)("div",{className:"login_signupUsing",children:(0,Bk.jsx)("p",{children:"Log in using :"})}),(0,Bk.jsxs)("div",{className:"login_signupOptions",children:[(0,Bk.jsx)("i",{onClick:function(){const t=new Zu;Wc(Dk,t).then((t=>{Zu.credentialFromResult(t).accessToken;console.log(t);t.user;t&&c(!1)})).catch((t=>{console.log(t);t.code,t.message,t.customData.email,Zu.credentialFromError(t)}))},className:"fa-brands fa-github fa-2x"}),(0,Bk.jsx)("i",{onClick:function(){const t=new Ju;Wc(Dk,t).then((t=>{Ju.credentialFromResult(t).accessToken,t.user;t&&c(!1)})).catch((t=>{console.log(t);t.code,t.message,t.customData.email,Ju.credentialFromError(t);console.log(t)}))},className:"fa-brands fa-google fa-2x"})]}),(0,Bk.jsx)("div",{className:"login_or",children:(0,Bk.jsx)("p",{children:"or sign in:"})}),(0,Bk.jsxs)("form",{onSubmit:t=>{t.preventDefault(),function(t,e,n){return uc(Ma(t),Qu.credential(e,n))}(Dk,n,r).then((t=>{t.user;c(!1),a("")})).catch((t=>{const e=t.code;t.message;a(e)}))},children:[(0,Bk.jsxs)("div",{className:"login_input",children:[(0,Bk.jsx)("div",{className:"login_error",children:o}),(0,Bk.jsx)("input",{type:"email",className:"login_email",placeholder:"Email",value:n,onChange:function(t){i(t.target.value)},required:!0}),(0,Bk.jsx)("input",{type:"text",className:"login_password",placeholder:"Password",value:r,onChange:function(t){s(t.target.value)},required:!0})]}),(0,Bk.jsx)("div",{className:"login_signup",children:(0,Bk.jsx)("button",{type:"submit",className:"login_button",children:"Log in "})})]}),(0,Bk.jsxs)("div",{className:"login_login",children:["Create account?",(0,Bk.jsx)(wN,{to:"/create_account",className:"login_login_link",children:" click here"})]}),(0,Bk.jsx)("i",{onClick:()=>c(!1),className:"fa-solid fa-location-crosshairs fa-2x"})]})}):" "};const SN=function(){(0,e.useRef)();const t=ve(),n=le((t=>t.chartClicked.value)),i=le((t=>t.userData.value)),[r,s]=(0,e.useState)(!1),[o,a]=(0,e.useState)(!1),[l,u]=(0,e.useState)(!1);return(0,Bk.jsxs)("nav",{className:"NavbarItems",children:[(0,Bk.jsx)("div",{className:"menu-icon container",onClick:()=>{s(!r)},children:(0,Bk.jsx)("div",{className:"menu-icon",children:(0,Bk.jsx)("i",{className:r?"fas fa-times":"fas fa-bars"})})}),(0,Bk.jsx)("div",{className:"menu-icon container",onClick:()=>t(EM(!n)),children:(0,Bk.jsx)("div",{className:"menu-icon",children:(0,Bk.jsx)("i",{className:n?"fa-solid fa-toggle-on":"fa-solid fa-toggle-off"})})}),(0,Bk.jsx)("div",{className:"menu-icon container",id:"userLoginButton",onClick:()=>u(!l),children:(0,Bk.jsxs)("div",{className:"menu-icon",id:"login-menu-icon",children:[(0,Bk.jsx)("label",{className:"fontm",children:i?"Sign Out":"Sign In"}),(0,Bk.jsx)("i",{className:i?"fa-solid fa-user-check":"fa-solid fa-user-xmark"})]})}),(0,Bk.jsx)(_N,{display:{displayLogin:l,updateDisplayLogin:u}}),(0,Bk.jsx)(bN,{display:{displayLogin:l,updateDisplayLogin:u}}),(0,Bk.jsx)("ul",{className:r?"nav-menu active":"nav-menu",children:[{title:"Portfolio Tracker (Coming Soon)",url:"google.com",cName:"nav-links"}].map(((t,e)=>(0,Bk.jsx)("li",{children:(0,Bk.jsx)("a",{className:t.cName,href:t.url,children:t.title})},e)))})]})};function EN(){return(0,Bk.jsx)("div",{className:"footer",children:(0,Bk.jsx)("div",{className:"footerInfo",children:(0,Bk.jsxs)("p",{children:["v4 - Hamz raise an issue  ",(0,Bk.jsx)("a",{href:"https://github.com/Hamz-06/crypto-position-calculator",children:" here "})]})})})}const kN=Yn({name:"loading",initialState:{value:!1},reducers:{setLoading:(t,e)=>{t.value=e.payload}}}),{setLoading:TN}=kN.actions,CN=kN.reducer;function IN(){const t=le((t=>t.userId.value)),n=le((t=>t.newTrade.value)),i=le((t=>t.loading.value)),r=ve();(0,e.useEffect)((()=>{t&&Lk(t).then((t=>{r(ti(t))})).catch((t=>{console.log(t)}))}),[t]);const s=()=>{if(t)return n.map(((e,s)=>{const o=Yt(e.date).split(",");return(0,Bk.jsxs)(Jo.tr,{children:[(0,Bk.jsxs)("td",{children:[o[0],(0,Bk.jsx)("br",{}),o[1]]}),(0,Bk.jsx)("td",{children:(0,Bk.jsxs)("div",{children:[e.cryptoCoin,(0,Bk.jsx)("img",{src:$t(e.cryptoCoin),alt:"alternatetext"})]})}),(0,Bk.jsx)("td",{children:e.entryPrice}),(0,Bk.jsx)("td",{children:e.posType}),(0,Bk.jsx)("td",{children:(0,Bk.jsx)("button",{onClick:()=>async function(e,i){const s=n.filter(((t,n)=>e!==n));try{r(TN(!0)),await Fk(i,t)}catch(o){}finally{r(ei(s)),r(TN(!1))}}(s,e.date),disabled:i,children:(0,Bk.jsx)("i",{className:"fa-solid fa-trash-can"})})})]},s)}))};return(0,Bk.jsx)(Bk.Fragment,{children:(0,Bk.jsxs)("div",{className:"tracker_table_container",children:[t?"":(0,Bk.jsx)("p",{className:"signInPrompt",children:"Please sign in"}),(0,Bk.jsx)("div",{className:"tracker_table",children:(0,Bk.jsxs)("table",{children:[(0,Bk.jsx)("thead",{children:(0,Bk.jsxs)("tr",{children:[(0,Bk.jsx)("th",{children:"Trade Taken"}),(0,Bk.jsx)("th",{children:"Symbol"}),(0,Bk.jsx)("th",{children:"Entry Price"}),(0,Bk.jsx)("th",{children:"Long/Short"}),(0,Bk.jsx)("th",{children:"Delete"})]})}),(0,Bk.jsx)("tbody",{children:(0,Bk.jsx)(s,{})})]})}),(0,Bk.jsx)("a",{href:"https://hamz-06.github.io/crypto-position-calculator/#/view_trades&potfolio",className:"tracker_moreInfo_icon",target:"_blank",children:(0,Bk.jsx)("i",{className:"fa-solid fa-pen-to-square"})})]})})}function xN(){const t=le((t=>t.chartClicked.value)),n=Mo({to:{opacity:1,y:0},from:{opacity:0,y:300}}),i=(0,e.useCallback)((()=>(0,Bk.jsx)(_M,{})),[]),r=(0,e.useCallback)((()=>(0,Bk.jsx)(IN,{})),[]);return(0,Bk.jsxs)(Bk.Fragment,{children:[(0,Bk.jsx)(SN,{}),(0,Bk.jsx)("div",{className:"homePage_outer",children:(0,Bk.jsxs)("div",{className:"homePage_row",children:[(0,Bk.jsx)(Jo.div,{className:"homePage_cal_tab",style:n,children:(0,Bk.jsx)(Wk,{})}),(0,Bk.jsxs)("div",{className:"homePage_second_tab",style:{display:t?"block":"none"},children:[(0,Bk.jsx)("div",{className:"homePage_second_tab_chart",children:(0,Bk.jsx)(i,{})}),(0,Bk.jsx)("div",{className:"homePage_second_tab_tracker",children:(0,Bk.jsx)(r,{})})]})]})}),(0,Bk.jsx)(EN,{})]})}function MN(){const[t,n]=(0,e.useState)(""),[i,r]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),a=lN();return(0,Bk.jsxs)(Bk.Fragment,{children:[(0,Bk.jsx)("div",{className:"createAccount_outer",children:(0,Bk.jsxs)("div",{className:"createAccount_innerbox",children:[(0,Bk.jsx)("div",{className:"createAccount_logo",children:(0,Bk.jsx)("h1",{children:"Create Account"})}),(0,Bk.jsx)("div",{className:"createAccount_signupUsing",children:(0,Bk.jsx)("p",{children:"Create Account using :"})}),(0,Bk.jsxs)("div",{className:"createAccount_signupOptions",children:[(0,Bk.jsx)("i",{onClick:function(){const t=new Zu;Wc(Dk,t).then((t=>{Zu.credentialFromResult(t).accessToken,t.user;t&&a("/")})).catch((t=>{t.code,t.message,t.customData.email,Zu.credentialFromError(t)}))},className:"fa-brands fa-github fa-2x"}),(0,Bk.jsx)("i",{onClick:function(){const t=new Ju;Wc(Dk,t).then((t=>{Ju.credentialFromResult(t).accessToken,t.user;t&&a("/")})).catch((t=>{console.log(t);t.code,t.message,t.customData.email,Ju.credentialFromError(t);console.log(t)}))},className:"fa-brands fa-google fa-2x"})]}),(0,Bk.jsx)("div",{className:"createAccount_or",children:(0,Bk.jsx)("p",{children:"or :"})}),(0,Bk.jsxs)("form",{onSubmit:function(e){e.preventDefault(),async function(t,e,n){const i=Fu(t),r=await ec(i,{returnSecureToken:!0,email:e,password:n}),s=await nc._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(s.user),s}(Dk,t,i).then((t=>{console.log(t),t&&a("/")})).catch((t=>{o(t.code)}))},children:[(0,Bk.jsxs)("div",{className:"createAccount_input",children:[(0,Bk.jsx)("div",{className:"createAccount_error",children:s}),(0,Bk.jsx)("input",{type:"email",className:"createAccount_email",placeholder:"Email",value:t,onChange:function(t){n(t.target.value)},required:!0}),(0,Bk.jsx)("input",{type:"text",className:"createAccount_password",placeholder:"Password",value:i,onChange:function(t){r(t.target.value)},required:!0})]}),(0,Bk.jsx)("div",{className:"createAccount_signup",children:(0,Bk.jsx)("button",{type:"submit",className:"createAccount_button",children:" Create Account "})})]}),(0,Bk.jsxs)("div",{className:"createAccount_login",children:["have an account?",(0,Bk.jsx)(wN,{to:"/",className:"createAccount_login_link",children:" log in"})]})]})}),(0,Bk.jsx)(EN,{})]})}const NN=Yn({name:"userData",initialState:{value:null},reducers:{setUserData:(t,e)=>{t.value=e.payload}}}),{setUserData:ON}=NN.actions,PN=NN.reducer,AN=Yn({name:"userId",initialState:{value:null},reducers:{setUserId:(t,e)=>{t.value=e.payload}}}),{setUserId:DN}=AN.actions,RN=AN.reducer,LN=()=>(0,Bk.jsx)("div",{className:"ViewTrades_Port_outer",children:"Coming soon"});const jN=function(){const t=ve(),[n,i]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{const e=function(t,e,n,i){return Ma(t).onAuthStateChanged(e,n,i)}(Dk,(e=>{if(e){const n=e.uid;t(ON(e.email)),t(DN(n)),Rk(n)}else t(ON(null)),t(DN(null))}));return i(!0),e}),[]),(0,Bk.jsx)(Bk.Fragment,{children:n?(0,Bk.jsx)(yN,{basename:"/",children:(0,Bk.jsxs)(dN,{children:[(0,Bk.jsx)(hN,{exact:!0,path:"/",element:(0,Bk.jsx)(xN,{})}),(0,Bk.jsx)(hN,{path:"/create_account",element:(0,Bk.jsx)(MN,{})}),(0,Bk.jsx)(hN,{path:"/view_trades&potfolio",element:(0,Bk.jsx)(LN,{})})]})}):null})},FN=t=>{t&&t instanceof Function&&n.e(787).then(n.bind(n,787)).then((e=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:s,getTTFB:o}=e;n(t),i(t),r(t),s(t),o(t)}))},VN=Yn({name:"allTrades",initialState:{value:null},reducers:{setAllTrades:(t,e)=>{t.value=e.payload}}}),{setAllTrades:zN}=VN.actions,UN=function(t){var e,n=Qn(),i=t||{},r=i.reducer,s=void 0===r?void 0:r,o=i.middleware,a=void 0===o?n():o,l=i.devTools,u=void 0===l||l,c=i.preloadedState,h=void 0===c?void 0:c,f=i.enhancers,d=void 0===f?void 0:f;if("function"===typeof s)e=s;else{if(!Gn(s))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=On(s)}var p=a;"function"===typeof p&&(p=p(n));var m=An.apply(void 0,p),g=Pn;u&&(g=Hn(qn({trace:!1},"object"===typeof u&&u)));var v=[m];return Array.isArray(d)?v=Fn([m],d):"function"===typeof d&&(v=d(v)),Nn(e,h,g.apply(void 0,v))}({reducer:{chartClicked:kM,userData:PN,userId:RN,newTrade:ni,extraInfo:Uk,allTrades:VN.reducer,paramClick:wM,calcInfo:si,cryptoCoin:ea,loading:CN}});i.createRoot(document.getElementById("root")).render((0,Bk.jsx)(de,{store:UN,children:(0,Bk.jsx)(jN,{})})),FN()})()})();
//# sourceMappingURL=main.97feb019.js.map